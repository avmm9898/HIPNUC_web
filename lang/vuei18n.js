!function(a,b){"object"===typeof exports&&"undefined"!==typeof module?module.exports=b():"function"===typeof define&&define.amd?define(b):a.VueI18n=b()}(this,function(){"use strict";function b(a,b){"undefined"!==typeof console&&(console.warn("[vue-i18n] "+a),b&&console.warn(b.stack))}function c(a,b){"undefined"!==typeof console&&(console.error("[vue-i18n] "+a),b&&console.error(b.stack))}function d(a){return null!==a&&"object"===typeof a}function g(a){return e.call(a)===f}function h(a){return null===a||void 0===a}function i(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];var c=null,e=null;return 1===a.length?d(a[0])||Array.isArray(a[0])?e=a[0]:"string"===typeof a[0]&&(c=a[0]):2===a.length&&("string"===typeof a[0]&&(c=a[0]),(d(a[1])||Array.isArray(a[1]))&&(e=a[1])),{locale:c,params:e}}function j(a){return JSON.parse(JSON.stringify(a))}function k(a,b){if(a.length){var c=a.indexOf(b);if(c>-1)return a.splice(c,1)}}function m(a,b){return l.call(a,b)}function n(a){for(var b=arguments,c=Object(a),e=1;e<arguments.length;e++){var f=b[e];if(void 0!==f&&null!==f){var g=void 0;for(g in f)m(f,g)&&(c[g]=d(f[g])?n(c[g],f[g]):f[g])}}return c}function o(a,b){if(a===b)return!0;var c=d(a),e=d(b);if(!c||!e)return c||e?!1:String(a)===String(b);try{var f=Array.isArray(a),g=Array.isArray(b);if(f&&g)return a.length===b.length&&a.every(function(a,c){return o(a,b[c])});if(f||g)return!1;var h=Object.keys(a),i=Object.keys(b);return h.length===i.length&&h.every(function(c){return o(a[c],b[c])})}catch(j){return!1}}function p(a){a.prototype.hasOwnProperty("$i18n")||Object.defineProperty(a.prototype,"$i18n",{get:function(){return this._i18n}}),a.prototype.$t=function(a){for(var b=[],c=arguments.length-1;c-->0;)b[c]=arguments[c+1];var d=this.$i18n;return d._t.apply(d,[a,d.locale,d._getMessages(),this].concat(b))},a.prototype.$tc=function(a,b){for(var c=[],d=arguments.length-2;d-->0;)c[d]=arguments[d+2];var e=this.$i18n;return e._tc.apply(e,[a,e.locale,e._getMessages(),this,b].concat(c))},a.prototype.$te=function(a,b){var c=this.$i18n;return c._te(a,c.locale,c._getMessages(),b)},a.prototype.$d=function(a){for(var b,c=[],d=arguments.length-1;d-->0;)c[d]=arguments[d+1];return(b=this.$i18n).d.apply(b,[a].concat(c))},a.prototype.$n=function(a){for(var b,c=[],d=arguments.length-1;d-->0;)c[d]=arguments[d+1];return(b=this.$i18n).n.apply(b,[a].concat(c))}}function s(a){var b;for(b in a)if("default"!==b)return!1;return Boolean(b)}function t(a,c){var d=c?u(c):{};if(!a)return d;a=a.filter(function(a){return a.tag||""!==a.text.trim()});var e=a.every(x);return e&&b("`place` attribute is deprecated in next major version. Please switch to Vue slots."),a.reduce(e?v:w,d)}function u(a){return b("`places` prop is deprecated in next major version. Please switch to Vue slots."),Array.isArray(a)?a.reduce(w,{}):Object.assign({},a)}function v(a,b){return b.data&&b.data.attrs&&b.data.attrs.place&&(a[b.data.attrs.place]=b),a}function w(a,b,c){return a[c]=b,a}function x(a){return Boolean(a.data&&a.data.attrs&&a.data.attrs.place)}function z(a,b,c){C(a,c)&&E(a,b,c)}function A(a,b,c){if(C(a,c)){var e=c.context.$i18n;D(a,c)&&o(b.value,b.oldValue)&&o(a._localeMessage,e.getLocaleMessage(e.locale))||E(a,b,c)}}function B(a,c,d){var f=d.context;if(!f)return void b("Vue instance does not exists in VNode context");var g=d.context.$i18n||{};c.modifiers.preserve||g.preserveDirectiveContent||(a.textContent=""),a._vt=void 0,delete a._vt,a._locale=void 0,delete a._locale,a._localeMessage=void 0,delete a._localeMessage}function C(a,c){var d=c.context;return d?d.$i18n?!0:(b("VueI18n instance does not exists in Vue instance"),!1):(b("Vue instance does not exists in VNode context"),!1)}function D(a,b){var c=b.context;return a._locale===c.$i18n.locale}function E(a,c,d){var e,f,g=c.value,h=F(g),i=h.path,j=h.locale,k=h.args,l=h.choice;if(!i&&!j&&!k)return void b("value type not supported");if(!i)return void b("`path` is required in v-t directive");var m=d.context;a._vt=a.textContent=l?(e=m.$i18n).tc.apply(e,[i,l].concat(G(j,k))):(f=m.$i18n).t.apply(f,[i].concat(G(j,k))),a._locale=m.$i18n.locale,a._localeMessage=m.$i18n.getLocaleMessage(m.$i18n.locale)}function F(a){var b,c,d,e;return"string"===typeof a?b=a:g(a)&&(b=a.path,c=a.locale,d=a.args,e=a.choice),{path:b,locale:c,args:d,choice:e}}function G(a,b){var c=[];return a&&c.push(a),b&&(Array.isArray(b)||g(b))&&c.push(b),c}function I(a){if(I.installed&&a===H)return void b("already installed.");I.installed=!0,H=a;var c=H.version&&Number(H.version.split(".")[0])||-1;if(c<2)return void b("vue-i18n ("+I.version+") need to use Vue 2.0 or later (Vue: "+H.version+").");p(H),H.mixin(q),H.directive("t",{bind:z,update:A,unbind:B}),H.component(r.name,r),H.component(y.name,y);var d=H.config.optionMergeStrategies;d.i18n=function(a,b){return void 0===b?a:b}}function M(a){for(var b=[],c=0,d="";c<a.length;){var e=a[c++];if("{"===e){d&&b.push({type:"text",value:d}),d="";var f="";for(e=a[c++];void 0!==e&&"}"!==e;)f+=e,e=a[c++];var g="}"===e,h=K.test(f)?"list":g&&L.test(f)?"named":"unknown";b.push({value:f,type:h})}else"%"===e?"{"!==a[c]&&(d+=e):d+=e}return d&&b.push({type:"text",value:d}),b}function N(a,c){var e=[],f=0,g=Array.isArray(c)?"list":d(c)?"named":"unknown";if("unknown"===g)return e;for(;f<a.length;){var h=a[f];switch(h.type){case"text":e.push(h.value);break;case"list":e.push(c[parseInt(h.value,10)]);break;case"named":"named"===g?e.push(c[h.value]):b("Type of token '"+h.type+"' and format of value '"+g+"' don't match!");break;case"unknown":b("Detect 'unknown' type of token!")}f++}return e}function bb(a){return ab.test(a)}function cb(a){var b=a.charCodeAt(0),c=a.charCodeAt(a.length-1);return b!==c||34!==b&&39!==b?a:a.slice(1,-1)}function db(a){if(void 0===a||null===a)return"eof";var b=a.charCodeAt(0);switch(b){case 91:case 93:case 46:case 34:case 39:return a;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function eb(a){var b=a.trim();return"0"===a.charAt(0)&&isNaN(a)?!1:bb(b)?cb(b):"*"+b}function fb(a){function n(){var b=a[c+1];return d===X&&"'"===b||d===Y&&'"'===b?(c++,h="\\"+b,m[O](),!0):void 0}var f,g,h,i,j,k,l,b=[],c=-1,d=S,e=0,m=[];for(m[P]=function(){void 0!==g&&(b.push(g),g=void 0)},m[O]=function(){void 0===g?g=h:g+=h},m[Q]=function(){m[O](),e++},m[R]=function(){if(e>0)e--,d=W,m[O]();else{if(e=0,void 0===g)return!1;if(g=eb(g),g===!1)return!1;m[P]()}};null!==d;)if(c++,f=a[c],"\\"!==f||!n()){if(i=db(f),l=_[d],j=l[i]||l["else"]||$,j===$)return;if(d=j[0],k=m[j[1]],k&&(h=j[2],h=void 0===h?f:h,k()===!1))return;if(d===Z)return b}}var H,a=["style","currency","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","localeMatcher","formatMatcher","unit"],e=Object.prototype.toString,f="[object Object]",l=Object.prototype.hasOwnProperty,q={beforeCreate:function(){var a=this.$options;if(a.i18n=a.i18n||(a.__i18n?{}:null),a.i18n)if(a.i18n instanceof nb){if(a.__i18n)try{var d={};a.__i18n.forEach(function(a){d=n(d,JSON.parse(a))}),Object.keys(d).forEach(function(b){a.i18n.mergeLocaleMessage(b,d[b])})}catch(e){c("Cannot parse locale messages via custom blocks.",e)}this._i18n=a.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(g(a.i18n)){if(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof nb&&(a.i18n.root=this.$root,a.i18n.formatter=this.$root.$i18n.formatter,a.i18n.fallbackLocale=this.$root.$i18n.fallbackLocale,a.i18n.formatFallbackMessages=this.$root.$i18n.formatFallbackMessages,a.i18n.silentTranslationWarn=this.$root.$i18n.silentTranslationWarn,a.i18n.silentFallbackWarn=this.$root.$i18n.silentFallbackWarn,a.i18n.pluralizationRules=this.$root.$i18n.pluralizationRules,a.i18n.preserveDirectiveContent=this.$root.$i18n.preserveDirectiveContent),a.__i18n)try{var f={};a.__i18n.forEach(function(a){f=n(f,JSON.parse(a))}),a.i18n.messages=f}catch(e){b("Cannot parse locale messages via custom blocks.",e)}var h=a.i18n,i=h.sharedMessages;i&&g(i)&&(a.i18n.messages=n(a.i18n.messages,i)),this._i18n=new nb(a.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===a.i18n.sync||a.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale())}else b("Cannot be interpreted 'i18n' option.");else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof nb?this._i18n=this.$root.$i18n:a.parent&&a.parent.$i18n&&a.parent.$i18n instanceof nb&&(this._i18n=a.parent.$i18n)},beforeMount:function(){var a=this.$options;a.i18n=a.i18n||(a.__i18n?{}:null),a.i18n?a.i18n instanceof nb?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):g(a.i18n)?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):b("Cannot be interpreted 'i18n' option."):this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof nb?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):a.parent&&a.parent.$i18n&&a.parent.$i18n instanceof nb&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},beforeDestroy:function(){if(this._i18n){var a=this;this.$nextTick(function(){a._subscribing&&(a._i18n.unsubscribeDataChanging(a),delete a._subscribing),a._i18nWatcher&&(a._i18nWatcher(),a._i18n.destroyVM(),delete a._i18nWatcher),a._localeWatcher&&(a._localeWatcher(),delete a._localeWatcher),a._i18n=null})}}},r={name:"i18n",functional:!0,props:{tag:{type:String},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(a,c){var d=c.data,e=c.parent,f=c.props,g=c.slots,h=e.$i18n;if(!h)return void b("Cannot find VueI18n instance!");var i=f.path,j=f.locale,k=f.places,l=g(),m=h.i(i,j,s(l)||k?t(l.default,k):l),n=f.tag||"span";return n?a(n,d,m):m}},y={name:"i18n-n",functional:!0,props:{tag:{type:String,"default":"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(c,e){var f=e.props,g=e.parent,h=e.data,i=g.$i18n;if(!i)return b("Cannot find VueI18n instance!"),null;var j=null,k=null;"string"===typeof f.format?j=f.format:d(f.format)&&(f.format.key&&(j=f.format.key),k=Object.keys(f.format).reduce(function(b,c){var d;return a.includes(c)?Object.assign({},b,(d={},d[c]=f.format[c],d)):b},null));var l=f.locale||i.locale,m=i._ntp(f.value,l,j,k),n=m.map(function(a,b){var c,d=h.scopedSlots&&h.scopedSlots[a.type];return d?d((c={},c[a.type]=a.value,c.index=b,c.parts=m,c)):a.value});return c(f.tag,{attrs:h.attrs,"class":h["class"],staticClass:h.staticClass},n)}},J=function(){this._caches=Object.create(null)};J.prototype.interpolate=function(a,b){if(!b)return[a];var c=this._caches[a];return c||(c=M(a),this._caches[a]=c),N(c,b)};var K=/^(?:\d)+/,L=/^(?:\w)+/,O=0,P=1,Q=2,R=3,S=0,T=1,U=2,V=3,W=4,X=5,Y=6,Z=7,$=8,_=[];_[S]={ws:[S],ident:[V,O],"[":[W],eof:[Z]},_[T]={ws:[T],".":[U],"[":[W],eof:[Z]},_[U]={ws:[U],ident:[V,O],0:[V,O],number:[V,O]},_[V]={ident:[V,O],0:[V,O],number:[V,O],ws:[T,P],".":[U,P],"[":[W,P],eof:[Z,P]},_[W]={"'":[X,O],'"':[Y,O],"[":[W,Q],"]":[T,R],eof:$,"else":[W,O]},_[X]={"'":[W,O],eof:$,"else":[X,O]},_[Y]={'"':[W,O],eof:$,"else":[Y,O]};var ab=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/,gb=function(){this._cache=Object.create(null)};gb.prototype.parsePath=function(a){var b=this._cache[a];return b||(b=fb(a),b&&(this._cache[a]=b)),b||[]},gb.prototype.getPathValue=function(a,b){if(!d(a))return null;var c=this.parsePath(b);if(0===c.length)return null;for(var e=c.length,f=a,g=0;g<e;){var h=f[c[g]];if(void 0===h)return null;f=h,g++}return f};var hb=/<\/?[\w\s="\/.':;#-\/]+>/,ib=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|.]+|\([\w\-_|.]+\)))/g,jb=/^@(?:\.([a-z]+))?:/,kb=/[()]/g,lb={upper:function(a){return a.toLocaleUpperCase()},lower:function(a){return a.toLocaleLowerCase()}},mb=new J,nb=function(a){var b=this;void 0===a&&(a={}),!H&&"undefined"!==typeof window&&window.Vue&&I(window.Vue);var c=a.locale||"en-US",d=a.fallbackLocale||"en-US",e=a.messages||{},f=a.dateTimeFormats||{},g=a.numberFormats||{};this._vm=null,this._formatter=a.formatter||mb,this._modifiers=a.modifiers||{},this._missing=a.missing||null,this._root=a.root||null,this._sync=void 0===a.sync?!0:!!a.sync,this._fallbackRoot=void 0===a.fallbackRoot?!0:!!a.fallbackRoot,this._formatFallbackMessages=void 0===a.formatFallbackMessages?!1:!!a.formatFallbackMessages,this._silentTranslationWarn=void 0===a.silentTranslationWarn?!1:a.silentTranslationWarn,this._silentFallbackWarn=void 0===a.silentFallbackWarn?!1:!!a.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new gb,this._dataListeners=[],this._preserveDirectiveContent=void 0===a.preserveDirectiveContent?!1:!!a.preserveDirectiveContent,this.pluralizationRules=a.pluralizationRules||{},this._warnHtmlInMessage=a.warnHtmlInMessage||"off",this._exist=function(a,c){return a&&c?h(b._path.getPathValue(a,c))?a[c]?!0:!1:!0:!1},("warn"===this._warnHtmlInMessage||"error"===this._warnHtmlInMessage)&&Object.keys(e).forEach(function(a){b._checkLocaleMessage(a,b._warnHtmlInMessage,e[a])}),this._initVM({locale:c,fallbackLocale:d,messages:e,dateTimeFormats:f,numberFormats:g})},ob={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0}};nb.prototype._checkLocaleMessage=function(a,d,e){var f=[],h=function(a,d,e,f){if(g(e))Object.keys(e).forEach(function(b){var c=e[b];g(c)?(f.push(b),f.push("."),h(a,d,c,f),f.pop(),f.pop()):(f.push(b),h(a,d,c,f),f.pop())});else if(Array.isArray(e))e.forEach(function(b,c){g(b)?(f.push("["+c+"]"),f.push("."),h(a,d,b,f),f.pop(),f.pop()):(f.push("["+c+"]"),h(a,d,b,f),f.pop())});else if("string"===typeof e){var i=hb.test(e);if(i){var j="Detected HTML in message '"+e+"' of keypath '"+f.join("")+"' at '"+d+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===a?b(j):"error"===a&&c(j)}}};h(d,a,e,f)},nb.prototype._initVM=function(a){var b=H.config.silent;H.config.silent=!0,this._vm=new H({data:a}),H.config.silent=b},nb.prototype.destroyVM=function(){this._vm.$destroy()},nb.prototype.subscribeDataChanging=function(a){this._dataListeners.push(a)},nb.prototype.unsubscribeDataChanging=function(a){k(this._dataListeners,a)},nb.prototype.watchI18nData=function(){var a=this;return this._vm.$watch("$data",function(){for(var b=a._dataListeners.length;b--;)H.nextTick(function(){a._dataListeners[b]&&a._dataListeners[b].$forceUpdate()})},{deep:!0})},nb.prototype.watchLocale=function(){if(!this._sync||!this._root)return null;var a=this._vm;return this._root.$i18n.vm.$watch("locale",function(b){a.$set(a,"locale",b),a.$forceUpdate()},{immediate:!0})},ob.vm.get=function(){return this._vm},ob.messages.get=function(){return j(this._getMessages())},ob.dateTimeFormats.get=function(){return j(this._getDateTimeFormats())},ob.numberFormats.get=function(){return j(this._getNumberFormats())},ob.availableLocales.get=function(){return Object.keys(this.messages).sort()},ob.locale.get=function(){return this._vm.locale},ob.locale.set=function(a){this._vm.$set(this._vm,"locale",a)},ob.fallbackLocale.get=function(){return this._vm.fallbackLocale},ob.fallbackLocale.set=function(a){this._vm.$set(this._vm,"fallbackLocale",a)},ob.formatFallbackMessages.get=function(){return this._formatFallbackMessages},ob.formatFallbackMessages.set=function(a){this._formatFallbackMessages=a},ob.missing.get=function(){return this._missing},ob.missing.set=function(a){this._missing=a},ob.formatter.get=function(){return this._formatter},ob.formatter.set=function(a){this._formatter=a},ob.silentTranslationWarn.get=function(){return this._silentTranslationWarn},ob.silentTranslationWarn.set=function(a){this._silentTranslationWarn=a},ob.silentFallbackWarn.get=function(){return this._silentFallbackWarn},ob.silentFallbackWarn.set=function(a){this._silentFallbackWarn=a},ob.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},ob.preserveDirectiveContent.set=function(a){this._preserveDirectiveContent=a},ob.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},ob.warnHtmlInMessage.set=function(a){var b=this,c=this._warnHtmlInMessage;if(this._warnHtmlInMessage=a,c!==a&&("warn"===a||"error"===a)){var d=this._getMessages();Object.keys(d).forEach(function(a){b._checkLocaleMessage(a,b._warnHtmlInMessage,d[a])})}},nb.prototype._getMessages=function(){return this._vm.messages},nb.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},nb.prototype._getNumberFormats=function(){return this._vm.numberFormats},nb.prototype._warnDefault=function(a,c,d,e,f){if(!h(d))return d;if(this._missing){var g=this._missing.apply(null,[a,c,e,f]);if("string"===typeof g)return g}else this._isSilentTranslationWarn(c)||b("Cannot translate the value of keypath '"+c+"'. Use the value of keypath as default.");if(this._formatFallbackMessages){var j=i.apply(void 0,f);return this._render(c,"string",j.params,c)}return c},nb.prototype._isFallbackRoot=function(a){return!a&&!h(this._root)&&this._fallbackRoot},nb.prototype._isSilentFallbackWarn=function(a){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(a):this._silentFallbackWarn},nb.prototype._isSilentFallback=function(a,b){return this._isSilentFallbackWarn(b)&&(this._isFallbackRoot()||a!==this.fallbackLocale)},nb.prototype._isSilentTranslationWarn=function(a){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(a):this._silentTranslationWarn},nb.prototype._interpolate=function(a,c,d,e,f,i,j){if(!c)return null;var k=this._path.getPathValue(c,d);if(Array.isArray(k)||g(k))return k;var l;if(h(k)){if(!g(c))return null;if(l=c[d],"string"!==typeof l)return this._isSilentTranslationWarn(d)||this._isSilentFallback(a,d)||b("Value of key '"+d+"' is not a string!"),null}else{if("string"!==typeof k)return this._isSilentTranslationWarn(d)||this._isSilentFallback(a,d)||b("Value of key '"+d+"' is not a string!"),null;l=k}return(l.indexOf("@:")>=0||l.indexOf("@.")>=0)&&(l=this._link(a,c,l,e,"raw",i,j)),this._render(l,f,i,d)},nb.prototype._link=function(a,c,d,e,f,g,h){var i=d,j=i.match(ib);for(var k in j)if(j.hasOwnProperty(k)){var l=j[k],m=l.match(jb),n=m[0],o=m[1],p=l.replace(n,"").replace(kb,"");if(h.includes(p))return b('Circular reference found. "'+l+'" is already visited in the chain of '+h.reverse().join(" <- ")),i;h.push(p);var q=this._interpolate(a,c,p,e,"raw"===f?"string":f,"raw"===f?void 0:g,h);if(this._isFallbackRoot(q)){if(this._isSilentTranslationWarn(p)||b("Fall back to translate the link placeholder '"+p+"' with root locale."),!this._root)throw Error("unexpected error");var r=this._root.$i18n;q=r._translate(r._getMessages(),r.locale,r.fallbackLocale,p,e,f,g)}q=this._warnDefault(a,p,q,e,Array.isArray(g)?g:[g]),this._modifiers.hasOwnProperty(o)?q=this._modifiers[o](q):lb.hasOwnProperty(o)&&(q=lb[o](q)),h.pop(),i=q?i.replace(l,q):i}return i},nb.prototype._render=function(a,b,c,d){var e=this._formatter.interpolate(a,c,d);return e||(e=mb.interpolate(a,c,d)),"string"===b?e.join(""):e},nb.prototype._translate=function(a,c,d,e,f,g,i){var j=this._interpolate(c,a[c],e,f,g,i,[e]);return h(j)?(j=this._interpolate(d,a[d],e,f,g,i,[e]),h(j)?null:(this._isSilentTranslationWarn(e)||this._isSilentFallbackWarn(e)||b("Fall back to translate the keypath '"+e+"' with '"+d+"' locale."),j)):j},nb.prototype._t=function(a,c,d,e){for(var f,g=[],h=arguments.length-4;h-->0;)g[h]=arguments[h+4];if(!a)return"";var j=i.apply(void 0,g),k=j.locale||c,l=this._translate(d,k,this.fallbackLocale,a,e,"string",j.params);if(this._isFallbackRoot(l)){if(this._isSilentTranslationWarn(a)||this._isSilentFallbackWarn(a)||b("Fall back to translate the keypath '"+a+"' with root locale."),!this._root)throw Error("unexpected error");return(f=this._root).$t.apply(f,[a].concat(g))}return this._warnDefault(k,a,l,e,g)},nb.prototype.t=function(a){for(var b,c=[],d=arguments.length-1;d-->0;)c[d]=arguments[d+1];return(b=this)._t.apply(b,[a,this.locale,this._getMessages(),null].concat(c))},nb.prototype._i=function(a,c,d,e,f){var g=this._translate(d,c,this.fallbackLocale,a,e,"raw",f);if(this._isFallbackRoot(g)){if(this._isSilentTranslationWarn(a)||b("Fall back to interpolate the keypath '"+a+"' with root locale."),!this._root)throw Error("unexpected error");return this._root.$i18n.i(a,c,f)}return this._warnDefault(c,a,g,e,[f])},nb.prototype.i=function(a,b,c){return a?("string"!==typeof b&&(b=this.locale),this._i(a,b,this._getMessages(),null,c)):""},nb.prototype._tc=function(a,b,c,d,e){for(var f,g=[],h=arguments.length-5;h-->0;)g[h]=arguments[h+5];if(!a)return"";void 0===e&&(e=1);var j={count:e,n:e},k=i.apply(void 0,g);return k.params=Object.assign(j,k.params),g=null===k.locale?[k.params]:[k.locale,k.params],this.fetchChoice((f=this)._t.apply(f,[a,b,c,d].concat(g)),e)},nb.prototype.fetchChoice=function(a,b){if(!a&&"string"!==typeof a)return null;var c=a.split("|");return b=this.getChoiceIndex(b,c.length),c[b]?c[b].trim():a},nb.prototype.getChoiceIndex=function(a,b){var c=function(a,b){return a=Math.abs(a),2===b?a?a>1?1:0:1:a?Math.min(a,2):0};return this.locale in this.pluralizationRules?this.pluralizationRules[this.locale].apply(this,[a,b]):c(a,b)},nb.prototype.tc=function(a,b){for(var c,d=[],e=arguments.length-2;e-->0;)d[e]=arguments[e+2];return(c=this)._tc.apply(c,[a,this.locale,this._getMessages(),null,b].concat(d))},nb.prototype._te=function(a,b,c){for(var d=[],e=arguments.length-3;e-->0;)d[e]=arguments[e+3];var f=i.apply(void 0,d).locale||b;return this._exist(c[f],a)},nb.prototype.te=function(a,b){return this._te(a,this.locale,this._getMessages(),b)},nb.prototype.getLocaleMessage=function(a){return j(this._vm.messages[a]||{})},nb.prototype.setLocaleMessage=function(a,b){("warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||(this._checkLocaleMessage(a,this._warnHtmlInMessage,b),"error"!==this._warnHtmlInMessage))&&this._vm.$set(this._vm.messages,a,b)},nb.prototype.mergeLocaleMessage=function(a,b){("warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||(this._checkLocaleMessage(a,this._warnHtmlInMessage,b),"error"!==this._warnHtmlInMessage))&&this._vm.$set(this._vm.messages,a,n({},this._vm.messages[a]||{},b))},nb.prototype.getDateTimeFormat=function(a){return j(this._vm.dateTimeFormats[a]||{})},nb.prototype.setDateTimeFormat=function(a,b){this._vm.$set(this._vm.dateTimeFormats,a,b)},nb.prototype.mergeDateTimeFormat=function(a,b){this._vm.$set(this._vm.dateTimeFormats,a,n(this._vm.dateTimeFormats[a]||{},b))},nb.prototype._localizeDateTime=function(a,c,d,e,f){var g=c,i=e[g];if((h(i)||h(i[f]))&&(this._isSilentTranslationWarn(f)||this._isSilentFallbackWarn(f)||b("Fall back to '"+d+"' datetime formats from '"+c+"' datetime formats."),g=d,i=e[g]),h(i)||h(i[f]))return null;var j=i[f],k=g+"__"+f,l=this._dateTimeFormatters[k];return l||(l=this._dateTimeFormatters[k]=new Intl.DateTimeFormat(g,j)),l.format(a)},nb.prototype._d=function(a,c,d){if(!nb.availabilities.dateTimeFormat)return b("Cannot format a Date value due to not supported Intl.DateTimeFormat."),"";if(!d)return new Intl.DateTimeFormat(c).format(a);var e=this._localizeDateTime(a,c,this.fallbackLocale,this._getDateTimeFormats(),d);if(this._isFallbackRoot(e)){if(this._isSilentTranslationWarn(d)||this._isSilentFallbackWarn(d)||b("Fall back to datetime localization of root: key '"+d+"'."),!this._root)throw Error("unexpected error");return this._root.$i18n.d(a,d,c)}return e||""},nb.prototype.d=function(a){for(var b=[],c=arguments.length-1;c-->0;)b[c]=arguments[c+1];var e=this.locale,f=null;return 1===b.length?"string"===typeof b[0]?f=b[0]:d(b[0])&&(b[0].locale&&(e=b[0].locale),b[0].key&&(f=b[0].key)):2===b.length&&("string"===typeof b[0]&&(f=b[0]),"string"===typeof b[1]&&(e=b[1])),this._d(a,e,f)},nb.prototype.getNumberFormat=function(a){return j(this._vm.numberFormats[a]||{})},nb.prototype.setNumberFormat=function(a,b){this._vm.$set(this._vm.numberFormats,a,b)},nb.prototype.mergeNumberFormat=function(a,b){this._vm.$set(this._vm.numberFormats,a,n(this._vm.numberFormats[a]||{},b))},nb.prototype._getNumberFormatter=function(a,c,d,e,f,g){var i=c,j=e[i];if((h(j)||h(j[f]))&&(this._isSilentTranslationWarn(f)||this._isSilentFallbackWarn(f)||b("Fall back to '"+d+"' number formats from '"+c+"' number formats."),i=d,j=e[i]),h(j)||h(j[f]))return null;var l,k=j[f];if(g)l=new Intl.NumberFormat(i,Object.assign({},k,g));else{var m=i+"__"+f;l=this._numberFormatters[m],l||(l=this._numberFormatters[m]=new Intl.NumberFormat(i,k))}return l},nb.prototype._n=function(a,c,d,e){if(!nb.availabilities.numberFormat)return b("Cannot format a Number value due to not supported Intl.NumberFormat."),"";if(!d){var f=e?new Intl.NumberFormat(c,e):new Intl.NumberFormat(c);return f.format(a)}var g=this._getNumberFormatter(a,c,this.fallbackLocale,this._getNumberFormats(),d,e),h=g&&g.format(a);if(this._isFallbackRoot(h)){if(this._isSilentTranslationWarn(d)||this._isSilentFallbackWarn(d)||b("Fall back to number localization of root: key '"+d+"'."),!this._root)throw Error("unexpected error");return this._root.$i18n.n(a,Object.assign({},{key:d,locale:c},e))}return h||""},nb.prototype.n=function(b){for(var c=[],e=arguments.length-1;e-->0;)c[e]=arguments[e+1];var f=this.locale,g=null,h=null;return 1===c.length?"string"===typeof c[0]?g=c[0]:d(c[0])&&(c[0].locale&&(f=c[0].locale),c[0].key&&(g=c[0].key),h=Object.keys(c[0]).reduce(function(b,d){var e;return a.includes(d)?Object.assign({},b,(e={},e[d]=c[0][d],e)):b},null)):2===c.length&&("string"===typeof c[0]&&(g=c[0]),"string"===typeof c[1]&&(f=c[1])),this._n(b,f,g,h)},nb.prototype._ntp=function(a,c,d,e){if(!nb.availabilities.numberFormat)return b("Cannot format to parts a Number value due to not supported Intl.NumberFormat."),[];if(!d){var f=e?new Intl.NumberFormat(c,e):new Intl.NumberFormat(c);return f.formatToParts(a)}var g=this._getNumberFormatter(a,c,this.fallbackLocale,this._getNumberFormats(),d,e),h=g&&g.formatToParts(a);if(this._isFallbackRoot(h)){if(this._isSilentTranslationWarn(d)||b("Fall back to format number to parts of root: key '"+d+"' ."),!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(a,c,d,e)}return h||[]},Object.defineProperties(nb.prototype,ob);var pb;return Object.defineProperty(nb,"availabilities",{get:function(){if(!pb){var a="undefined"!==typeof Intl;pb={dateTimeFormat:a&&"undefined"!==typeof Intl.DateTimeFormat,numberFormat:a&&"undefined"!==typeof Intl.NumberFormat}}return pb}}),nb.install=I,nb.version="8.15.3",nb});