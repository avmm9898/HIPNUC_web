{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u7c21\u4ecb \u8d85\u6838\u96fb\u5b50 IMU/ARU/AHRS \u63d0\u4f9b\u5ba2\u6236\u8c50\u5bcc\u7684\u652f\u63f4\uff0c\u5305\u542b\u5b98\u65b9\u8edf\u9ad4\u3001\u4f7f\u7528\u6559\u5b78\u3001\u8a73\u7d30\u7684\u7522\u54c1\u8aaa\u660e\u66f8\u3002 \u524d\u5f80\u5e38\u898b\u554f\u984c \u7522\u54c1\u8aaa\u660e\u66f8 HI221/HI221 Dongle \u7121\u7dda\u6163\u6027\u611f\u6e2c\u5668( PDF ) HI226 \u516d\u8ef8\u6163\u6027\u611f\u6e2c\u5668( PDF ) HI229 \u4e5d\u8ef8\u6163\u6027\u611f\u6e2c\u5668( PDF ) CH100 \u516d\u8ef8\u5de5\u696d\u7d1a\u8cbc\u7247\u5f0f\u9ad8\u7cbe\u5ea6\u6163\u6027\u611f\u6e2c\u5668( PDF ) CH110 \u516d\u8ef8IP67\u5916\u6bbc\uff0cRS232\u5de5\u696d\u7d1a\u9ad8\u7cbe\u5ea6\u6163\u6027\u611f\u6e2c\u5668( PDF ) Windows \u5b98\u65b9\u59ff\u614b\u8edf\u9ad4 : CH Center \u642d\u914d\u672c\u516c\u53f8\u7522\u54c1\u5feb\u901f\u9032\u884c\u89c0\u6e2c\u3001\u7d00\u9304\u8207\u6578\u64da\u8a55\u4f30\u3002 \u524d\u5f80\u4e0b\u8f09 \u7bc4\u4f8b\u7a0b\u5f0f\u8207\u6559\u5b78 \u57fa\u672c\u63a5\u6536\u8cc7\u6599\u7684\u7bc4\u4f8b\u5305\u542b\u4ee5\u4e0b\u7a0b\u5f0f\u8a9e\u8a00\u8207\u74b0\u5883(\u6055\u4e0d\u63d0\u4f9b\u514d\u8cbb\u984d\u5916\u7684\u7a0b\u5f0f\u4fee\u6539\u670d\u52d9): - C# - Python - QT C++ - ROS - STM32 - Ubuntu \u6559\u5b78\u8207 Example Code: \u9023\u7d50 \u66f4\u591a\u8a73\u7d30\u8cc7\u6599\u8acb\u81f3\u6211\u5011\u7684 Github :","title":"\u7c21\u4ecb"},{"location":"#_1","text":"\u8d85\u6838\u96fb\u5b50 IMU/ARU/AHRS \u63d0\u4f9b\u5ba2\u6236\u8c50\u5bcc\u7684\u652f\u63f4\uff0c\u5305\u542b\u5b98\u65b9\u8edf\u9ad4\u3001\u4f7f\u7528\u6559\u5b78\u3001\u8a73\u7d30\u7684\u7522\u54c1\u8aaa\u660e\u66f8\u3002","title":"\u7c21\u4ecb"},{"location":"#_2","text":"","title":"\u524d\u5f80\u5e38\u898b\u554f\u984c"},{"location":"#_3","text":"HI221/HI221 Dongle \u7121\u7dda\u6163\u6027\u611f\u6e2c\u5668( PDF ) HI226 \u516d\u8ef8\u6163\u6027\u611f\u6e2c\u5668( PDF ) HI229 \u4e5d\u8ef8\u6163\u6027\u611f\u6e2c\u5668( PDF ) CH100 \u516d\u8ef8\u5de5\u696d\u7d1a\u8cbc\u7247\u5f0f\u9ad8\u7cbe\u5ea6\u6163\u6027\u611f\u6e2c\u5668( PDF ) CH110 \u516d\u8ef8IP67\u5916\u6bbc\uff0cRS232\u5de5\u696d\u7d1a\u9ad8\u7cbe\u5ea6\u6163\u6027\u611f\u6e2c\u5668( PDF )","title":"\u7522\u54c1\u8aaa\u660e\u66f8"},{"location":"#windows-ch-center","text":"\u642d\u914d\u672c\u516c\u53f8\u7522\u54c1\u5feb\u901f\u9032\u884c\u89c0\u6e2c\u3001\u7d00\u9304\u8207\u6578\u64da\u8a55\u4f30\u3002 \u524d\u5f80\u4e0b\u8f09","title":"Windows \u5b98\u65b9\u59ff\u614b\u8edf\u9ad4 : CH Center"},{"location":"#_4","text":"\u57fa\u672c\u63a5\u6536\u8cc7\u6599\u7684\u7bc4\u4f8b\u5305\u542b\u4ee5\u4e0b\u7a0b\u5f0f\u8a9e\u8a00\u8207\u74b0\u5883(\u6055\u4e0d\u63d0\u4f9b\u514d\u8cbb\u984d\u5916\u7684\u7a0b\u5f0f\u4fee\u6539\u670d\u52d9): - C# - Python - QT C++ - ROS - STM32 - Ubuntu \u6559\u5b78\u8207 Example Code: \u9023\u7d50","title":"\u7bc4\u4f8b\u7a0b\u5f0f\u8207\u6559\u5b78"},{"location":"#github","text":"","title":"\u66f4\u591a\u8a73\u7d30\u8cc7\u6599\u8acb\u81f3\u6211\u5011\u7684 Github:"},{"location":"FAQ/FAQ/","text":"\u5e38\u898b\u554f\u984c A. IMU\uff0cVRU\uff0cAHRS \u57fa\u672c\u8a8d\u8b58 1. 6\u8ef8\uff0c9\u8ef8\uff0c IMU\uff0cVRU\uff0cAHRS \u5206\u5225\u6307\u7684\u662f\u4ec0\u9ebc? \u8aaa\u660e: \u4ee5\u4e0b\u8aaa\u6cd5\u662f\u70ba\u4e86\u65b9\u4fbf\u5feb\u901f\u7406\u89e3\u7684\u89e3\u91cb\uff0c\u4e0d\u662f\u6b63\u5f0f\u5b9a\u7fa9\u3002 6\u8ef8\u30019\u8ef8\u7684\u6982\u5ff5\u5f88\u597d\u7406\u89e3\uff1a\u8aaa\u767d\u4e86\u5c31\u662f\u6a21\u7d44\u4e0a\u88dd\u4e86\u54ea\u4e9b\uff0c\u591a\u5c11\u611f\u6e2c\u5668 6\u8ef8: 3\u8ef8(XYZ)\u52a0\u901f\u5ea6\u8a08 + 3\u8ef8(XYZ)\u9640\u87ba\u5100(\u4e5f\u53eb\u89d2\u901f\u5ea6\u611f\u6e2c\u5668) 9\u8ef8: 6\u8ef8 + 3\u8ef8(XYZ)\u78c1\u5834\u611f\u6e2c\u5668 6\u8ef8\u6a21\u7d44\u53ef\u4ee5\u69cb\u6210 VRU(\u5782\u76f4\u53c3\u8003\u55ae\u5143)\u548c IMU(\u6163\u6027\u6e2c\u91cf\u55ae\u5143)\uff0c9\u8ef8\u6a21\u7d44\u53ef\u4ee5\u69cb\u6210 AHRS(\u822a\u59ff\u53c3\u8003\u7cfb\u7d71)\u3002 IMU: \u6163\u6027\u6e2c\u91cf\u55ae\u5143\uff0c\u53ef\u4ee5\u8f38\u51fa\u52a0\u901f\u5ea6\u548c\u89d2\u901f\u5ea6\u3002\u4e26\u4e0d\u8f38\u51fa\u59ff\u614b\u89d2\u7b49\u5176\u4ed6\u8cc7\u8a0a\u3002 VRU: IMU\u7684\u57fa\u790e\u4e0a\u5167\u7f6e\u59ff\u614b\u89e3\u7b97\u7b97\u6cd5\uff0c\u53ef\u4ee5\u8f38\u51fa\u59ff\u614b\u8cc7\u8a0a\u3002 AHRS: VRU\u7684\u57fa\u790e\u4e0a\u4fee\u6539\u7b97\u6cd5\uff0c\u53ef\u4ee5\u89e3\u7b97\u88ab\u6e2c\u7269\u9ad4\u7684\u5168\u59ff\u614b\uff0c\u5305\u62ec\u7d55\u5c0d\u7684\u822a\u5411\u89d2(\u8207\u5730\u78c1\u5317\u6975\u7684\u593e\u89d2)\u3002 B. \u6027\u80fd\u76f8\u95dc 1. IMU\uff0cVRU \u548c AHRS \u7684\u6027\u80fd\u8207\u4fb7\u9650 IMU: \u6163\u6027\u6e2c\u91cf\u55ae\u5143\uff0c\u53ef\u4ee5\u8f38\u51fa\u52a0\u901f\u5ea6\u548c\u89d2\u901f\u5ea6\u3002\u4e26\u4e0d\u8f38\u51fa\u59ff\u614b\u89d2\u7b49\u5176\u4ed6\u8cc7\u8a0a VRU: IMU\u7684\u57fa\u790e\u4e0a\u5167\u7f6e\u59ff\u614b\u89e3\u7b97\u7b97\u6cd5\uff0c\u53ef\u4ee5\u8f38\u51fa\u59ff\u614b\u8cc7\u8a0a\u3002 \u975c\u6b62\u72c0\u614b\u4e0b\u52a0\u901f\u5ea6\u8a08\u53ef\u4ee5\u6e2c\u5f97\u91cd\u529b\u5411\u91cf\u4e26\u4f5c\u70ba\u53c3\u8003\uff0c\u6240\u4ee5\u975c\u614b\u4e0b\u4fef\u4ef0\u6a6b\u6efe\u89d2\u4e0d\u6703\u6f02\u79fb\u800c\u4e14\u7cbe\u5ea6\u6bd4\u8f03\u9ad8\uff0c\u7136\u800c\u7531\u65bc\u822a\u5411\u89d2\u8207\u91cd\u529b\u5782\u76f4\uff0c\u6c92\u6709\u7d55\u5c0d\u53c3\u8003\uff0c\u6c34\u5e73\u65b9\u5411\u4e0a\u7684\u822a\u5411\u89d2\u8aa4\u5dee\u6703\u96a8\u8457\u6642\u9593\u6162\u6162\u8b8a\u5927\uff0c\u8b8a\u7684\u8d8a\u4f86\u8d8a\u4e0d\u51c6 \u3002 \u7576\u6a21\u7d44\u904b\u52d5\u6642\uff0c\u52a0\u901f\u5ea6\u8a08\u6e2c\u91cf\u7684\u4e0d\u50c5\u50c5\u53ea\u6709\u91cd\u529b\uff0c\u9084\u6709\u5176\u4ed6\u904b\u52d5\u52a0\u901f\u5ea6(\u6709\u5bb3\u52a0\u901f\u5ea6)\uff0c\u6240\u4ee5\u6a21\u7d44\u904b\u52d5\u4e2d\u662f\u4e0d\u80fd\u7528\u91cd\u529b\u5411\u91cf\u4f5c\u70ba\u53c3\u8003\u4fee\u6b63\u4fef\u4ef0\u6a6b\u6efe\u89d2\u7684\u3002\u4e00\u500b\u7c21\u55ae\u7684\u7d50\u8ad6\u5c31\u662f\uff1a\u5982\u679c\u6a21\u7d44\u9577\u6642\u9593\u8655\u65bc\u5927\u6a5f\u52d5\u72c0\u614b\uff0c\u90a3\u9ebc\u4e09\u500b\u6b50\u62c9\u89d2\u8aa4\u5dee\u90fd\u6703\u96a8\u6642\u9593\u8b8a\u5927(\u8d8a\u4f86\u8d8a\u4e0d\u6e96)\uff0c\u4e00\u65e6\u975c\u6b62\uff0c\u4fef\u4ef0\u6a6b\u6efe\u89d2\u6703\u88ab\u91cd\u65b0\"\u62c9\"\u56de\u5230\u6b63\u78ba\u7684\u4f4d\u7f6e\uff0c\u800c\u822a\u5411\u89d2\u56e0\u70ba\u6c92\u6709\u53c3\u8003\u5247\u4e0d\u6703\u5f97\u5230\u6821\u6b63\u3002 AHRS: VRU\u7684\u57fa\u790e\u4e0a\u4fee\u6539\u7b97\u6cd5\uff0c\u53ef\u4ee5\u89e3\u7b97\u88ab\u6e2c\u7269\u9ad4\u7684\u5168\u59ff\u614b\uff0c\u5305\u62ec\u7d55\u5c0d\u7684\u822a\u5411\u89d2(\u8207\u5730\u78c1\u5317\u6975\u7684\u593e\u89d2)\uff0c\u56e0\u70ba\u8981\u7528\u5230\u5730\u78c1\u611f\u6e2c\u5668\uff0c\u6240\u4ee5\u5fc5\u9808\u662f9\u8ef8\u6a21\u7d44\u3002\u53e6\u5916\u5ba4\u5167\u7531\u65bc\u5730\u78c1\u5834\u7578\u8b8a\u975e\u5e38\u56b4\u91cd\uff0cAHRS \u5728\u5ba4\u5167\u4e5f\u5f88\u96e3\u7372\u5f97\u6e96\u78ba\u7684\u7d55\u5c0d\u822a\u5411\u89d2\u3002 2. \u6a21\u7d44\u53ef\u4ee5\u7a4d\u5206\u8a08\u7b97\u901f\u5ea6\u548c\u4f4d\u7f6e\u9ebc? \u7406\u8ad6\u53ef\u4ee5\uff0c\u5be6\u969b\u4e0d\u884c(\u6c92\u6709\u610f\u7fa9)\u3002\u5982\u679c\u6c92\u6709\u5176\u4ed6\u65b9\u5f0f\u7cfe\u6b63\u504f\u5dee(\u6bd4\u5982GPS)\uff0c\u90a3\u9ebc\u4f4d\u7f6e\u6703\u5f88\u5feb\u767c\u6563\uff0c\u6bd4\u5982HI226\u6a21\u7d44\uff0c\u52a0\u901f\u5ea6\u7a4d\u5206\u5f97\u901f\u5ea6\uff0c\u901f\u5ea6\u7a4d\u5206\u5f97\u4f4d\u7f6e\u3002\u9019\u6a23\u4e8c\u6b21\u7a4d\u5206\u4e0b\u4f86\uff0c\u5c31\u7b97\u662f\u975c\u6b62\u689d\u4ef6\u4e0b\uff0c1min\u4e5f\u6703\u98c4\u5e7e\u5341\u7c73\u3002\u9ad8\u901f\u904b\u52d5/\u6a5f\u52d5\u98c4\u51fa1KM\u4e5f\u662f\u6709\u53ef\u80fd\u7684\u3002 \u771f\u6b63\u7d14\u6163\u5c0e\u89e3\u7b97\u5f97\u5230\u7a69\u5b9a\u7684\u4f4d\u59ff\u61c9\u7528\u7684\u90fd\u662f\u9ad8\u7aefIMU(\u5149\u7e96\uff0c\u6fc0\u5149\u9640\u87ba\u7b49)\u4e00\u822c\u90fd\u50f9\u503c\u4e0d\u83f2\u3002 3. \u6a21\u7d44\u6703\u53d7\u96fb\u6a5f\u7b49\u5f37\u78c1\u5e72\u64fe\u9ebc? 6\u8ef8\u4e00\u9ede\u90fd\u4e0d\u6703\uff0c9\u8ef8\u80af\u5b9a\u6703\uff0c\u800c\u4e14\u975e\u5e38\u5927\u3002\u6240\u4ee59\u8ef8\u6a21\u5f0f\u4e00\u822c\u4e0d\u9069\u7528\u65bc\u6a5f\u5668\u4eba\u7b49\u5468\u570d\u6709\u78c1\u6027\u7269\u8cea\u7684\u5834\u5408\u3002 4. \u89e3\u91cb\u4e00\u4e0b\u822a\u5411\u89d2\u98c4\u79fb\u73fe\u8c61? 6\u8ef8\u6a21\u7d44\u822a\u5411\u89d2\u98c4\u79fb\u662f**\u5fc5\u7136\u7684**\uff0c\u53ea\u662f\u7a0b\u5ea6\u7684\u9ad8\u4f4e\u4e0d\u540c\u800c\u5df2\uff0c\u6f14\u7b97\u6cd5\u7121\u6cd5\u89e3\u6c7a\u6676\u7247\u6027\u80fd\u7684\u6975\u9650\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\u6240\u6709\u59ff\u614b\u6a21\u7d44\u90fd\u9700\u8981\u4e0a\u96fb\u975c\u6b621s\u5de6\u53f3\u4ee5\u7372\u5f97\u9640\u87ba\u96f6\u504f\uff0c\u5426\u5247\u822a\u5411\u89d2\u98c4\u79fb\u6703\u66f4\u56b4\u91cd\uff0c\u8a73\u898b\u7522\u54c1\u624b\u518a\u63cf\u8ff0\u3002 9\u8ef8\u6a21\u7d44\u9700\u8981\u914d\u7f6e\u70ba9\u8ef8\u6a21\u5f0f\uff0c\u4e26\u4e14\u5730\u78c1\u7d93\u904e\u6821\u6e96\uff0c\u4e26\u4e14\u7121\u5730\u78c1\u7a7a\u9593\u7578\u8b8a\u5e72\u64fe\u7684\u74b0\u5883\u4e0b\u624d\u80fd\u8f38\u51fa\u7a69\u5b9a\u7121\u98c4\u79fb\u7684\u822a\u5411\u89d2\uff0c\u5ba4\u5167\u74b0\u5883\u4e0b\uff1a\u8fa6\u516c\u684c\u5468\u570d\uff0c\u5ee0\u623f\uff0c\u5be6\u9a57\u5ba4\uff0c\u5100\u5668\u8a2d\u5099\u65c1\u7684\u5340\u57df\u7a7a\u9593\u78c1\u5834\u7578\u8b8a\u975e\u5e38\u56b4\u91cd\uff0c9\u8ef8\u6a21\u5f0f\u4e0b\u822a\u5411\u89d2\u6307\u5317\u7cbe\u5ea6\u4e00\u822c\u90fd\u6bd4\u8f03\u5dee\uff0c\u521d\u6b21\u4f7f\u7528\u53ef\u4ee5\u5230\u6236\u5916\u5148\u6e2c\u8a66\u6a21\u7d44\u6027\u80fd\uff0c\u5728\u62ff\u56de\u5ba4\u5167\u6bd4\u8f03\u3002 5. \u6c92\u6709\u8f49\u53f0\u7b49\u5c08\u696d\u8a2d\u5099\uff0c\u5982\u4f55\u7c21\u55ae\u5feb\u901f\u7684\u5b9a\u6027\u8a55\u4f30\u52d5\u614b\u7cbe\u5ea6? \u4e00\u500b\u7c21\u55ae\u7684\u5b9a\u6027\u5206\u6790\u65b9\u6cd5\uff1a \u5c07\u6a21\u7d44\u6c34\u5e73\u653e\u7f6e\uff0c\u7a69\u5b9a\u5f8c\u62ff\u8d77\u6a21\u7d44\u9032\u884c\u96a8\u6a5f\u6a5f\u52d5\u904b\u52d5(\u6162\u6162\u52d5 \u4e0d\u8981\u592a\u5287\u70c8\uff0c\u4e0d\u8981\u8d85\u51fa\u9640\u87ba\u91cf\u7a0b)\uff0c\u904b\u52d5\u4e00\u5b9a\u6642\u9593(1min)\u5f8c\u56de\u5230\u6c34\u5e73\u4f4d\u7f6e\uff0c\u9019\u6642\u5019\u6703\u767c\u73fe\u4fef\u4ef0\u6a6b\u6efe\u89d2\u6709\u4e00\u500b\u7de9\u6162\u7684 \"\u56de\u6b63\" \u904e\u7a0b\u3002 \u9019\u662f\u7531\u65bc\u904b\u52d5\u4e2d\u52a0\u901f\u5ea6\u8a08\u6e2c\u91cf\u7684\u4e0d\u518d\u53ea\u6709\u91cd\u529b\u5411\u91cf\uff0c\u6240\u4ee5\u7121\u6cd5\u63d0\u4f9b\u4fef\u4ef0\u6a6b\u6efe\u89d2\u7684\u7d55\u5c0d\u53c3\u8003\uff0c\u53ea\u80fd\u9760\u9640\u87ba\u7a4d\u5206\u4f86\u905e\u63a8\u59ff\u614b\uff0c\u96a8\u8457\u6642\u9593\u6d41\u901d\uff0c\u7d14\u9640\u87ba\u7a4d\u5206\u59ff\u614b\u5fc5\u7136\u6703\u6709\u8aa4\u5dee\u3002 \u91cd\u65b0\u6c34\u5e73\u653e\u7f6e\u5f8c\uff0c\u6a21\u7d44\u8655\u65bc\u975c\u6b62\u72c0\u614b\uff0c\u52a0\u901f\u5ea6\u8a08\u6e2c\u91cf\u7684\u53c8\u53ea\u6709\u91cd\u529b\u5411\u91cf\uff0c\u6240\u4ee5\u53c8\u53ef\u4ee5\u7e7c\u7e8c\u70ba\u4fef\u4ef0\u3001\u6a6b\u6efe\u89d2\u63d0\u4f9b\u7d55\u5c0d\u53c3\u8003\uff0c\u6240\u4ee5\u624d\u6709 \"\u56de\u6b63\" \u904e\u7a0b\u3002 \u6240\u4ee5\uff0c\u5f9e\"\u56de\u6b63\"\u7684\u5927\u5c0f\u7a0b\u5ea6(\u800c\u4e0d\u662f\u5feb\u6162)\u4e0a\u5c31\u53ef\u4ee5\u7c21\u55ae\u6bd4\u8f03\u9019\u584a\u7522\u54c1\u7684\u9640\u87ba\u5100\u6027\u80fd\u3002 C-1. \u7591\u554f : \u7121\u7dda HI221\u7bc0\u9ede / HI221\u63a5\u6536\u6a5f 1. \u63a5\u6536\u6a5f\u6703\u4e92\u76f8\u5e72\u64fe\u55ce? \u82e5\u4f7f\u7528\u8005\u5df2\u7d93\u4f9d\u7167\u8aaa\u660e\u66f8\u8a2d\u5b9a\u4e0d\u540c\u7121\u7dda\u983b\u6bb5 (GWID)\uff0c\u5247\u4e0d\u6703\u3002\u7136\u800c\u5e7e\u9805\u4f7f\u7528\u60c5\u5f62\u5bb9\u6613\u9020\u6210\u4e92\u76f8\u5e72\u64fe\uff0c\u9700\u8981\u907f\u514d: 5 \u7c73\u7bc4\u570d\u5167\u4e0d\u5efa\u8b70\u4f7f\u7528\u8d85\u904e 4 \u7d44\u63a5\u6536\u6a5f \u6bcf\u7d44\u63a5\u6536\u6a5f\u8207\u914d\u5c0d\u7bc0\u9ede\u4e4b\u9593\u8ddd\u96e2\u76f8\u8fd1\uff0c\u4f8b\u5982 GWID=1 \u7684\u63a5\u6536\u6a5f\u8207\u7bc0\u9ede\u8ddd\u96e2\u6700\u8fd1\uff0c\u907f\u514d\u8ddf GWID=2 \u7684\u7bc0\u9ede\u8ddd\u96e2\u6700\u8fd1\u3002","title":"\u5e38\u898b\u554f\u984c"},{"location":"FAQ/FAQ/#_1","text":"","title":"\u5e38\u898b\u554f\u984c"},{"location":"FAQ/FAQ/#a-imuvruahrs","text":"","title":"A. IMU\uff0cVRU\uff0cAHRS \u57fa\u672c\u8a8d\u8b58"},{"location":"FAQ/FAQ/#1-69-imuvruahrs","text":"\u8aaa\u660e: \u4ee5\u4e0b\u8aaa\u6cd5\u662f\u70ba\u4e86\u65b9\u4fbf\u5feb\u901f\u7406\u89e3\u7684\u89e3\u91cb\uff0c\u4e0d\u662f\u6b63\u5f0f\u5b9a\u7fa9\u3002 6\u8ef8\u30019\u8ef8\u7684\u6982\u5ff5\u5f88\u597d\u7406\u89e3\uff1a\u8aaa\u767d\u4e86\u5c31\u662f\u6a21\u7d44\u4e0a\u88dd\u4e86\u54ea\u4e9b\uff0c\u591a\u5c11\u611f\u6e2c\u5668 6\u8ef8: 3\u8ef8(XYZ)\u52a0\u901f\u5ea6\u8a08 + 3\u8ef8(XYZ)\u9640\u87ba\u5100(\u4e5f\u53eb\u89d2\u901f\u5ea6\u611f\u6e2c\u5668) 9\u8ef8: 6\u8ef8 + 3\u8ef8(XYZ)\u78c1\u5834\u611f\u6e2c\u5668 6\u8ef8\u6a21\u7d44\u53ef\u4ee5\u69cb\u6210 VRU(\u5782\u76f4\u53c3\u8003\u55ae\u5143)\u548c IMU(\u6163\u6027\u6e2c\u91cf\u55ae\u5143)\uff0c9\u8ef8\u6a21\u7d44\u53ef\u4ee5\u69cb\u6210 AHRS(\u822a\u59ff\u53c3\u8003\u7cfb\u7d71)\u3002 IMU: \u6163\u6027\u6e2c\u91cf\u55ae\u5143\uff0c\u53ef\u4ee5\u8f38\u51fa\u52a0\u901f\u5ea6\u548c\u89d2\u901f\u5ea6\u3002\u4e26\u4e0d\u8f38\u51fa\u59ff\u614b\u89d2\u7b49\u5176\u4ed6\u8cc7\u8a0a\u3002 VRU: IMU\u7684\u57fa\u790e\u4e0a\u5167\u7f6e\u59ff\u614b\u89e3\u7b97\u7b97\u6cd5\uff0c\u53ef\u4ee5\u8f38\u51fa\u59ff\u614b\u8cc7\u8a0a\u3002 AHRS: VRU\u7684\u57fa\u790e\u4e0a\u4fee\u6539\u7b97\u6cd5\uff0c\u53ef\u4ee5\u89e3\u7b97\u88ab\u6e2c\u7269\u9ad4\u7684\u5168\u59ff\u614b\uff0c\u5305\u62ec\u7d55\u5c0d\u7684\u822a\u5411\u89d2(\u8207\u5730\u78c1\u5317\u6975\u7684\u593e\u89d2)\u3002","title":"1. 6\u8ef8\uff0c9\u8ef8\uff0c IMU\uff0cVRU\uff0cAHRS \u5206\u5225\u6307\u7684\u662f\u4ec0\u9ebc?"},{"location":"FAQ/FAQ/#b","text":"","title":"B. \u6027\u80fd\u76f8\u95dc"},{"location":"FAQ/FAQ/#1-imuvru-ahrs","text":"IMU: \u6163\u6027\u6e2c\u91cf\u55ae\u5143\uff0c\u53ef\u4ee5\u8f38\u51fa\u52a0\u901f\u5ea6\u548c\u89d2\u901f\u5ea6\u3002\u4e26\u4e0d\u8f38\u51fa\u59ff\u614b\u89d2\u7b49\u5176\u4ed6\u8cc7\u8a0a VRU: IMU\u7684\u57fa\u790e\u4e0a\u5167\u7f6e\u59ff\u614b\u89e3\u7b97\u7b97\u6cd5\uff0c\u53ef\u4ee5\u8f38\u51fa\u59ff\u614b\u8cc7\u8a0a\u3002 \u975c\u6b62\u72c0\u614b\u4e0b\u52a0\u901f\u5ea6\u8a08\u53ef\u4ee5\u6e2c\u5f97\u91cd\u529b\u5411\u91cf\u4e26\u4f5c\u70ba\u53c3\u8003\uff0c\u6240\u4ee5\u975c\u614b\u4e0b\u4fef\u4ef0\u6a6b\u6efe\u89d2\u4e0d\u6703\u6f02\u79fb\u800c\u4e14\u7cbe\u5ea6\u6bd4\u8f03\u9ad8\uff0c\u7136\u800c\u7531\u65bc\u822a\u5411\u89d2\u8207\u91cd\u529b\u5782\u76f4\uff0c\u6c92\u6709\u7d55\u5c0d\u53c3\u8003\uff0c\u6c34\u5e73\u65b9\u5411\u4e0a\u7684\u822a\u5411\u89d2\u8aa4\u5dee\u6703\u96a8\u8457\u6642\u9593\u6162\u6162\u8b8a\u5927\uff0c\u8b8a\u7684\u8d8a\u4f86\u8d8a\u4e0d\u51c6 \u3002 \u7576\u6a21\u7d44\u904b\u52d5\u6642\uff0c\u52a0\u901f\u5ea6\u8a08\u6e2c\u91cf\u7684\u4e0d\u50c5\u50c5\u53ea\u6709\u91cd\u529b\uff0c\u9084\u6709\u5176\u4ed6\u904b\u52d5\u52a0\u901f\u5ea6(\u6709\u5bb3\u52a0\u901f\u5ea6)\uff0c\u6240\u4ee5\u6a21\u7d44\u904b\u52d5\u4e2d\u662f\u4e0d\u80fd\u7528\u91cd\u529b\u5411\u91cf\u4f5c\u70ba\u53c3\u8003\u4fee\u6b63\u4fef\u4ef0\u6a6b\u6efe\u89d2\u7684\u3002\u4e00\u500b\u7c21\u55ae\u7684\u7d50\u8ad6\u5c31\u662f\uff1a\u5982\u679c\u6a21\u7d44\u9577\u6642\u9593\u8655\u65bc\u5927\u6a5f\u52d5\u72c0\u614b\uff0c\u90a3\u9ebc\u4e09\u500b\u6b50\u62c9\u89d2\u8aa4\u5dee\u90fd\u6703\u96a8\u6642\u9593\u8b8a\u5927(\u8d8a\u4f86\u8d8a\u4e0d\u6e96)\uff0c\u4e00\u65e6\u975c\u6b62\uff0c\u4fef\u4ef0\u6a6b\u6efe\u89d2\u6703\u88ab\u91cd\u65b0\"\u62c9\"\u56de\u5230\u6b63\u78ba\u7684\u4f4d\u7f6e\uff0c\u800c\u822a\u5411\u89d2\u56e0\u70ba\u6c92\u6709\u53c3\u8003\u5247\u4e0d\u6703\u5f97\u5230\u6821\u6b63\u3002 AHRS: VRU\u7684\u57fa\u790e\u4e0a\u4fee\u6539\u7b97\u6cd5\uff0c\u53ef\u4ee5\u89e3\u7b97\u88ab\u6e2c\u7269\u9ad4\u7684\u5168\u59ff\u614b\uff0c\u5305\u62ec\u7d55\u5c0d\u7684\u822a\u5411\u89d2(\u8207\u5730\u78c1\u5317\u6975\u7684\u593e\u89d2)\uff0c\u56e0\u70ba\u8981\u7528\u5230\u5730\u78c1\u611f\u6e2c\u5668\uff0c\u6240\u4ee5\u5fc5\u9808\u662f9\u8ef8\u6a21\u7d44\u3002\u53e6\u5916\u5ba4\u5167\u7531\u65bc\u5730\u78c1\u5834\u7578\u8b8a\u975e\u5e38\u56b4\u91cd\uff0cAHRS \u5728\u5ba4\u5167\u4e5f\u5f88\u96e3\u7372\u5f97\u6e96\u78ba\u7684\u7d55\u5c0d\u822a\u5411\u89d2\u3002","title":"1. IMU\uff0cVRU \u548c AHRS \u7684\u6027\u80fd\u8207\u4fb7\u9650"},{"location":"FAQ/FAQ/#2","text":"\u7406\u8ad6\u53ef\u4ee5\uff0c\u5be6\u969b\u4e0d\u884c(\u6c92\u6709\u610f\u7fa9)\u3002\u5982\u679c\u6c92\u6709\u5176\u4ed6\u65b9\u5f0f\u7cfe\u6b63\u504f\u5dee(\u6bd4\u5982GPS)\uff0c\u90a3\u9ebc\u4f4d\u7f6e\u6703\u5f88\u5feb\u767c\u6563\uff0c\u6bd4\u5982HI226\u6a21\u7d44\uff0c\u52a0\u901f\u5ea6\u7a4d\u5206\u5f97\u901f\u5ea6\uff0c\u901f\u5ea6\u7a4d\u5206\u5f97\u4f4d\u7f6e\u3002\u9019\u6a23\u4e8c\u6b21\u7a4d\u5206\u4e0b\u4f86\uff0c\u5c31\u7b97\u662f\u975c\u6b62\u689d\u4ef6\u4e0b\uff0c1min\u4e5f\u6703\u98c4\u5e7e\u5341\u7c73\u3002\u9ad8\u901f\u904b\u52d5/\u6a5f\u52d5\u98c4\u51fa1KM\u4e5f\u662f\u6709\u53ef\u80fd\u7684\u3002 \u771f\u6b63\u7d14\u6163\u5c0e\u89e3\u7b97\u5f97\u5230\u7a69\u5b9a\u7684\u4f4d\u59ff\u61c9\u7528\u7684\u90fd\u662f\u9ad8\u7aefIMU(\u5149\u7e96\uff0c\u6fc0\u5149\u9640\u87ba\u7b49)\u4e00\u822c\u90fd\u50f9\u503c\u4e0d\u83f2\u3002","title":"2. \u6a21\u7d44\u53ef\u4ee5\u7a4d\u5206\u8a08\u7b97\u901f\u5ea6\u548c\u4f4d\u7f6e\u9ebc?"},{"location":"FAQ/FAQ/#3","text":"6\u8ef8\u4e00\u9ede\u90fd\u4e0d\u6703\uff0c9\u8ef8\u80af\u5b9a\u6703\uff0c\u800c\u4e14\u975e\u5e38\u5927\u3002\u6240\u4ee59\u8ef8\u6a21\u5f0f\u4e00\u822c\u4e0d\u9069\u7528\u65bc\u6a5f\u5668\u4eba\u7b49\u5468\u570d\u6709\u78c1\u6027\u7269\u8cea\u7684\u5834\u5408\u3002","title":"3. \u6a21\u7d44\u6703\u53d7\u96fb\u6a5f\u7b49\u5f37\u78c1\u5e72\u64fe\u9ebc?"},{"location":"FAQ/FAQ/#4","text":"6\u8ef8\u6a21\u7d44\u822a\u5411\u89d2\u98c4\u79fb\u662f**\u5fc5\u7136\u7684**\uff0c\u53ea\u662f\u7a0b\u5ea6\u7684\u9ad8\u4f4e\u4e0d\u540c\u800c\u5df2\uff0c\u6f14\u7b97\u6cd5\u7121\u6cd5\u89e3\u6c7a\u6676\u7247\u6027\u80fd\u7684\u6975\u9650\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\u6240\u6709\u59ff\u614b\u6a21\u7d44\u90fd\u9700\u8981\u4e0a\u96fb\u975c\u6b621s\u5de6\u53f3\u4ee5\u7372\u5f97\u9640\u87ba\u96f6\u504f\uff0c\u5426\u5247\u822a\u5411\u89d2\u98c4\u79fb\u6703\u66f4\u56b4\u91cd\uff0c\u8a73\u898b\u7522\u54c1\u624b\u518a\u63cf\u8ff0\u3002 9\u8ef8\u6a21\u7d44\u9700\u8981\u914d\u7f6e\u70ba9\u8ef8\u6a21\u5f0f\uff0c\u4e26\u4e14\u5730\u78c1\u7d93\u904e\u6821\u6e96\uff0c\u4e26\u4e14\u7121\u5730\u78c1\u7a7a\u9593\u7578\u8b8a\u5e72\u64fe\u7684\u74b0\u5883\u4e0b\u624d\u80fd\u8f38\u51fa\u7a69\u5b9a\u7121\u98c4\u79fb\u7684\u822a\u5411\u89d2\uff0c\u5ba4\u5167\u74b0\u5883\u4e0b\uff1a\u8fa6\u516c\u684c\u5468\u570d\uff0c\u5ee0\u623f\uff0c\u5be6\u9a57\u5ba4\uff0c\u5100\u5668\u8a2d\u5099\u65c1\u7684\u5340\u57df\u7a7a\u9593\u78c1\u5834\u7578\u8b8a\u975e\u5e38\u56b4\u91cd\uff0c9\u8ef8\u6a21\u5f0f\u4e0b\u822a\u5411\u89d2\u6307\u5317\u7cbe\u5ea6\u4e00\u822c\u90fd\u6bd4\u8f03\u5dee\uff0c\u521d\u6b21\u4f7f\u7528\u53ef\u4ee5\u5230\u6236\u5916\u5148\u6e2c\u8a66\u6a21\u7d44\u6027\u80fd\uff0c\u5728\u62ff\u56de\u5ba4\u5167\u6bd4\u8f03\u3002","title":"4. \u89e3\u91cb\u4e00\u4e0b\u822a\u5411\u89d2\u98c4\u79fb\u73fe\u8c61?"},{"location":"FAQ/FAQ/#5","text":"\u4e00\u500b\u7c21\u55ae\u7684\u5b9a\u6027\u5206\u6790\u65b9\u6cd5\uff1a \u5c07\u6a21\u7d44\u6c34\u5e73\u653e\u7f6e\uff0c\u7a69\u5b9a\u5f8c\u62ff\u8d77\u6a21\u7d44\u9032\u884c\u96a8\u6a5f\u6a5f\u52d5\u904b\u52d5(\u6162\u6162\u52d5 \u4e0d\u8981\u592a\u5287\u70c8\uff0c\u4e0d\u8981\u8d85\u51fa\u9640\u87ba\u91cf\u7a0b)\uff0c\u904b\u52d5\u4e00\u5b9a\u6642\u9593(1min)\u5f8c\u56de\u5230\u6c34\u5e73\u4f4d\u7f6e\uff0c\u9019\u6642\u5019\u6703\u767c\u73fe\u4fef\u4ef0\u6a6b\u6efe\u89d2\u6709\u4e00\u500b\u7de9\u6162\u7684 \"\u56de\u6b63\" \u904e\u7a0b\u3002 \u9019\u662f\u7531\u65bc\u904b\u52d5\u4e2d\u52a0\u901f\u5ea6\u8a08\u6e2c\u91cf\u7684\u4e0d\u518d\u53ea\u6709\u91cd\u529b\u5411\u91cf\uff0c\u6240\u4ee5\u7121\u6cd5\u63d0\u4f9b\u4fef\u4ef0\u6a6b\u6efe\u89d2\u7684\u7d55\u5c0d\u53c3\u8003\uff0c\u53ea\u80fd\u9760\u9640\u87ba\u7a4d\u5206\u4f86\u905e\u63a8\u59ff\u614b\uff0c\u96a8\u8457\u6642\u9593\u6d41\u901d\uff0c\u7d14\u9640\u87ba\u7a4d\u5206\u59ff\u614b\u5fc5\u7136\u6703\u6709\u8aa4\u5dee\u3002 \u91cd\u65b0\u6c34\u5e73\u653e\u7f6e\u5f8c\uff0c\u6a21\u7d44\u8655\u65bc\u975c\u6b62\u72c0\u614b\uff0c\u52a0\u901f\u5ea6\u8a08\u6e2c\u91cf\u7684\u53c8\u53ea\u6709\u91cd\u529b\u5411\u91cf\uff0c\u6240\u4ee5\u53c8\u53ef\u4ee5\u7e7c\u7e8c\u70ba\u4fef\u4ef0\u3001\u6a6b\u6efe\u89d2\u63d0\u4f9b\u7d55\u5c0d\u53c3\u8003\uff0c\u6240\u4ee5\u624d\u6709 \"\u56de\u6b63\" \u904e\u7a0b\u3002 \u6240\u4ee5\uff0c\u5f9e\"\u56de\u6b63\"\u7684\u5927\u5c0f\u7a0b\u5ea6(\u800c\u4e0d\u662f\u5feb\u6162)\u4e0a\u5c31\u53ef\u4ee5\u7c21\u55ae\u6bd4\u8f03\u9019\u584a\u7522\u54c1\u7684\u9640\u87ba\u5100\u6027\u80fd\u3002","title":"5. \u6c92\u6709\u8f49\u53f0\u7b49\u5c08\u696d\u8a2d\u5099\uff0c\u5982\u4f55\u7c21\u55ae\u5feb\u901f\u7684\u5b9a\u6027\u8a55\u4f30\u52d5\u614b\u7cbe\u5ea6?"},{"location":"FAQ/FAQ/#c-1-hi221-hi221","text":"","title":"C-1. \u7591\u554f : \u7121\u7dda HI221\u7bc0\u9ede / HI221\u63a5\u6536\u6a5f"},{"location":"FAQ/FAQ/#1","text":"\u82e5\u4f7f\u7528\u8005\u5df2\u7d93\u4f9d\u7167\u8aaa\u660e\u66f8\u8a2d\u5b9a\u4e0d\u540c\u7121\u7dda\u983b\u6bb5 (GWID)\uff0c\u5247\u4e0d\u6703\u3002\u7136\u800c\u5e7e\u9805\u4f7f\u7528\u60c5\u5f62\u5bb9\u6613\u9020\u6210\u4e92\u76f8\u5e72\u64fe\uff0c\u9700\u8981\u907f\u514d: 5 \u7c73\u7bc4\u570d\u5167\u4e0d\u5efa\u8b70\u4f7f\u7528\u8d85\u904e 4 \u7d44\u63a5\u6536\u6a5f \u6bcf\u7d44\u63a5\u6536\u6a5f\u8207\u914d\u5c0d\u7bc0\u9ede\u4e4b\u9593\u8ddd\u96e2\u76f8\u8fd1\uff0c\u4f8b\u5982 GWID=1 \u7684\u63a5\u6536\u6a5f\u8207\u7bc0\u9ede\u8ddd\u96e2\u6700\u8fd1\uff0c\u907f\u514d\u8ddf GWID=2 \u7684\u7bc0\u9ede\u8ddd\u96e2\u6700\u8fd1\u3002","title":"1. \u63a5\u6536\u6a5f\u6703\u4e92\u76f8\u5e72\u64fe\u55ce?"},{"location":"ch100/ch100/","text":"CH100 \u7528\u6236\u624b\u518a IMU/VRU\u59ff\u614b\u6e2c\u91cf\u6a21\u7d44, Rev 1.0 \u6676\u7247 \u6a21\u7d44 CH100 \u7528\u6236\u624b\u518a \u6676\u7247 \u6a21\u7d44 \u7c21\u4ecb \u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u6578\u64da\u8655\u7406 \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb \u5176\u4ed6 \u786c\u9ad4\u53ca\u5c3a\u5bf8 \u786c\u9ad4\u53c3\u6578 \u5c3a\u5bf8 \u63a5\u53e3\u5b9a\u7fa9 \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u9640\u87ba\u5100 \u52a0\u901f\u5ea6\u8a08 \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578 \u611f\u6e2c\u5668\u6821\u6e96 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd \u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868 0x90(\u7528\u6236ID) 0xA0(\u52a0\u901f\u5ea6) 0xB0(\u89d2\u901f\u5ea6) 0xC0(\u78c1\u5834\u5f37\u5ea6) 0xD0(\u6b50\u62c9\u89d2) 0XD1(\u56db\u5143\u6578) 0XF0(\u6c23\u58d3) 0X91( IMUSOL) \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 CAN\u901a\u8a0a\u5354\u8b70 CANopen \u9ed8\u8a8d\u8a2d\u7f6e CANopen TPTO 1. \u4f7f\u80fd\u6578\u64da\u8f38\u51fa(\u958b\u555f\u7570\u6b65\u89f8\u767c) 2. \u4fee\u6539CAN\u9b91\u7387\uff0c\u8f38\u51fa\u901f\u7387\u53ca\u8f38\u51fa\u5e40\u8cc7\u8a0a \u793a\u4f8b1: \u4fee\u6539CAN\u9b91\u7387 \u793a\u4f8b2: \u4fee\u6539\u7bc0\u9edeID \u793a\u4f8b3: \u4fee\u6539\u6578\u64da\u8f38\u51fa\u901f\u7387 \u793a\u4f8b4: \u95dc\u9589TPDO\u8f38\u51fa AT\u6307\u4ee4 AT+ID AT+INFO AT+ODR AT+BAUD AT+EOUT AT+RST AT+SETPTL AT+URFR \u9644\u9304A - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e \u7c21\u4ecb CH100\u662f\u8d85\u6838\u96fb\u5b50\u63a8\u51fa\u7684\u4e00\u6b3e\u9ad8\u6027\u80fd\u3001\u5c0f\u9ad4\u7a4d\u3001\u4f4e\u5ef6\u6642\u7684\u6163\u6027\u6e2c\u91cf\u55ae\u5143(IMU)\uff0c\u672c\u7522\u54c1\u6574\u5408\u4e86\u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08\u3001\u4e09\u8ef8\u9640\u87ba\u5100\u548c\u4e00\u6b3e\u5fae\u63a7\u5236\u5668\u3002\u53ef\u8f38\u51fa\u7d93\u904e\u611f\u6e2c\u5668\u878d\u5408\u7b97\u6cd5\u8a08\u7b97\u5f97\u5230\u7684\u57fa\u65bc\u7576\u5730\u5730\u7406\u5750\u6a19\u7684\u4e09\u7dad\u65b9\u4f4d\u6578\u64da\uff0c\u5305\u542b\u7121\u7d55\u5c0d\u53c3\u8003\u7684\u76f8\u5c0d\u822a\u5411\u89d2\uff0c\u4fef\u4ef0\u89d2\u548c\u6a6b\u6efe\u89d2\u3002\u540c\u6642\u4e5f\u53ef\u4ee5\u8f38\u51fa\u6821\u6e96\u904e\u7684\u539f\u59cb\u7684\u611f\u6e2c\u5668\u6578\u64da\u3002 \u5178\u578b\u61c9\u7528: \u6a5f\u5668\u4eba/AGV DR SLAM\u61c9\u7528 \u7121\u4eba\u99d5\u99db/\u7d44\u5408\u5c0e\u822a\u7528IMU \u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u9640\u87ba\u5100, \u6700\u5927\u91cf\u7a0b: \u00b1500\u00b0/s \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08, \u6700\u5927\u91cf\u7a0b:\u00b18G \u6578\u64da\u8655\u7406 \u52a0\u901f\u5ea6\u548c\u9640\u87ba\u5100\u51fa\u5ee0\u524d\u7d93\u904e\u4e09\u8ef8\u975e\u6b63\u4ea4\u548c\u6a19\u5ea6\u56e0\u5b50\u6821\u6e96 \u6578\u64da\u878d\u5408\u7b97\u6cd5\u8a08\u7b97\u4e26\u8f38\u51fa\u5730\u7406\u5750\u6a19\u7cfb\u4e0b\u7684\u65cb\u8f49\u56db\u5143\u6578\u53ca\u6b50\u62c9\u89d2\u7b49\u59ff\u614b\u8cc7\u8a0a \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb TTL\u5e8f\u5217\u57e0 \u4f9b\u96fb\u96fb\u58d3\uff1a3.3V - 5V \u5176\u4ed6 PC\u7aef CH-Center \u8edf\u9ad4\u7a0b\u5e8f\uff0c\u63d0\u4f9b\u5373\u6642\u6578\u64da\u986f\u793a\uff0c\u6ce2\u5f62\uff0c\u6821\u6e96\u53caexcel \u6578\u64da\u8a18\u9304\u529f\u80fd \u591a\u9805\u6a21\u7d44\u53c3\u6578\u7528\u6236\u53ef\u914d\u7f6e \u786c\u9ad4\u53ca\u5c3a\u5bf8 \u786c\u9ad4\u53c3\u6578 \u53c3\u6578 \u63cf\u8ff0 \u8f38\u51fa\u6578\u64da\u63a5\u53e3 TTL\u5e8f\u5217\u57e0 \u5de5\u4f5c\u96fb\u58d3 3.3V - 5V \u6eab\u5ea6\u7bc4\u570d -20\u2103 - 85\u2103 \u6700\u5927\u7dda\u6027\u52a0\u901f\u5ea6 0 - 115 m/s^2 m/s^2 \u5c3a\u5bf8 20 x 25 x 3mm (W x L x H) \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08 \u4e09\u8ef8\u9640\u87ba\u5100 \u5c3a\u5bf8 \u63a5\u53e3\u5b9a\u7fa9 \u5f15\u8173\u865f \u540d\u7a31 \u8aaa\u660e 1 VCC \u96fb\u6e90 3.3V 2 GND GNS 3 EN \u4f7f\u80fd \u9ad8\u96fb\u5e73\u6709\u6548\uff0c\u5167\u90e8\u4e0a\u62c9\uff0c\u4e0d\u9700\u8981\u53ef\u61f8\u7a7a 4 SOUT \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 5 SIN \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 6 RXD2 \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 7 TXD2 \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 8 GND GND 9 IO5 \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 10 RSV1 \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 11 TXD1 \u6a21\u7d44\u5e8f\u5217\u57e0\u767c\u9001 UART TXD (\u63a5 MCU \u7684 RXD) 12 RXD1 \u6a21\u7d44\u5e8f\u5217\u57e0\u63a5\u6536 UART RXD(\u63a5 MCU \u7684 TXD) 13 RSV2 \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 14 CAN_RX CAN_RX 15 CAN_TX CAN_TX 16 RSV3 \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 17 RSV4 \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 18 NRST \u5fa9\u4f4d, \u5167\u90e8\u4e0a\u62c9\u3002>10uS \u4f4e\u96fb\u5e73\u5fa9\u4f4d\u6a21\u7d44\u3002\u7121\u9700\u5916\u63a5\u963b\u5bb9\uff0c\u5efa\u8b70\u63a5\u5230MCU\u7684GPIO\u5f15\u8173\u4ee5\u5be6\u73fe\u8edf\u9ad4\u5fa9\u4f4d \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u8f09\u9ad4\u7cfb\u4f7f\u7528 \u53f3-\u524d-\u4e0a(RFU)\u5750\u6a19\u7cfb\uff0c \u5730\u7406\u5750\u6a19\u7cfb\u4f7f\u7528 \u6771-\u5317-\u5929(ENU)\u5750\u6a19\u7cfb\u3002\u5176\u4e2d\u6b50\u62c9\u89d2\u65cb\u8f49\u9806\u5e8f\u70ba\u6771-\u5317-\u5929-312(\u5148\u8f49Z\u8ef8\uff0c\u518d\u8f49X\u8ef8\uff0c\u6700\u5f8c\u8f49Y\u8ef8)\u65cb\u8f49\u9806\u5e8f\u3002\u5177\u9ad4\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7e5e Z \u8ef8\u65b9\u5411\u65cb\u8f49: \u822a\u5411\u89d2\\Yaw\\phi( \\psi \\psi ) \u7bc4\u570d: -180\u00b0 - 180\u00b0 \u7e5e X \u8ef8\u65b9\u5411\u65cb\u8f49:\u4fef\u4ef0\u89d2\\Pitch\\theta( \\theta \\theta ) \u7bc4\u570d: -90\u00b0-90\u00b0 \u7e5e Y \u8ef8\u65b9\u5411\u65cb\u8f49: \u6a6b\u6efe\u89d2\\Roll\\psi( \\phi \\phi )\u7bc4\u570d: -180\u00b0-180\u00b0 \u5982\u679c\u5c07\u6a21\u7d44\u8996\u70ba\u98db\u884c\u5668\u7684\u8a71\u3002Y\u8ef8\u6b63\u65b9\u5411\u61c9\u8996\u70ba\u6a5f\u982d\u65b9\u5411\u3002\u7576\u611f\u6e2c\u5668\u7cfb\u8207\u6163\u6027\u7cfb\u91cd\u5408\u6642\uff0c\u6b50\u62c9\u89d2\u7684\u7406\u60f3\u8f38\u51fa\u70ba:Pitch = 0\u00b0, Roll = 0\u00b0, Yaw = 0\u00b0 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u59ff\u614b\u89d2 \u5178\u578b\u503c \u5099\u8a3b \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u975c\u614b\u8aa4\u5dee 0.4\u00b0 \u8f09\u9ad4\u4f4e\u6a5f\u52d5\u5e73\u7a69\u904b\u52d5 \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u52d5\u614b\u8aa4\u5dee 1.0\u00b0 \u8f09\u9ad4\u4f4e\u6a5f\u52d5\u5e73\u7a69\u904b\u52d5 \u904b\u52d5\u4e2d\u822a\u5411\u89d2\u7cbe\u5ea6 4\u00b0 @20min \u8f09\u9ad4\u6c34\u5e73\u5e73\u7a69\u904b\u52d5\u4e14\u4e0a\u96fb\u5f8c\u975c\u6b623s \u9640\u87ba\u5100 \u53c3\u6578 \u503c \u5099\u8a3b \u6e2c\u91cf\u7bc4\u570d \u00b1500\u00b0/s \u96f6\u504f\u7a69\u5b9a\u6027X\u8ef8 3.5\u00b0/h @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Y\u8ef8 2\u00b0/h @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Z\u8ef8 2\u00b0/h @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u91cd\u8907\u6027 0.035\u00b0/s @25\u00b0,1 \\sigma \\sigma \u975e\u6b63\u4ea4\u8aa4\u5dee \u00b10.1% \u96a8\u6a5f\u904a\u8d70X\u8ef8 0.3 \u00b0/s\\sqrt{h} \u00b0/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Y\u8ef8 0.3 \u00b0/s\\sqrt{h} \u00b0/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Z\u8ef8 0.25 \u00b0/s\\sqrt{h} \u00b0/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u523b\u5ea6\u975e\u7dda\u6027\u5ea6 \u00b10.1% \u6eff\u91cf\u7a0b\u6642(\u6700\u5927) \u523b\u5ea6\u4fc2\u6578\u8aa4\u5dee \u00b10.4% \u51fa\u5ee0\u524d\u6821\u6e96\u5f8c \u52a0\u901f\u5ea6\u654f\u611f\u6027 0.1\u00b0/s/g \u9640\u87baAllan\u65b9\u5dee\u66f2\u7dda \u52a0\u901f\u5ea6\u8a08 \u53c3\u6578 \u503c \u5099\u8a3b \u6e2c\u91cf\u7bc4\u570d \u00b18G (1G = 1x \u91cd\u529b\u52a0\u901f\u5ea6 ) \u96f6\u504f\u7a69\u5b9a\u6027X\u8ef8 30uG @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Y\u8ef8 30uG @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Z\u8ef8 40uG @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u91cd\u8907\u6027 1.8mG @25\u00b0,1 \\sigma \\sigma \u975e\u6b63\u4ea4\u8aa4\u5dee \u00b10.1% \u00b10.1% \u96a8\u6a5f\u904a\u8d70X\u8ef8 0.04 m/s\\sqrt{h} m/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Y\u8ef8 0.04 m/s\\sqrt{h} m/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Z\u8ef8 0.06 m/s\\sqrt{h} m/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u523b\u5ea6\u4fc2\u6578\u8aa4\u5dee \u00b10.3% (\u6eff\u91cf\u7a0b\u6642) \u5168\u6eab\u7bc4\u570d\u6eab\u5ea6\u8b8a\u5316 2mg -20 - 85\u00b0 \u52a0\u901f\u5ea6Allan\u65b9\u5dee\u66f2\u7dda \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578 \u53c3\u6578 \u503c \u5e8f\u5217\u57e0\u8f38\u51fa\u9b91\u7387 9600/115200/460800/921600\u53ef\u9078 \u5e40\u8f38\u51fa\u901f\u7387 1/50/100/200/400Hz \u53ef\u9078 \u555f\u52d5\u6642\u9593 <1s \u611f\u6e2c\u5668\u6821\u6e96 \u52a0\u901f\u5ea6\u8a08\u548c\u9640\u87ba\u5100\u5728\u51fa\u5ee0\u524d\u7d93\u904e\u6bd4\u4f8b\u56e0\u5b50\u8aa4\u5dee\u548c\u975e\u6b63\u4ea4\u8aa4\u5dee\u6821\u6e96\uff0c\u6821\u6e96\u53c3\u6578\u4fdd\u5b58\u5728\u6a21\u7d44\u5167\u90e8\u3002 \u9640\u87ba\u5100\u7684\u8f38\u51fa\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u6703\u6709\u4e00\u500b\u96a8\u6a5f\u7684\u4e0d\u70ba0\u7684bias\uff0c\u7a31\u4e4b\u70ba\u96f6\u504f\u91cd\u8907\u6027\u3002\u9019\u500b\u96a8\u6a5fbias\u4e0d\u80fd\u5728\u51fa\u5ee0\u524d\u88ab\u6821\u6e96\u3002\u7cfb\u7d71\u5728\u555f\u52d5\u5f8c1S\u5167\u8a8d\u70ba\u8655\u65bc\u975c\u6b62\u72c0\u614b\u4e26\u63a1\u96c61S\u7684\u9640\u87ba\u5100\u89d2\u901f\u5ea6\u4f5c\u70ba\u521d\u59cbbias\u3002\u9019\u500b\u904e\u7a0b\u7a31\u4e4b\u70ba\u9640\u87ba\u5100\u4e0a\u96fb\u81ea\u6821\u6e96\u3002\u81ea\u6821\u6e96\u5728\u4e0a\u96fb\u5f8c\u975c\u6b62\u6a21\u7d443s \u5de6\u53f3\u53ef\u7372\u5f97\u6700\u597d\u7684\u6821\u6e96\u6548\u679c\u3002 \u5982\u4e0a\u96fb1s\u5167\u6a21\u7d44\u8655\u65bc\u904b\u52d5\u72c0\u614b(\u5305\u62ec\u7de9\u6162\u8f49\u52d5\uff0c\u632f\u52d5\u7b49)\u5247\u822a\u5411\u89d2\u98c4\u79fb\u73fe\u8c61\u6703\u986f\u8457\u589e\u5927 \u3002 \u5efa\u8b70\u4f7f\u7528\u6642\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u975c\u6b62\u81f3\u5c111s\u3002 \u78c1\u611f\u6e2c\u5668(\u90e8\u5206\u578b\u865f\u652f\u63f4)\u51fa\u5ee0\u524d\u7d93\u904e\u6a62\u7403\u6821\u6e96\uff0c\u4f46\u78c1\u611f\u6e2c\u5668\u5f88\u5bb9\u6613\u53d7\u5230\u5916\u754c\u74b0\u5883\u78c1\u5834\u5e72\u64fe\uff0c\u4e00\u822c\u90fd\u9700\u8981\u5ba2\u6236\u91cd\u65b0\u6821\u6e96\uff0c\u51fa\u5ee0\u6821\u6e96\u53c3\u6578\u610f\u7fa9\u4e0d\u5927\u3002\u8a73\u898b\u5730\u78c1\u6821\u6e96\u7ae0\u7bc0\u3002 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6a21\u7d44\u4e0a\u96fb\u5f8c\uff0c\u9ed8\u8a8d\u6309\u51fa\u5ee0\u5e40\u7387(\u901a\u5e38\u70ba100)\u8f38\u51fa\u5e40\u6578\u64da\uff0c\u5e40\u683c\u5f0f\u5982\u4e0b\uff1a \u57df\u540d\u7a31 \u503c \u9577\u5ea6(\u5b57\u7bc0) \u8aaa\u660e PRE 0x5A 1 \u56fa\u5b9a\u70ba0x5A TYPE 0xA5 1 \u56fa\u5b9a\u70ba0xA5 LEN 1-512 2 \u5e40\u4e2d\u6578\u64da\u57df\u7684\u9577\u5ea6\uff0c\u4f4e\u5b57\u7bc0\u5728\u524d\u3002\u9577\u5ea6\u8868\u793a\u6578\u64da\u57df(PAYLOAD)\u7684\u9577\u5ea6\uff0c\u4e0d\u5305\u542b PRE , TYPE , LEN , CRC \u5b57\u6bb5\u3002 CRC - 2 \u9664CRC \u672c\u8eab\u5916\u5176\u9918\u6240\u6709\u5b57\u6bb5( PRE,TYPE,LEN, PAYLOAD )\u5e40\u6578\u64da\u768416 \u4f4dCRC \u6821\u9a57\u548c\u3002LSB(\u4f4e\u5b57\u7bc0\u5728\u524d) PAYLOAD - 1-512 \u4e00\u5e40\u651c\u5e36\u7684\u6578\u64da\u3002PAYLOAD\u57df \u7531\u82e5\u5e72\u500b**\u5b50\u6578\u64da\u5305**\u7d44\u6210\u3002\u6bcf\u500b\u6578\u64da\u5305\u5305\u542b\u6578\u64da\u5305\u6a19\u7c64\u548c\u6578\u64da\u5169\u90e8\u5206\u3002\u6a19\u7c64\u6c7a\u5b9a\u4e86\u6578\u64da\u7684\u985e\u578b\u53ca\u9577\u5ea6\u3002 CRC\u5be6\u73fe\u51fd\u6578\uff1a /* currectCrc: previous crc value, set 0 if it's first section src: source stream data lengthInBytes: length */ static void crc16_update(uint16_t *currectCrc, const uint8_t *src, uint32_t lengthInBytes) { uint32_t crc = *currectCrc; uint32_t j; for (j=0; j < lengthInBytes; ++j) { uint32_t i; uint32_t byte = src[j]; crc ^= byte << 8; for (i = 0; i < 8; ++i) { uint32_t temp = crc << 1; if (crc & 0x8000) { temp ^= 0x1021; } crc = temp; } } *currectCrc = crc; } \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd \u6578\u64da\u5305\u6a19\u7c64 \u6578\u64da\u5305\u9577\u5ea6(\u5305\u542b\u6a19\u7c641\u5b57\u7bc0) \u540d\u7a31 \u5099\u8a3b 0x90 2 \u7528\u6236ID 0xA0 7 \u52a0\u901f\u5ea6 0xB0 7 \u89d2\u901f\u5ea6 0xC0 7 \u78c1\u5834\u5f37\u5ea6 0xD0 7 \u6b50\u62c9\u89d2 0xD1 17 \u56db\u5143\u6578 0xF0 5 \u6c23\u58d3 \u8f38\u51fa0 0x91 76 IMUSOL(IMU\u6578\u64da\u96c6\u5408) \u63a8\u85a6\u4f7f\u7528 \u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868 0x90(\u7528\u6236ID) \u51712\u5b57\u7bc0\uff0c\u7528\u6236\u8a2d\u7f6e\u7684ID\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x90 1 uint8_t 1 - \u7528\u6236ID 0xA0(\u52a0\u901f\u5ea6) \u51717 \u500b\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u52a0\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xA0 1 int16_t 2 0.001G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) X\u8ef8\u52a0\u901f\u5ea6 3 int16_t 2 0.001G Y\u8ef8\u52a0\u901f\u5ea6 5 int16_t 2 0.001G Z\u8ef8\u52a0\u901f\u5ea6 0xB0(\u89d2\u901f\u5ea6) \u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u89d2\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64\uff1a0xB0 1 int16_t 2 0.1\u00b0/s X\u8ef8\u89d2\u901f\u5ea6 3 int16_t 2 0.1\u00b0/s Y\u8ef8\u89d2\u901f\u5ea6 5 int16_t 2 0.1\u00b0/s Z\u8ef8\u89d2\u901f\u5ea6 0xC0(\u78c1\u5834\u5f37\u5ea6) \u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u78c1\u5834\u5f37\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xC0 1 int16_t 2 0.001Gauss X\u8ef8\u78c1\u5834\u5f37\u5ea6 3 int16_t 2 0.001Gauss Y\u8ef8\u78c1\u5834\u5f37\u5ea6 5 int16_t 2 0.001Gauss Z\u8ef8\u78c1\u5834\u5f37\u5ea6 0xD0(\u6b50\u62c9\u89d2) \u51717\u5b57\u7bc0\uff0cLSB\u3002\u683c\u5f0f\u70baint16\uff0c\u5171\u4e09\u500b\u8ef8\uff0c\u6bcf\u500b\u8ef8\u53602 \u500b\u5b57\u7bc0\uff0c\u9806\u5e8f\u70baPitch/Roll/Yaw\u3002\u63a5\u6536\u5230Roll, Pitch \u70ba\u7269\u7406\u503c\u4e58\u4ee5100 \u5f8c\u5f97\u5230\u7684\u6578\u503c\uff0cYaw \u70ba\u4e58\u4ee510 \u5f97\u5230\u7684\u6578\u503c\u3002 \u4f8b\uff1a\u7576\u63a5\u6536\u5230\u7684Yaw = 100 \u6642\uff0c\u8868\u793a\u822a\u5411\u89d2\u70ba10\u00b0 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD0 1 int16_t 2 0.01\u00b0 Pitch(\u4fef\u4ef0\u89d2) 3 int16_t 2 0.01\u00b0 Roll(\u6a6b\u6efe\u89d2) 5 int16_t 2 0.1\u00b0 Yaw(\u822a\u5411\u89d2) 0XD1(\u56db\u5143\u6578) \u517117\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\uff0c\u51714\u500b\u503c\uff0c\u9806\u5e8f\u70ba:W X Y Z.\u3002\u6bcf\u500b\u503c\u53604 \u5b57\u7bc0(float)\uff0c\u6574\u500b\u56db\u5143\u6578\u70ba4\u500bfloat\uff0cLSB\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD1 1 float 4 - W 5 float 4 - X 9 float 4 - Y 13 float 4 - Z 0XF0(\u6c23\u58d3) \u51715\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\u3002(\u53ea\u91dd\u5c0d\u6709\u6c23\u58d3\u611f\u6e2c\u5668\u7684\u7522\u54c1) \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xF0 1 float 4 Pa \u5927\u6c23\u58d3 0X91( IMUSOL) \u517176\u5b57\u7bc0\uff0c\u65b0\u52a0\u5165\u7684\u6578\u64da\u5305\uff0c\u7528\u65bc\u66ff\u4ee3A0,B0,C0,D0,D1\u7b49\u6578\u64da\u5305\u3002\u6574\u5408\u4e86IMU\u7684\u611f\u6e2c\u5668\u539f\u59cb\u8f38\u51fa\u548c\u59ff\u614b\u89e3\u7b97\u6578\u64da\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x91 1 uint8_t 1 - ID 2 - 6 - \u4fdd\u7559 8 uint32_t 4 ms \u6642\u9593\u6233\u8cc7\u8a0a\uff0c\u5f9e\u7cfb\u7d71\u958b\u6a5f\u958b\u59cb\u7d2f\u52a0\uff0c\u6bcf\u6beb\u79d2\u589e\u52a01 12 float 12 1G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) \u52a0\u901f\u5ea6,\u9806\u5e8f\u70ba\uff1aXYZ(\u6ce8\u610f\u55ae\u4f4d\u548c0xA0\u5305\u4e0d\u540c) 24 float 12 deg/s \u89d2\u901f\u5ea6,\u9806\u5e8f\u70ba\uff1a XYZ(\u6ce8\u610f\u55ae\u4f4d\u548c0xB0\u5305\u4e0d\u540c) 36 float 12 uT \u78c1\u5f37\u5ea6,\u9806\u5e8f\u70ba\uff1a XYZ(\u6ce8\u610f\u55ae\u4f4d\u548c0xC0\u5305\u4e0d\u540c) 48 float 12 deg \u7bc0\u9ede\u6b50\u62c9\u89d2 \u9806\u5e8f\u70ba\uff1a\u6a6b\u6efe\u89d2(Roll)\uff0c\u4fef\u4ef0\u89d2(Pitch)\uff0c\u822a\u5411\u89d2(Yaw)(\u6ce8\u610f\u9806\u5e8f\u548c\u55ae\u4f4d\u82070xD0\u5305\u4e0d\u540c) 60 float 16 - \u7bc0\u9ede\u56db\u5143\u6578\u96c6\u5408,\u9806\u5e8f\u70baWXYZ \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u51fa\u5ee0\u9ed8\u8a8d\u4e00\u5e40\u4e2d\u651c\u5e36\u6578\u64da\u5305\u6578\u64da\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7522\u54c1 \u9ed8\u8a8d\u8f38\u51fa\u6578\u64da\u5305 HI226 90,A0,B0,C0,D0,F0 HI229 90,A0,B0,C0,D0,F0 CH100 91 CH110 91 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305 \u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517141\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991835\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 23 00 FD 61 90 00 A0 55 02 3D 01 E2 02 B0 FE FF 17 00 44 00 C0 80 FF 60 FF 32 FF D0 64 F2 6C 0E BB 01 F0 00 00 00 00 \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 23 00 : (0x00<<8) + 0x23 = 35 \u5e40CRC\u6821\u9a57\u503c: FD 61 :(0x61<<8) + 0xFD = 0x61FD \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x61FD, \u8207\u5e40\u651c\u5e36\u7684CRC\u503c\u76f8\u540c, \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da 90 00 \uff1aID \u6578\u64da\u5305, 0x90\u70ba\u6578\u64da\u5305\u6a19\u7c64, ID = 0x00. A0 55 02 3D 01 E2 02 :\u52a0\u901f\u5ea6\u6578\u64da\u5305,0xA0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u52a0\u901f\u5ea6\u70ba\uff1a X\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0x55) = 597(\u55ae\u4f4d\u70bamG) Y\u8ef8\u52a0\u901f\u5ea6 = (int16_t)((0x01<<8)+ 0x3D) = 317 Z\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0xE2) = 738 B0 FE FF 17 00 44 00 :\u89d2\u901f\u5ea6\u6578\u64da\u5305,0xB0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u89d2\u901f\u5ea6\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0xFE) = -2(\u55ae\u4f4d\u70ba0.1\u00b0/s) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0x00<<8)+ 0x17) = 23 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0x00<<8)+ 0x44) = 68 C0 80 FF 60 FF 32 FF :\u78c1\u5834\u6578\u64da\u5305,0xC0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u78c1\u5834\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x80) = -128 (\u55ae\u4f4d\u70ba0.001Gauss) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0xFF<<8)+ 0x60) = -160 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x32) = -206 D0 64 F2 6C 0E BB 01 \u6b50\u62c9\u89d2\u6578\u64da\u5305, 0xD0\u70ba\u6578\u64da\u5305\u6a19\u7c64 Pitch= (int16_t)((0xF2<<8)+ 0x64) / 100 = -3484 / 100 = -34.84 \u00b0 Roll= (int16_t)((0x0E<<8)+ 0x6C) / 100 = 3692 / 100 = 36.92\u00b0 Yaw = (int16_t)((0x01<<8)+ 0xBB) / 10 = 443 /10 = 44.3\u00b0 F0 00 00 00 00 \u6c23\u58d3\u6578\u64da\u5305\uff0c0xF0\u70ba\u6578\u64da\u5305\u6a19\u7c64 float prs; prs = memcpy(&prs, &buf[37], 4); \u6700\u5f8c\u5f97\u5230\u7d50\u679c\uff1a id : 0 acc(G) : 0.597 0.317 0.738 gyr(deg/s) : -0.200 2.300 6.800 mag(uT) : -12.800 -16.000 -20.600 eul(R/P/Y) : 36.920 -34.840 44.300 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 \u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517182\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991876\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 4C 00 6C 51 91 00 A0 3B 01 A8 02 97 BD BB 04 00 9C A0 65 3E A2 26 45 3F 5C E7 30 3F E2 D4 5A C2 E5 9D A0 C1 EB 23 EE C2 78 77 99 41 AB AA D1 C1 AB 2A 0A C2 8D E1 42 42 8F 1D A8 C1 1E 0C 36 C2 E6 E5 5A 3F C1 94 9E 3E B8 C0 9E BE BE DF 8D BE \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 4C 00 : (0x00<<8) + 0x4C = 76 \u5e40CRC\u6821\u9a57\u503c: 6C 51 :(0x51<<8) + 0x6C = 0x516C \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x516C. \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da \u5f9e 0x91 \u958b\u59cb\u70ba\u6578\u64da\u5305\u7684\u6578\u64da\u57df\u3002\u5728C\u8a9e\u8a00\u4e2d\u53ef\u4ee5\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u4f86\u65b9\u4fbf\u7684\u8b80\u53d6\u6578\u64da\uff1a \u5b9a\u7fa90x91\u6578\u64da\u5305\u7d50\u69cb\u9ad4\u5982\u4e0b\uff1a __packed typedef struct { uint8_t tag; /* \u6578\u64da\u6a19\u7c64:0x91 */ uint8_t id; /* \u6a21\u7d44ID */ uint8_t rev[6]; /* reserved */ uint32_t ts; /* \u6642\u9593\u6233 */ float acc[3]; /* \u52a0\u901f\u5ea6 */ float gyr[3]; /* \u89d2\u901f\u5ea6 */ float mag[3]; /* \u5730\u78c1 */ float eul[3]; /* \u6b50\u62c9\u89d2: Roll,Pitch,Yaw */ float quat[4]; /* \u56db\u5143\u6578 */ }id0x91_t; __packed \u70ba\u7de8\u8b6f\u5668\u95dc\u9375\u5b57(Keil\u4e0b)\uff0c\u8868\u793a\u7d50\u69cb\u9ad4\u6309\u5b57\u7bc0\u7dca\u5c0d\u9f4a\uff0c\u7d50\u69cb\u9ad4\u6bcf\u4e00\u500b\u5143\u7d20\u4e00\u4e00\u5c0d\u61c90x91\u6578\u64da\u5305\u7684\u7d50\u69cb\u5b9a\u7fa9\u3002\u63a5\u6536\u6578\u64da\u6642\u5c07\u63a5\u6536\u5230\u7684\u9663\u5217\u76f4\u63a5memcpy\u5230\u7d50\u69cb\u9ad4\u5373\u53ef\uff1a(\u6ce8\u610f\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u6642\u5fc5\u98084\u5b57\u7bc0\u5c0d\u9f4a), \u5176\u4e2d buf \u6307\u5411\u5e40\u982d, buf[6] \u6307\u5411\u5e40\u4e2d\u6578\u64da\u57df \u3002 /* \u63a5\u6536\u6578\u64da\u4e26\u4f7f\u75280x91\u6578\u64da\u5305\u7d50\u69cb\u5b9a\u7fa9\u4f86\u89e3\u91cb\u6578\u64da */ __align(4) id0x91_t dat; /* struct must be 4 byte aligned */ memcpy(&dat, &buf[6], sizeof(id0x91_t)); \u6700\u5f8c\u5f97\u5230dat\u6578\u64da\u7d50\u679c\uff1a id : 0 timestamp : 310205 acc : 0.224 0.770 0.691 gyr : -54.708 -20.077 -119.070 mag : 19.183 -26.208 -34.542 eul(R/P/Y) : 48.720 -21.014 -45.512 quat : 0.855 0.310 -0.310 -0.277 CAN\u901a\u8a0a\u5354\u8b70 \u672c\u7522\u54c1CAN\u63a5\u53e3\u9075\u5faa\u4ee5\u4e0b\u6a19\u6e96\uff1a CAN\u63a5\u53e3\u7b26\u5408CANopen\u5354\u8b70\uff0c\u6240\u6709\u901a\u8a0a\u5747\u4f7f\u7528\u6a19\u6e96\u6578\u64da\u5e40\uff0c\u53ea\u4f7f\u7528PTO1-4 \u50b3\u8f38\u6578\u64da\uff0c\u6240\u6709\u50b3\u8f38\u5747\u63a1\u7528\u6a19\u6e96\u6578\u64da\u5e40\uff0c\u4e0d\u63a5\u6536\u9060\u7a0b\u5e40\u548c\u62d3\u5c55\u6578\u64da\u5e40 PTO\u63a1\u7528\u7570\u6b65\u5b9a\u6642\u89f8\u767c\u6a21\u5f0f, \u9ed8\u8a8d\u8f38\u51fa\u901f\u7387\u70ba50Hz \u7576\u6a21\u7d44\u4e0a\u96fb\u6642\uff0c\u6309\u7167CANopen\u5354\u8b70\uff0c\u6a21\u7d44\u6703\u4e3b\u52d5\u767c\u9001\u4e00\u689d(\u4e00\u6b21)\u7bc0\u9ede\u4e0a\u7dda\u5831\u6587\u3002\u7bc0\u9ede\u4e0a\u96fb\u8655\u65bc\u9810\u64cd\u4f5c\u72c0\u614b(pre-operational), \u9700\u8981\u4e3b\u6a5f\u767c\u9001NMT\u5354\u8b70\u5c07\u7bc0\u9ede\u8a2d\u7f6e\u70baoperation\u72c0\u614b\u624d\u6703\u958b\u59cb\u767c\u9001\u6578\u64da CANopen \u9ed8\u8a8d\u8a2d\u7f6e CANopen\u9ed8\u8a8d\u914d\u7f6e \u503c CAN \u9b91\u7387 500KHz CANopen\u7bc0\u9edeID 8 \u521d\u59cb\u5316\u72c0\u614b \u9810\u64cd\u4f5c(Pre-operational),\u9700\u8981\u767c\u9001Start Remote Node\u547d\u4ee4\u6a21\u7d44\u624d\u80fd\u958b\u59cb\u8f38\u51fa\u6578\u64da(\u898b\u4e0b\u7bc0) \u5fc3\u8df3\u5305 \u7121 CANopen TPTO PTO\u901a\u9053 PTO \u5e40ID \u9577\u5ea6 PTO \u50b3\u8f38\u65b9\u5f0f \u7570\u6b65\u8f38\u51fa\u983b\u7387\uff08Hz\uff09 \u767c\u9001\u6578\u64da \u8aaa\u660e TPDO1 0x180+ID 6 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u52a0\u901f\u5ea6 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u5206\u5225\u70baX,Y,Z\u8ef8\u52a0\u901f\u5ea6\uff0c\u55ae\u4f4d\u70bamG(0.001\u91cd\u529b\u52a0\u901f\u5ea6) TPDO2 0x280+ID 6 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u89d2\u901f\u5ea6 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u5206\u5225\u70baX,Y,Z\u8ef8\u89d2\u901f\u5ea6\uff0c\u55ae\u4f4d\u70ba0.1DPS(\u00b0/s) TPDO3 0x380+ID 6 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u6b50\u62c9\u89d2 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u9806\u5e8f\u5206\u5225\u70ba\u6a6b\u6efe\u89d2(Roll,\u7e5eX\u8ef8\u65cb\u8f49),\u4fef\u4ef0\u89d2(Pitch,\u7e5eY\u8ef8\u65cb\u8f49),\u822a\u5411\u89d2(Yaw\u7e5eZ\u8ef8\u65cb\u8f49)\u3002\u6b50\u62c9\u89d2\u55ae\u4f4d\u70ba0.01\u00b0 TPDO4 0x480+ID 8 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u56db\u5143\u6578 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u5206\u5225\u70ba$$ q_{w} q_{x} q_{y} q_{z}$$ \u3002\u55ae\u4f4d\u56db\u5143\u6578\u64f4\u592710000\u500d\u5f8c\u7d50\u679c\u3002\u5982\u56db\u5143\u6578\u70ba1,0,0,0 \u6642, \u8f38\u51fa10000,0,0,0. \u4f7f\u7528USB-CAN\u5de5\u5177\u6293\u53d6\u9ed8\u8a8dCAN\u8f38\u51fa\u5305\u622a\u5716\u5982\u4e0b\uff1a \u5176\u4e2d\u6b50\u62c9\u89d2(PTO3) CAN\u5e40ID =0x380 + 8(\u9ed8\u8a8dID) = 0x388\uff0c \u6578\u64da\u70ba: X\u8ef8\uff1a (0x00 <<8)+ 0x8F = 0x008F = 1.43\u00b0 Y\u8ef8\uff1a (0xFF<<8)+ 0xCF = 0xFFCF = -0.49\u00b0 Z\u8ef8\uff1a(0x0F<<8)+ 0xB9 = 0x0FB9= 40.25\u00b0 ### CAN\u63a5\u53e3\u7de8\u7a0b\u793a\u4f8b 1. \u4f7f\u80fd\u6578\u64da\u8f38\u51fa(\u958b\u555f\u7570\u6b65\u89f8\u767c) \u767c\u9001\u6a19\u6e96CANopen\u5354\u8b70\u5e40\uff0c\u4f7f\u7528NMT: Start Remote Node\u547d\u4ee4: ID=0x000,DLC=2,DATA=0x01,0x08 \u5176\u4e2d 0x01\u70baStart Remote Node\u6307\u4ee4\uff0c 0x08\u70ba\u7bc0\u9edeID 2. \u4fee\u6539CAN\u9b91\u7387\uff0c\u8f38\u51fa\u901f\u7387\u53ca\u8f38\u51fa\u5e40\u8cc7\u8a0a \u6578\u64da\u5b57\u5178\u4ee5\u4e0b\u4f4d\u7f6e\u5b58\u653e\u5ee0\u5546\u53c3\u6578\u914d\u7f6e\u6578\u64da, \u53ef\u901a\u904eCANopen \u767c\u9001\u5feb\u901fSDO\u6307\u4ee4\u4fee\u6539\uff0c \u6389\u96fb\u4fdd\u5b58\uff0c\u91cd\u65b0\u4e0a\u96fb\u751f\u6548 \u3002 \u6578\u64da\u5b57\u5178\u4f4d\u7f6e \u5b50\u504f\u79fb \u540d\u7a31 \u503c\u985e\u578b \u9ed8\u8a8d\u503c \u8aaa\u660e 0x2100 0 CAN_BAUD INTEGER32 500000 CAN\u7e3d\u7dda\u9b91\u7387 0x2101 0 NodeID INTEGER32 8 \u7bc0\u9edeID \u4ee5\u4e0a\u914d\u7f6e\u64cd\u4f5c\u5747\u4f7f\u7528\u5feb\u901fSDO\u4f86\u5beb\u6578\u64da\u5b57\u5178, \u5176\u4e2dTPDO\u901a\u9053\u8207\u5176\u5c0d\u61c9\u7684\u53c3\u6578\u7d22\u5f15\u70ba\uff1a PTO\u901a\u9053 PTO \u5e40ID TPDO\u53c3\u6578\u7d22\u5f15\u5730\u5740(CANopen\u5354\u8b70\u9ed8\u8a8d\u5b9a\u7fa9) TPDO1 0x180+ID 0x1800 TPDO2 0x280+ID 0x1801 TPDO3 0x380+ID 0x1802 TPDO4 0x480+ID 0x1803 \u793a\u4f8b1: \u4fee\u6539CAN\u9b91\u7387 \u5982\u5c07CAN\u9b91\u7387\u4fee\u6539\u70ba125K, \u5247\u767c\u9001\uff1a ID=0x608 ,DLC=8,DATA=0x23,0x00,0x21,0x00,0x48,0xE8,0x01,0x00 (ID=0x608, \u9577\u5ea6\u70ba8\u7684\u6a19\u6e96\u6578\u64da\u5e40) 0x23\u70baSDO\u5beb\u56db\u500b\u5b57\u7bc0\u6307\u4ee4 0x00, 0x21\u70ba\u5beb0x2100\u7d22\u5f15 0x00, 0x01, 0xE8, 0x48 = (0x00<<24) + (0x01<<16) + (0xE8<<8) + 0x48 = 125000 \u5982\u5c07CAN\u9b91\u7387\u4fee\u6539\u70ba250K, \u5247\u767c\u9001\uff1a ID=0x608 ,DLC=8,DATA=0x23,0x00,0x21,0x00,0x90,0xD0,0x03,0x00 0x23\u70baSDO\u5beb\u56db\u500b\u5b57\u7bc0\u6307\u4ee4 0x00, 0x21\u70ba\u5beb0x2100\u7d22\u5f15 0x00, 0x03, 0xD0, 0x90 = (0x00<<24) + (0x03<<16) + (0xD0<<8) + 0x90 = 250000 \u793a\u4f8b2: \u4fee\u6539\u7bc0\u9edeID \u5982\u5c07\u8a2d\u5099CANopen\u7bc0\u9edeID\u6539\u70ba9, \u5247\u767c\u9001\uff1a ID=0x608 ,DLC=8,DATA=0x23,0x01,0x21,0x00,0x09,0x00,0x00,0x00 0x23\u70baSDO\u5beb\u56db\u500b\u5b57\u7bc0\u6307\u4ee4 0x01, 0x21\u70ba\u5beb0x2101\u7d22\u5f15 0x09 0x00, 0x00, 0x00 = (0x00<<24) + (0x00<<16) + (0x00<<8) + 0x09 = 9 \u6ce8\u610f\uff0c\u4fee\u6539\u7bc0\u9edeID\u5f8c\u91cd\u65b0\u4e0a\u96fb\u751f\u6548\uff0c\u4e14\u751f\u6548\u5f8c\u767c\u9001\u555f\u52d5\u7bc0\u9ede\u547d\u4ee4(\u6bd4\u5982\u7bc0\u9ede\u555f\u52d5\u547d\u4ee4\u6578\u64da\u8b8a\u70ba01 09)\u548cSDO\u6307\u4ee4(\u767c\u9001CAN\u5e40ID\u8b8a\u70ba0x609)\u6642\u6ce8\u610f\u70ba\u65b0\u7684\u5730\u5740 \u793a\u4f8b3: \u4fee\u6539\u6578\u64da\u8f38\u51fa\u901f\u7387 \u767c\u9001\u6a19\u6e96CANopen\u5354\u8b70\u5e40\uff0c\u4f7f\u7528\u6a19\u6e96\u5feb\u901fSDO\u6307\u4ee4:(\u6b64\u9805\u914d\u7f6e\u7acb\u5373\u751f\u6548\uff0c\u6389\u96fb\u4e0d\u4fdd\u5b58) \u4fee\u6539TPDO3(\u6b50\u62c9\u89d2)\u8f38\u51fa\u901f\u7387\u70ba20Hz(\u6bcf50ms\u8f38\u51fa\u4e00\u6b21): ID=0x608 ,DLC=8,DATA=0x2B,0x02,0x18,0x05,0x32,0x00,0x00,0x00 \u5176\u4e2d 0x2B\u70baSDO\u5beb\u5169\u500b\u5b57\u7bc0\u6307\u4ee4 0x02, 0x18\u70ba\u5beb0x1802\u7d22\u5f15, 0x05\u70ba\u5b50\u7d22\u5f15 0x00, 0x32= (0x00<<8) + 0x32 = 50(1ms\u70ba\u55ae\u4f4d)\uff0c\u5f8c\u9762\u4e0d\u8db3\u88dc0. \u793a\u4f8b4: \u95dc\u9589TPDO\u8f38\u51fa \u4f8b\uff1a\u95dc\u9589TPDO2\u5b9a\u6642\u8f38\u51fa\uff0c\u5247\u9700\u8981\u5beb0x1801\u7d22\u5f15\uff0c\u5b50\u7d22\u5f15\u70ba0x05, \u5beb\u5165\u503c\u70ba0x0000: ID=0x608 ,DLC=8,DATA=0x2B,0x01,0x18,0x05,0x00,0x00,0x00,0x00 \u5176\u4e2d 0x2B\u70baSDO\u5beb\u5169\u500b\u5b57\u7bc0\u6307\u4ee4 0x01, 0x18\u70ba\u5beb0x1801\u7d22\u5f15 0x05\u5b50\u7d22\u5f15 0x00, 0x00= (0x00<<8) + 0x00 = 0\uff0c\u5f8c\u9762\u4e0d\u8db3\u88dc0. AT\u6307\u4ee4 \u7576\u4f7f\u7528\u5e8f\u5217\u57e0\u8207\u6a21\u7d44\u901a\u8a0a\u6642, \u6a21\u7d44\u652f\u63f4AT \u6307\u4ee4\u96c6\u914d\u7f6e/\u67e5\u770b\u6a21\u7d44\u53c3\u6578\u3002AT \u6307\u4ee4\u7e3d\u4ee5ASCII \u78bc AT \u958b\u982d\uff0c\u5f8c\u9762\u8ddf\u63a7\u5236\u5b57\u7b26\uff0c\u6700 \u5f8c\u4ee5\u56de\u8eca\u63db\u884c \\r\\n \u7d50\u675f\u3002\u53ef\u4f7f\u7528\u5e8f\u5217\u57e0\u8abf\u8a66\u52a9\u624b\u9032\u884c\u6e2c\u8a66\uff1a \u901a\u7528\u6a21\u7d44 AT\u6307\u4ee4\u5982\u4e0b \u6307\u4ee4 \u529f\u80fd \u6389\u96fb\u4fdd\u5b58(Y) \u7acb\u5373\u751f\u6548(Y),\u5fa9\u4f4d\u751f\u6548(R) \u5099\u8a3b AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID Y R AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a N Y AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u983b\u7387 Y R AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387 Y R AT+EOUT \u6578\u64da\u8f38\u51fa\u958b\u95dc N Y AT+RST \u5fa9\u4f4d\u6a21\u7d44 N Y \u91cd\u555f\u6a21\u7d44 AT+TRG \u55ae\u6b21\u8f38\u51fa\u89f8\u767c N Y \u4e0d\u652f\u63f4 AT+SETPTL \u8a2d\u7f6e\u8f38\u51fa\u6578\u64da\u5305 Y Y AT+MODE \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f Y R \u4e0d\u652f\u63f4 AT+GWID \u8a2d\u7f6e\u7121\u7dda\u63a5\u6536\u6a5fID Y R \u4e0d\u652f\u63f4 AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID \u4f8b AT+ID=1 AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a\uff0c\u5305\u62ec\u7522\u54c1\u578b\u865f\uff0c\u7248\u672c\uff0c\u97cc\u9ad4\u767c\u4f48\u65e5\u671f\u7b49\u3002 AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u901f\u7387\u3002 \u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548 \u4f8b \u8a2d\u7f6e\u5e8f\u5217\u57e0\u8f38\u51fa\u901f\u7387\u70ba100Hz: AT+ODR=100 \u6ce8\u610f\uff1a\u7576ODR\u8a2d\u7f6e\u70ba\u6bd4\u8f03\u9ad8\u6642(\u5982200),\u9ed8\u8a8d\u7684115200\u9b91\u7387\u53ef\u80fd\u4e0d\u6eff\u8db3\u8f38\u51fa\u983b\u5bec\u8981\u6c42\uff0c\u6b64\u6642\u9700\u8981\u5c07\u6a21\u7d44\u9b91\u7387\u8a2d\u9ad8(\u5982921600)\u5f8c\uff0c\u6a21\u7d44\u624d\u80fd\u6309\u8a2d\u7f6e\u7684ODR\u8f38\u51fa\u6578\u64da\u5e40\u3002 AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387\uff0c\u53ef\u9078\u503c\uff1a9600/115200/460800/921600` \u4f8b AT+BAUD=115200 \u6ce8\u610f \u4f7f\u7528\u6b64\u6307\u4ee4\u9700\u8981\u7279\u5225\u6ce8\u610f\uff0c\u8f38\u5165\u932f\u8aa4\u9b91\u7387\u5f8c\u6703\u5c0e\u81f4\u7121\u6cd5\u548c\u6a21\u7d44\u901a\u8a0a \u9b91\u7387\u53c3\u6578\u8a2d\u7f6e\u597d\u5f8c\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548\u3002 CH-Center \u8edf\u9ad4\u7684\u9b91\u7387\u4e5f\u8981\u505a\u76f8\u61c9\u4fee\u6539\u3002 \u5347\u7d1a\u97cc\u9ad4\u6642\uff0c\u9700\u8981\u5207\u63db\u56de115200 \u9b91\u7387\u3002 AT+EOUT \u5e8f\u5217\u57e0\u8f38\u51fa\u958b\u95dc \u4f8b \u6253\u958b\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=1 \u95dc\u9589\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=0 AT+RST \u5fa9\u4f4d\u6a21\u7d44 \u4f8b AT+RST AT+SETPTL \u8a2d\u7f6e\u8f38\u51fa\u5354\u8b70: \u8a2d\u7f6e\u4e00\u5e40\u4e2d\u6240\u5305\u542b\u7684\u6578\u64da\u5305\uff1a\u683c\u5f0f\u70ba AT+SETPTL=<ITEM_ID>,<ITEM_ID>... \u4f8b \u914d\u7f6e\u6a21\u7d44\u8f38\u51fa: 91\u6578\u64da\u5305(IMUSOL),\u6307\u4ee4\u70ba: AT+SETPTL=91 \u914d\u7f6e\u6a21\u7d44\u8f38\u51fa:\u52a0\u901f\u5ea6(A0)\uff0c\u89d2\u901f\u5ea6(B0), \u6574\u5f62\u683c\u5f0f\u6b50\u62c9\u89d2(D0)\u548c\u56db\u5143\u6578(D1)\u7684\u6307\u4ee4\u70ba\uff1a AT+SETPTL=A0,B0,D0,D1 AT+URFR \u9019\u689d\u6307\u4ee4\u63d0\u4f9b\u4e86\u65cb\u8f49\u611f\u6e2c\u5668XYZ\u8ef8\u7684\u63a5\u53e3\uff1a AT+URFR=C00,C01,C02,C10,C11,C12,C20,C21,C22 \u5176\u4e2d C_{nn} C_{nn} \u652f\u63f4\u6d6e\u9ede\u6578 \\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{U}=\\left[\\begin{array}{lll}{C 00} & {C 01} & {C 02} \\\\ {C 10} & {C 11} & {C 12} \\\\ {C 20} & {C 21} & {C 22}\\end{array}\\right] \\cdot\\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{B} \\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{U}=\\left[\\begin{array}{lll}{C 00} & {C 01} & {C 02} \\\\ {C 10} & {C 11} & {C 12} \\\\ {C 20} & {C 21} & {C 22}\\end{array}\\right] \\cdot\\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{B} \u5176\u4e2d \\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{U} \\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{U} \u70ba\u65cb\u8f49\u5f8c\u7684 \u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u4e0b \u611f\u6e2c\u5668\u6578\u64da\uff0c \\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{B} \\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{B} \u70ba\u65cb\u8f49\u524d \u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u4e0b \u611f\u6e2c\u5668\u6578\u64da \u4e0b\u9762\u662f\u5e7e\u7a2e\u5e38\u7528\u65cb\u8f49\u8209\u4f8b\uff1a \u65b0\u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u70ba \u7e5e\u539f\u5750\u6a19\u7cfbX\u8ef8 \u65cb\u8f49 90\u00b0\uff0c \u8f38\u5165\u547d\u4ee4\uff1a AT+URFR=1,0,0,0,0,1,0,-1,0 \u65b0\u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u70ba \u7e5e\u539f\u5750\u6a19\u7cfbX\u8ef8 \u65cb\u8f49-90\u00b0\uff0c \u8f38\u5165\u547d\u4ee4\uff1a AT+URFR=1,0,0,0,0,-1,0,1,0 \u65b0\u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u70ba \u7e5e\u539f\u5750\u6a19\u7cfbX\u8ef8 \u65cb\u8f49180\u00b0\uff0c \u8f38\u5165\u547d\u4ee4\uff1a AT+URFR=1,0,0,0,-1,0,0,0,-1 \u65b0\u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u70ba \u7e5e\u539f\u5750\u6a19\u7cfbY\u8ef8 \u65cb\u8f49 90\u00b0\uff0c \u8f38\u5165\u547d\u4ee4\uff1a AT+URFR= 0,0,-1,0,1,0,1,0,0 \u65b0\u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u70ba \u7e5e\u539f\u5750\u6a19\u7cfbY\u8ef8 \u65cb\u8f49-90\u00b0\uff0c \u8f38\u5165\u547d\u4ee4\uff1a AT+URFR= 0,0,1,0,1,0,-1,0,0 \u65b0\u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u70ba \u7e5e\u539f\u5750\u6a19\u7cfbY\u8ef8 \u65cb\u8f49180\u00b0\uff0c \u8f38\u5165\u547d\u4ee4\uff1a AT+URFR= -1,0,0,0,1,0,0,0,-1 \u65b0\u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u70ba \u7e5e\u539f\u5750\u6a19\u7cfbZ\u8ef8 \u65cb\u8f4990\u00b0\uff0c \u8f38\u5165\u547d\u4ee4\uff1a AT+URFR= 0,-1,0,1,0,0,0,0,1 \u6062\u5fa9\u9ed8\u8a8d\u503c\uff1a AT+URFR=1,0,0,0,1,0,0,0,1 \u9644\u9304A - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e \u672c\u7522\u54c1\u652f\u63f4\u5347\u7d1a\u97cc\u9ad4\u3002 \u97cc\u9ad4\u5347\u7d1a\u6b65\u9a5f: \u9023\u63a5\u6a21\u7d44\uff0c\u6253\u958b CH-Center \u8edf\u9ad4\uff0c\u5c07\u6a21\u7d44\u548c CH-Center \u8edf\u9ad4\u9b91\u7387\u90fd\u8a2d\u7f6e\u70ba115200. \u6253\u958b\u97cc\u9ad4\u5347\u7d1a\u7a97\u53e3 \u9ede\u64ca\u9023\u63a5\u6309\u9215\uff0c\u5982\u51fa\u73fe\u6a21\u7d44\u9023\u63a5\u8cc7\u8a0a\u3002\u5247\u8aaa\u660e\u5347\u7d1a\u7cfb\u7d71\u6e96\u5099\u5c31\u7dd2\uff0c\u9ede\u64ca\u6587\u4ef6\u9078\u64c7\u5668(\u2026)\u9078\u64c7\u9644\u6a94\u540d\u70ba.hex \u7684\u97cc\u9ad4\uff0c\u7136\u5f8c\u9ede\u64ca\u958b\u59cb\u7de8\u7a0b\u3002\u4e0b\u8f09\u5b8c\u6210\u5f8c\u6703\u63d0\u793a\u7de8\u7a0b\u5b8c\u6210\uff0c\u6b64\u6642\u95dc\u9589\u5e8f\u5217\u57e0\uff0c\u91cd\u65b0\u7d66\u6a21\u7d44\u4e0a\u96fb\uff0c\u6a21\u7d44\u5347\u7d1a\u5b8c\u6210\u3002","title":"CH100 \u7528\u6236\u624b\u518a"},{"location":"ch100/ch100/#ch100","text":"IMU/VRU\u59ff\u614b\u6e2c\u91cf\u6a21\u7d44, Rev 1.0","title":"CH100 \u7528\u6236\u624b\u518a"},{"location":"ch100/ch100/#_1","text":"","title":"\u6676\u7247"},{"location":"ch100/ch100/#_2","text":"CH100 \u7528\u6236\u624b\u518a \u6676\u7247 \u6a21\u7d44 \u7c21\u4ecb \u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u6578\u64da\u8655\u7406 \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb \u5176\u4ed6 \u786c\u9ad4\u53ca\u5c3a\u5bf8 \u786c\u9ad4\u53c3\u6578 \u5c3a\u5bf8 \u63a5\u53e3\u5b9a\u7fa9 \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u9640\u87ba\u5100 \u52a0\u901f\u5ea6\u8a08 \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578 \u611f\u6e2c\u5668\u6821\u6e96 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd \u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868 0x90(\u7528\u6236ID) 0xA0(\u52a0\u901f\u5ea6) 0xB0(\u89d2\u901f\u5ea6) 0xC0(\u78c1\u5834\u5f37\u5ea6) 0xD0(\u6b50\u62c9\u89d2) 0XD1(\u56db\u5143\u6578) 0XF0(\u6c23\u58d3) 0X91( IMUSOL) \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 CAN\u901a\u8a0a\u5354\u8b70 CANopen \u9ed8\u8a8d\u8a2d\u7f6e CANopen TPTO 1. \u4f7f\u80fd\u6578\u64da\u8f38\u51fa(\u958b\u555f\u7570\u6b65\u89f8\u767c) 2. \u4fee\u6539CAN\u9b91\u7387\uff0c\u8f38\u51fa\u901f\u7387\u53ca\u8f38\u51fa\u5e40\u8cc7\u8a0a \u793a\u4f8b1: \u4fee\u6539CAN\u9b91\u7387 \u793a\u4f8b2: \u4fee\u6539\u7bc0\u9edeID \u793a\u4f8b3: \u4fee\u6539\u6578\u64da\u8f38\u51fa\u901f\u7387 \u793a\u4f8b4: \u95dc\u9589TPDO\u8f38\u51fa AT\u6307\u4ee4 AT+ID AT+INFO AT+ODR AT+BAUD AT+EOUT AT+RST AT+SETPTL AT+URFR \u9644\u9304A - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e","title":"\u6a21\u7d44"},{"location":"ch100/ch100/#_3","text":"CH100\u662f\u8d85\u6838\u96fb\u5b50\u63a8\u51fa\u7684\u4e00\u6b3e\u9ad8\u6027\u80fd\u3001\u5c0f\u9ad4\u7a4d\u3001\u4f4e\u5ef6\u6642\u7684\u6163\u6027\u6e2c\u91cf\u55ae\u5143(IMU)\uff0c\u672c\u7522\u54c1\u6574\u5408\u4e86\u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08\u3001\u4e09\u8ef8\u9640\u87ba\u5100\u548c\u4e00\u6b3e\u5fae\u63a7\u5236\u5668\u3002\u53ef\u8f38\u51fa\u7d93\u904e\u611f\u6e2c\u5668\u878d\u5408\u7b97\u6cd5\u8a08\u7b97\u5f97\u5230\u7684\u57fa\u65bc\u7576\u5730\u5730\u7406\u5750\u6a19\u7684\u4e09\u7dad\u65b9\u4f4d\u6578\u64da\uff0c\u5305\u542b\u7121\u7d55\u5c0d\u53c3\u8003\u7684\u76f8\u5c0d\u822a\u5411\u89d2\uff0c\u4fef\u4ef0\u89d2\u548c\u6a6b\u6efe\u89d2\u3002\u540c\u6642\u4e5f\u53ef\u4ee5\u8f38\u51fa\u6821\u6e96\u904e\u7684\u539f\u59cb\u7684\u611f\u6e2c\u5668\u6578\u64da\u3002 \u5178\u578b\u61c9\u7528: \u6a5f\u5668\u4eba/AGV DR SLAM\u61c9\u7528 \u7121\u4eba\u99d5\u99db/\u7d44\u5408\u5c0e\u822a\u7528IMU","title":"\u7c21\u4ecb"},{"location":"ch100/ch100/#_4","text":"","title":"\u7279\u6027"},{"location":"ch100/ch100/#_5","text":"\u4e09\u8ef8\u9640\u87ba\u5100, \u6700\u5927\u91cf\u7a0b: \u00b1500\u00b0/s \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08, \u6700\u5927\u91cf\u7a0b:\u00b18G","title":"\u677f\u8f09\u611f\u6e2c\u5668"},{"location":"ch100/ch100/#_6","text":"\u52a0\u901f\u5ea6\u548c\u9640\u87ba\u5100\u51fa\u5ee0\u524d\u7d93\u904e\u4e09\u8ef8\u975e\u6b63\u4ea4\u548c\u6a19\u5ea6\u56e0\u5b50\u6821\u6e96 \u6578\u64da\u878d\u5408\u7b97\u6cd5\u8a08\u7b97\u4e26\u8f38\u51fa\u5730\u7406\u5750\u6a19\u7cfb\u4e0b\u7684\u65cb\u8f49\u56db\u5143\u6578\u53ca\u6b50\u62c9\u89d2\u7b49\u59ff\u614b\u8cc7\u8a0a","title":"\u6578\u64da\u8655\u7406"},{"location":"ch100/ch100/#_7","text":"TTL\u5e8f\u5217\u57e0 \u4f9b\u96fb\u96fb\u58d3\uff1a3.3V - 5V","title":"\u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb"},{"location":"ch100/ch100/#_8","text":"PC\u7aef CH-Center \u8edf\u9ad4\u7a0b\u5e8f\uff0c\u63d0\u4f9b\u5373\u6642\u6578\u64da\u986f\u793a\uff0c\u6ce2\u5f62\uff0c\u6821\u6e96\u53caexcel \u6578\u64da\u8a18\u9304\u529f\u80fd \u591a\u9805\u6a21\u7d44\u53c3\u6578\u7528\u6236\u53ef\u914d\u7f6e","title":"\u5176\u4ed6"},{"location":"ch100/ch100/#_9","text":"","title":"\u786c\u9ad4\u53ca\u5c3a\u5bf8"},{"location":"ch100/ch100/#_10","text":"\u53c3\u6578 \u63cf\u8ff0 \u8f38\u51fa\u6578\u64da\u63a5\u53e3 TTL\u5e8f\u5217\u57e0 \u5de5\u4f5c\u96fb\u58d3 3.3V - 5V \u6eab\u5ea6\u7bc4\u570d -20\u2103 - 85\u2103 \u6700\u5927\u7dda\u6027\u52a0\u901f\u5ea6 0 - 115 m/s^2 m/s^2 \u5c3a\u5bf8 20 x 25 x 3mm (W x L x H) \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08 \u4e09\u8ef8\u9640\u87ba\u5100","title":"\u786c\u9ad4\u53c3\u6578"},{"location":"ch100/ch100/#_11","text":"","title":"\u5c3a\u5bf8"},{"location":"ch100/ch100/#_12","text":"\u5f15\u8173\u865f \u540d\u7a31 \u8aaa\u660e 1 VCC \u96fb\u6e90 3.3V 2 GND GNS 3 EN \u4f7f\u80fd \u9ad8\u96fb\u5e73\u6709\u6548\uff0c\u5167\u90e8\u4e0a\u62c9\uff0c\u4e0d\u9700\u8981\u53ef\u61f8\u7a7a 4 SOUT \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 5 SIN \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 6 RXD2 \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 7 TXD2 \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 8 GND GND 9 IO5 \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 10 RSV1 \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 11 TXD1 \u6a21\u7d44\u5e8f\u5217\u57e0\u767c\u9001 UART TXD (\u63a5 MCU \u7684 RXD) 12 RXD1 \u6a21\u7d44\u5e8f\u5217\u57e0\u63a5\u6536 UART RXD(\u63a5 MCU \u7684 TXD) 13 RSV2 \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 14 CAN_RX CAN_RX 15 CAN_TX CAN_TX 16 RSV3 \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 17 RSV4 \u4fdd\u7559,\u5fc5\u9808\u61f8\u7a7a 18 NRST \u5fa9\u4f4d, \u5167\u90e8\u4e0a\u62c9\u3002>10uS \u4f4e\u96fb\u5e73\u5fa9\u4f4d\u6a21\u7d44\u3002\u7121\u9700\u5916\u63a5\u963b\u5bb9\uff0c\u5efa\u8b70\u63a5\u5230MCU\u7684GPIO\u5f15\u8173\u4ee5\u5be6\u73fe\u8edf\u9ad4\u5fa9\u4f4d","title":"\u63a5\u53e3\u5b9a\u7fa9"},{"location":"ch100/ch100/#_13","text":"\u8f09\u9ad4\u7cfb\u4f7f\u7528 \u53f3-\u524d-\u4e0a(RFU)\u5750\u6a19\u7cfb\uff0c \u5730\u7406\u5750\u6a19\u7cfb\u4f7f\u7528 \u6771-\u5317-\u5929(ENU)\u5750\u6a19\u7cfb\u3002\u5176\u4e2d\u6b50\u62c9\u89d2\u65cb\u8f49\u9806\u5e8f\u70ba\u6771-\u5317-\u5929-312(\u5148\u8f49Z\u8ef8\uff0c\u518d\u8f49X\u8ef8\uff0c\u6700\u5f8c\u8f49Y\u8ef8)\u65cb\u8f49\u9806\u5e8f\u3002\u5177\u9ad4\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7e5e Z \u8ef8\u65b9\u5411\u65cb\u8f49: \u822a\u5411\u89d2\\Yaw\\phi( \\psi \\psi ) \u7bc4\u570d: -180\u00b0 - 180\u00b0 \u7e5e X \u8ef8\u65b9\u5411\u65cb\u8f49:\u4fef\u4ef0\u89d2\\Pitch\\theta( \\theta \\theta ) \u7bc4\u570d: -90\u00b0-90\u00b0 \u7e5e Y \u8ef8\u65b9\u5411\u65cb\u8f49: \u6a6b\u6efe\u89d2\\Roll\\psi( \\phi \\phi )\u7bc4\u570d: -180\u00b0-180\u00b0 \u5982\u679c\u5c07\u6a21\u7d44\u8996\u70ba\u98db\u884c\u5668\u7684\u8a71\u3002Y\u8ef8\u6b63\u65b9\u5411\u61c9\u8996\u70ba\u6a5f\u982d\u65b9\u5411\u3002\u7576\u611f\u6e2c\u5668\u7cfb\u8207\u6163\u6027\u7cfb\u91cd\u5408\u6642\uff0c\u6b50\u62c9\u89d2\u7684\u7406\u60f3\u8f38\u51fa\u70ba:Pitch = 0\u00b0, Roll = 0\u00b0, Yaw = 0\u00b0","title":"\u5750\u6a19\u7cfb\u5b9a\u7fa9"},{"location":"ch100/ch100/#_14","text":"","title":"\u6027\u80fd\u6307\u6a19"},{"location":"ch100/ch100/#_15","text":"\u59ff\u614b\u89d2 \u5178\u578b\u503c \u5099\u8a3b \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u975c\u614b\u8aa4\u5dee 0.4\u00b0 \u8f09\u9ad4\u4f4e\u6a5f\u52d5\u5e73\u7a69\u904b\u52d5 \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u52d5\u614b\u8aa4\u5dee 1.0\u00b0 \u8f09\u9ad4\u4f4e\u6a5f\u52d5\u5e73\u7a69\u904b\u52d5 \u904b\u52d5\u4e2d\u822a\u5411\u89d2\u7cbe\u5ea6 4\u00b0 @20min \u8f09\u9ad4\u6c34\u5e73\u5e73\u7a69\u904b\u52d5\u4e14\u4e0a\u96fb\u5f8c\u975c\u6b623s","title":"\u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6"},{"location":"ch100/ch100/#_16","text":"\u53c3\u6578 \u503c \u5099\u8a3b \u6e2c\u91cf\u7bc4\u570d \u00b1500\u00b0/s \u96f6\u504f\u7a69\u5b9a\u6027X\u8ef8 3.5\u00b0/h @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Y\u8ef8 2\u00b0/h @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Z\u8ef8 2\u00b0/h @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u91cd\u8907\u6027 0.035\u00b0/s @25\u00b0,1 \\sigma \\sigma \u975e\u6b63\u4ea4\u8aa4\u5dee \u00b10.1% \u96a8\u6a5f\u904a\u8d70X\u8ef8 0.3 \u00b0/s\\sqrt{h} \u00b0/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Y\u8ef8 0.3 \u00b0/s\\sqrt{h} \u00b0/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Z\u8ef8 0.25 \u00b0/s\\sqrt{h} \u00b0/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u523b\u5ea6\u975e\u7dda\u6027\u5ea6 \u00b10.1% \u6eff\u91cf\u7a0b\u6642(\u6700\u5927) \u523b\u5ea6\u4fc2\u6578\u8aa4\u5dee \u00b10.4% \u51fa\u5ee0\u524d\u6821\u6e96\u5f8c \u52a0\u901f\u5ea6\u654f\u611f\u6027 0.1\u00b0/s/g \u9640\u87baAllan\u65b9\u5dee\u66f2\u7dda","title":"\u9640\u87ba\u5100"},{"location":"ch100/ch100/#_17","text":"\u53c3\u6578 \u503c \u5099\u8a3b \u6e2c\u91cf\u7bc4\u570d \u00b18G (1G = 1x \u91cd\u529b\u52a0\u901f\u5ea6 ) \u96f6\u504f\u7a69\u5b9a\u6027X\u8ef8 30uG @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Y\u8ef8 30uG @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Z\u8ef8 40uG @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u91cd\u8907\u6027 1.8mG @25\u00b0,1 \\sigma \\sigma \u975e\u6b63\u4ea4\u8aa4\u5dee \u00b10.1% \u00b10.1% \u96a8\u6a5f\u904a\u8d70X\u8ef8 0.04 m/s\\sqrt{h} m/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Y\u8ef8 0.04 m/s\\sqrt{h} m/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Z\u8ef8 0.06 m/s\\sqrt{h} m/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u523b\u5ea6\u4fc2\u6578\u8aa4\u5dee \u00b10.3% (\u6eff\u91cf\u7a0b\u6642) \u5168\u6eab\u7bc4\u570d\u6eab\u5ea6\u8b8a\u5316 2mg -20 - 85\u00b0 \u52a0\u901f\u5ea6Allan\u65b9\u5dee\u66f2\u7dda","title":"\u52a0\u901f\u5ea6\u8a08"},{"location":"ch100/ch100/#_18","text":"\u53c3\u6578 \u503c \u5e8f\u5217\u57e0\u8f38\u51fa\u9b91\u7387 9600/115200/460800/921600\u53ef\u9078 \u5e40\u8f38\u51fa\u901f\u7387 1/50/100/200/400Hz \u53ef\u9078 \u555f\u52d5\u6642\u9593 <1s","title":"\u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578"},{"location":"ch100/ch100/#_19","text":"\u52a0\u901f\u5ea6\u8a08\u548c\u9640\u87ba\u5100\u5728\u51fa\u5ee0\u524d\u7d93\u904e\u6bd4\u4f8b\u56e0\u5b50\u8aa4\u5dee\u548c\u975e\u6b63\u4ea4\u8aa4\u5dee\u6821\u6e96\uff0c\u6821\u6e96\u53c3\u6578\u4fdd\u5b58\u5728\u6a21\u7d44\u5167\u90e8\u3002 \u9640\u87ba\u5100\u7684\u8f38\u51fa\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u6703\u6709\u4e00\u500b\u96a8\u6a5f\u7684\u4e0d\u70ba0\u7684bias\uff0c\u7a31\u4e4b\u70ba\u96f6\u504f\u91cd\u8907\u6027\u3002\u9019\u500b\u96a8\u6a5fbias\u4e0d\u80fd\u5728\u51fa\u5ee0\u524d\u88ab\u6821\u6e96\u3002\u7cfb\u7d71\u5728\u555f\u52d5\u5f8c1S\u5167\u8a8d\u70ba\u8655\u65bc\u975c\u6b62\u72c0\u614b\u4e26\u63a1\u96c61S\u7684\u9640\u87ba\u5100\u89d2\u901f\u5ea6\u4f5c\u70ba\u521d\u59cbbias\u3002\u9019\u500b\u904e\u7a0b\u7a31\u4e4b\u70ba\u9640\u87ba\u5100\u4e0a\u96fb\u81ea\u6821\u6e96\u3002\u81ea\u6821\u6e96\u5728\u4e0a\u96fb\u5f8c\u975c\u6b62\u6a21\u7d443s \u5de6\u53f3\u53ef\u7372\u5f97\u6700\u597d\u7684\u6821\u6e96\u6548\u679c\u3002 \u5982\u4e0a\u96fb1s\u5167\u6a21\u7d44\u8655\u65bc\u904b\u52d5\u72c0\u614b(\u5305\u62ec\u7de9\u6162\u8f49\u52d5\uff0c\u632f\u52d5\u7b49)\u5247\u822a\u5411\u89d2\u98c4\u79fb\u73fe\u8c61\u6703\u986f\u8457\u589e\u5927 \u3002 \u5efa\u8b70\u4f7f\u7528\u6642\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u975c\u6b62\u81f3\u5c111s\u3002 \u78c1\u611f\u6e2c\u5668(\u90e8\u5206\u578b\u865f\u652f\u63f4)\u51fa\u5ee0\u524d\u7d93\u904e\u6a62\u7403\u6821\u6e96\uff0c\u4f46\u78c1\u611f\u6e2c\u5668\u5f88\u5bb9\u6613\u53d7\u5230\u5916\u754c\u74b0\u5883\u78c1\u5834\u5e72\u64fe\uff0c\u4e00\u822c\u90fd\u9700\u8981\u5ba2\u6236\u91cd\u65b0\u6821\u6e96\uff0c\u51fa\u5ee0\u6821\u6e96\u53c3\u6578\u610f\u7fa9\u4e0d\u5927\u3002\u8a73\u898b\u5730\u78c1\u6821\u6e96\u7ae0\u7bc0\u3002","title":"\u611f\u6e2c\u5668\u6821\u6e96"},{"location":"ch100/ch100/#_20","text":"\u6a21\u7d44\u4e0a\u96fb\u5f8c\uff0c\u9ed8\u8a8d\u6309\u51fa\u5ee0\u5e40\u7387(\u901a\u5e38\u70ba100)\u8f38\u51fa\u5e40\u6578\u64da\uff0c\u5e40\u683c\u5f0f\u5982\u4e0b\uff1a \u57df\u540d\u7a31 \u503c \u9577\u5ea6(\u5b57\u7bc0) \u8aaa\u660e PRE 0x5A 1 \u56fa\u5b9a\u70ba0x5A TYPE 0xA5 1 \u56fa\u5b9a\u70ba0xA5 LEN 1-512 2 \u5e40\u4e2d\u6578\u64da\u57df\u7684\u9577\u5ea6\uff0c\u4f4e\u5b57\u7bc0\u5728\u524d\u3002\u9577\u5ea6\u8868\u793a\u6578\u64da\u57df(PAYLOAD)\u7684\u9577\u5ea6\uff0c\u4e0d\u5305\u542b PRE , TYPE , LEN , CRC \u5b57\u6bb5\u3002 CRC - 2 \u9664CRC \u672c\u8eab\u5916\u5176\u9918\u6240\u6709\u5b57\u6bb5( PRE,TYPE,LEN, PAYLOAD )\u5e40\u6578\u64da\u768416 \u4f4dCRC \u6821\u9a57\u548c\u3002LSB(\u4f4e\u5b57\u7bc0\u5728\u524d) PAYLOAD - 1-512 \u4e00\u5e40\u651c\u5e36\u7684\u6578\u64da\u3002PAYLOAD\u57df \u7531\u82e5\u5e72\u500b**\u5b50\u6578\u64da\u5305**\u7d44\u6210\u3002\u6bcf\u500b\u6578\u64da\u5305\u5305\u542b\u6578\u64da\u5305\u6a19\u7c64\u548c\u6578\u64da\u5169\u90e8\u5206\u3002\u6a19\u7c64\u6c7a\u5b9a\u4e86\u6578\u64da\u7684\u985e\u578b\u53ca\u9577\u5ea6\u3002 CRC\u5be6\u73fe\u51fd\u6578\uff1a /* currectCrc: previous crc value, set 0 if it's first section src: source stream data lengthInBytes: length */ static void crc16_update(uint16_t *currectCrc, const uint8_t *src, uint32_t lengthInBytes) { uint32_t crc = *currectCrc; uint32_t j; for (j=0; j < lengthInBytes; ++j) { uint32_t i; uint32_t byte = src[j]; crc ^= byte << 8; for (i = 0; i < 8; ++i) { uint32_t temp = crc << 1; if (crc & 0x8000) { temp ^= 0x1021; } crc = temp; } } *currectCrc = crc; }","title":"\u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70"},{"location":"ch100/ch100/#_21","text":"","title":"\u6578\u64da\u5305"},{"location":"ch100/ch100/#_22","text":"\u6578\u64da\u5305\u6a19\u7c64 \u6578\u64da\u5305\u9577\u5ea6(\u5305\u542b\u6a19\u7c641\u5b57\u7bc0) \u540d\u7a31 \u5099\u8a3b 0x90 2 \u7528\u6236ID 0xA0 7 \u52a0\u901f\u5ea6 0xB0 7 \u89d2\u901f\u5ea6 0xC0 7 \u78c1\u5834\u5f37\u5ea6 0xD0 7 \u6b50\u62c9\u89d2 0xD1 17 \u56db\u5143\u6578 0xF0 5 \u6c23\u58d3 \u8f38\u51fa0 0x91 76 IMUSOL(IMU\u6578\u64da\u96c6\u5408) \u63a8\u85a6\u4f7f\u7528","title":"\u6578\u64da\u5305\u7e3d\u89bd"},{"location":"ch100/ch100/#_23","text":"","title":"\u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868"},{"location":"ch100/ch100/#0x90id","text":"\u51712\u5b57\u7bc0\uff0c\u7528\u6236\u8a2d\u7f6e\u7684ID\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x90 1 uint8_t 1 - \u7528\u6236ID","title":"0x90(\u7528\u6236ID)"},{"location":"ch100/ch100/#0xa0","text":"\u51717 \u500b\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u52a0\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xA0 1 int16_t 2 0.001G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) X\u8ef8\u52a0\u901f\u5ea6 3 int16_t 2 0.001G Y\u8ef8\u52a0\u901f\u5ea6 5 int16_t 2 0.001G Z\u8ef8\u52a0\u901f\u5ea6","title":"0xA0(\u52a0\u901f\u5ea6)"},{"location":"ch100/ch100/#0xb0","text":"\u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u89d2\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64\uff1a0xB0 1 int16_t 2 0.1\u00b0/s X\u8ef8\u89d2\u901f\u5ea6 3 int16_t 2 0.1\u00b0/s Y\u8ef8\u89d2\u901f\u5ea6 5 int16_t 2 0.1\u00b0/s Z\u8ef8\u89d2\u901f\u5ea6","title":"0xB0(\u89d2\u901f\u5ea6)"},{"location":"ch100/ch100/#0xc0","text":"\u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u78c1\u5834\u5f37\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xC0 1 int16_t 2 0.001Gauss X\u8ef8\u78c1\u5834\u5f37\u5ea6 3 int16_t 2 0.001Gauss Y\u8ef8\u78c1\u5834\u5f37\u5ea6 5 int16_t 2 0.001Gauss Z\u8ef8\u78c1\u5834\u5f37\u5ea6","title":"0xC0(\u78c1\u5834\u5f37\u5ea6)"},{"location":"ch100/ch100/#0xd0","text":"\u51717\u5b57\u7bc0\uff0cLSB\u3002\u683c\u5f0f\u70baint16\uff0c\u5171\u4e09\u500b\u8ef8\uff0c\u6bcf\u500b\u8ef8\u53602 \u500b\u5b57\u7bc0\uff0c\u9806\u5e8f\u70baPitch/Roll/Yaw\u3002\u63a5\u6536\u5230Roll, Pitch \u70ba\u7269\u7406\u503c\u4e58\u4ee5100 \u5f8c\u5f97\u5230\u7684\u6578\u503c\uff0cYaw \u70ba\u4e58\u4ee510 \u5f97\u5230\u7684\u6578\u503c\u3002 \u4f8b\uff1a\u7576\u63a5\u6536\u5230\u7684Yaw = 100 \u6642\uff0c\u8868\u793a\u822a\u5411\u89d2\u70ba10\u00b0 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD0 1 int16_t 2 0.01\u00b0 Pitch(\u4fef\u4ef0\u89d2) 3 int16_t 2 0.01\u00b0 Roll(\u6a6b\u6efe\u89d2) 5 int16_t 2 0.1\u00b0 Yaw(\u822a\u5411\u89d2)","title":"0xD0(\u6b50\u62c9\u89d2)"},{"location":"ch100/ch100/#0xd1","text":"\u517117\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\uff0c\u51714\u500b\u503c\uff0c\u9806\u5e8f\u70ba:W X Y Z.\u3002\u6bcf\u500b\u503c\u53604 \u5b57\u7bc0(float)\uff0c\u6574\u500b\u56db\u5143\u6578\u70ba4\u500bfloat\uff0cLSB\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD1 1 float 4 - W 5 float 4 - X 9 float 4 - Y 13 float 4 - Z","title":"0XD1(\u56db\u5143\u6578)"},{"location":"ch100/ch100/#0xf0","text":"\u51715\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\u3002(\u53ea\u91dd\u5c0d\u6709\u6c23\u58d3\u611f\u6e2c\u5668\u7684\u7522\u54c1) \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xF0 1 float 4 Pa \u5927\u6c23\u58d3","title":"0XF0(\u6c23\u58d3)"},{"location":"ch100/ch100/#0x91-imusol","text":"\u517176\u5b57\u7bc0\uff0c\u65b0\u52a0\u5165\u7684\u6578\u64da\u5305\uff0c\u7528\u65bc\u66ff\u4ee3A0,B0,C0,D0,D1\u7b49\u6578\u64da\u5305\u3002\u6574\u5408\u4e86IMU\u7684\u611f\u6e2c\u5668\u539f\u59cb\u8f38\u51fa\u548c\u59ff\u614b\u89e3\u7b97\u6578\u64da\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x91 1 uint8_t 1 - ID 2 - 6 - \u4fdd\u7559 8 uint32_t 4 ms \u6642\u9593\u6233\u8cc7\u8a0a\uff0c\u5f9e\u7cfb\u7d71\u958b\u6a5f\u958b\u59cb\u7d2f\u52a0\uff0c\u6bcf\u6beb\u79d2\u589e\u52a01 12 float 12 1G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) \u52a0\u901f\u5ea6,\u9806\u5e8f\u70ba\uff1aXYZ(\u6ce8\u610f\u55ae\u4f4d\u548c0xA0\u5305\u4e0d\u540c) 24 float 12 deg/s \u89d2\u901f\u5ea6,\u9806\u5e8f\u70ba\uff1a XYZ(\u6ce8\u610f\u55ae\u4f4d\u548c0xB0\u5305\u4e0d\u540c) 36 float 12 uT \u78c1\u5f37\u5ea6,\u9806\u5e8f\u70ba\uff1a XYZ(\u6ce8\u610f\u55ae\u4f4d\u548c0xC0\u5305\u4e0d\u540c) 48 float 12 deg \u7bc0\u9ede\u6b50\u62c9\u89d2 \u9806\u5e8f\u70ba\uff1a\u6a6b\u6efe\u89d2(Roll)\uff0c\u4fef\u4ef0\u89d2(Pitch)\uff0c\u822a\u5411\u89d2(Yaw)(\u6ce8\u610f\u9806\u5e8f\u548c\u55ae\u4f4d\u82070xD0\u5305\u4e0d\u540c) 60 float 16 - \u7bc0\u9ede\u56db\u5143\u6578\u96c6\u5408,\u9806\u5e8f\u70baWXYZ","title":"0X91( IMUSOL)"},{"location":"ch100/ch100/#_24","text":"\u51fa\u5ee0\u9ed8\u8a8d\u4e00\u5e40\u4e2d\u651c\u5e36\u6578\u64da\u5305\u6578\u64da\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7522\u54c1 \u9ed8\u8a8d\u8f38\u51fa\u6578\u64da\u5305 HI226 90,A0,B0,C0,D0,F0 HI229 90,A0,B0,C0,D0,F0 CH100 91 CH110 91","title":"\u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305"},{"location":"ch100/ch100/#_25","text":"","title":"\u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b"},{"location":"ch100/ch100/#0x900xa00xb00xc00xd00xf0","text":"\u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517141\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991835\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 23 00 FD 61 90 00 A0 55 02 3D 01 E2 02 B0 FE FF 17 00 44 00 C0 80 FF 60 FF 32 FF D0 64 F2 6C 0E BB 01 F0 00 00 00 00 \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 23 00 : (0x00<<8) + 0x23 = 35 \u5e40CRC\u6821\u9a57\u503c: FD 61 :(0x61<<8) + 0xFD = 0x61FD \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x61FD, \u8207\u5e40\u651c\u5e36\u7684CRC\u503c\u76f8\u540c, \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da 90 00 \uff1aID \u6578\u64da\u5305, 0x90\u70ba\u6578\u64da\u5305\u6a19\u7c64, ID = 0x00. A0 55 02 3D 01 E2 02 :\u52a0\u901f\u5ea6\u6578\u64da\u5305,0xA0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u52a0\u901f\u5ea6\u70ba\uff1a X\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0x55) = 597(\u55ae\u4f4d\u70bamG) Y\u8ef8\u52a0\u901f\u5ea6 = (int16_t)((0x01<<8)+ 0x3D) = 317 Z\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0xE2) = 738 B0 FE FF 17 00 44 00 :\u89d2\u901f\u5ea6\u6578\u64da\u5305,0xB0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u89d2\u901f\u5ea6\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0xFE) = -2(\u55ae\u4f4d\u70ba0.1\u00b0/s) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0x00<<8)+ 0x17) = 23 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0x00<<8)+ 0x44) = 68 C0 80 FF 60 FF 32 FF :\u78c1\u5834\u6578\u64da\u5305,0xC0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u78c1\u5834\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x80) = -128 (\u55ae\u4f4d\u70ba0.001Gauss) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0xFF<<8)+ 0x60) = -160 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x32) = -206 D0 64 F2 6C 0E BB 01 \u6b50\u62c9\u89d2\u6578\u64da\u5305, 0xD0\u70ba\u6578\u64da\u5305\u6a19\u7c64 Pitch= (int16_t)((0xF2<<8)+ 0x64) / 100 = -3484 / 100 = -34.84 \u00b0 Roll= (int16_t)((0x0E<<8)+ 0x6C) / 100 = 3692 / 100 = 36.92\u00b0 Yaw = (int16_t)((0x01<<8)+ 0xBB) / 10 = 443 /10 = 44.3\u00b0 F0 00 00 00 00 \u6c23\u58d3\u6578\u64da\u5305\uff0c0xF0\u70ba\u6578\u64da\u5305\u6a19\u7c64 float prs; prs = memcpy(&prs, &buf[37], 4); \u6700\u5f8c\u5f97\u5230\u7d50\u679c\uff1a id : 0 acc(G) : 0.597 0.317 0.738 gyr(deg/s) : -0.200 2.300 6.800 mag(uT) : -12.800 -16.000 -20.600 eul(R/P/Y) : 36.920 -34.840 44.300","title":"\u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305"},{"location":"ch100/ch100/#0x91","text":"\u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517182\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991876\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 4C 00 6C 51 91 00 A0 3B 01 A8 02 97 BD BB 04 00 9C A0 65 3E A2 26 45 3F 5C E7 30 3F E2 D4 5A C2 E5 9D A0 C1 EB 23 EE C2 78 77 99 41 AB AA D1 C1 AB 2A 0A C2 8D E1 42 42 8F 1D A8 C1 1E 0C 36 C2 E6 E5 5A 3F C1 94 9E 3E B8 C0 9E BE BE DF 8D BE \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 4C 00 : (0x00<<8) + 0x4C = 76 \u5e40CRC\u6821\u9a57\u503c: 6C 51 :(0x51<<8) + 0x6C = 0x516C \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x516C. \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da \u5f9e 0x91 \u958b\u59cb\u70ba\u6578\u64da\u5305\u7684\u6578\u64da\u57df\u3002\u5728C\u8a9e\u8a00\u4e2d\u53ef\u4ee5\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u4f86\u65b9\u4fbf\u7684\u8b80\u53d6\u6578\u64da\uff1a \u5b9a\u7fa90x91\u6578\u64da\u5305\u7d50\u69cb\u9ad4\u5982\u4e0b\uff1a __packed typedef struct { uint8_t tag; /* \u6578\u64da\u6a19\u7c64:0x91 */ uint8_t id; /* \u6a21\u7d44ID */ uint8_t rev[6]; /* reserved */ uint32_t ts; /* \u6642\u9593\u6233 */ float acc[3]; /* \u52a0\u901f\u5ea6 */ float gyr[3]; /* \u89d2\u901f\u5ea6 */ float mag[3]; /* \u5730\u78c1 */ float eul[3]; /* \u6b50\u62c9\u89d2: Roll,Pitch,Yaw */ float quat[4]; /* \u56db\u5143\u6578 */ }id0x91_t; __packed \u70ba\u7de8\u8b6f\u5668\u95dc\u9375\u5b57(Keil\u4e0b)\uff0c\u8868\u793a\u7d50\u69cb\u9ad4\u6309\u5b57\u7bc0\u7dca\u5c0d\u9f4a\uff0c\u7d50\u69cb\u9ad4\u6bcf\u4e00\u500b\u5143\u7d20\u4e00\u4e00\u5c0d\u61c90x91\u6578\u64da\u5305\u7684\u7d50\u69cb\u5b9a\u7fa9\u3002\u63a5\u6536\u6578\u64da\u6642\u5c07\u63a5\u6536\u5230\u7684\u9663\u5217\u76f4\u63a5memcpy\u5230\u7d50\u69cb\u9ad4\u5373\u53ef\uff1a(\u6ce8\u610f\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u6642\u5fc5\u98084\u5b57\u7bc0\u5c0d\u9f4a), \u5176\u4e2d buf \u6307\u5411\u5e40\u982d, buf[6] \u6307\u5411\u5e40\u4e2d\u6578\u64da\u57df \u3002 /* \u63a5\u6536\u6578\u64da\u4e26\u4f7f\u75280x91\u6578\u64da\u5305\u7d50\u69cb\u5b9a\u7fa9\u4f86\u89e3\u91cb\u6578\u64da */ __align(4) id0x91_t dat; /* struct must be 4 byte aligned */ memcpy(&dat, &buf[6], sizeof(id0x91_t)); \u6700\u5f8c\u5f97\u5230dat\u6578\u64da\u7d50\u679c\uff1a id : 0 timestamp : 310205 acc : 0.224 0.770 0.691 gyr : -54.708 -20.077 -119.070 mag : 19.183 -26.208 -34.542 eul(R/P/Y) : 48.720 -21.014 -45.512 quat : 0.855 0.310 -0.310 -0.277","title":"\u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305"},{"location":"ch100/ch100/#can","text":"\u672c\u7522\u54c1CAN\u63a5\u53e3\u9075\u5faa\u4ee5\u4e0b\u6a19\u6e96\uff1a CAN\u63a5\u53e3\u7b26\u5408CANopen\u5354\u8b70\uff0c\u6240\u6709\u901a\u8a0a\u5747\u4f7f\u7528\u6a19\u6e96\u6578\u64da\u5e40\uff0c\u53ea\u4f7f\u7528PTO1-4 \u50b3\u8f38\u6578\u64da\uff0c\u6240\u6709\u50b3\u8f38\u5747\u63a1\u7528\u6a19\u6e96\u6578\u64da\u5e40\uff0c\u4e0d\u63a5\u6536\u9060\u7a0b\u5e40\u548c\u62d3\u5c55\u6578\u64da\u5e40 PTO\u63a1\u7528\u7570\u6b65\u5b9a\u6642\u89f8\u767c\u6a21\u5f0f, \u9ed8\u8a8d\u8f38\u51fa\u901f\u7387\u70ba50Hz \u7576\u6a21\u7d44\u4e0a\u96fb\u6642\uff0c\u6309\u7167CANopen\u5354\u8b70\uff0c\u6a21\u7d44\u6703\u4e3b\u52d5\u767c\u9001\u4e00\u689d(\u4e00\u6b21)\u7bc0\u9ede\u4e0a\u7dda\u5831\u6587\u3002\u7bc0\u9ede\u4e0a\u96fb\u8655\u65bc\u9810\u64cd\u4f5c\u72c0\u614b(pre-operational), \u9700\u8981\u4e3b\u6a5f\u767c\u9001NMT\u5354\u8b70\u5c07\u7bc0\u9ede\u8a2d\u7f6e\u70baoperation\u72c0\u614b\u624d\u6703\u958b\u59cb\u767c\u9001\u6578\u64da","title":"CAN\u901a\u8a0a\u5354\u8b70"},{"location":"ch100/ch100/#canopen","text":"CANopen\u9ed8\u8a8d\u914d\u7f6e \u503c CAN \u9b91\u7387 500KHz CANopen\u7bc0\u9edeID 8 \u521d\u59cb\u5316\u72c0\u614b \u9810\u64cd\u4f5c(Pre-operational),\u9700\u8981\u767c\u9001Start Remote Node\u547d\u4ee4\u6a21\u7d44\u624d\u80fd\u958b\u59cb\u8f38\u51fa\u6578\u64da(\u898b\u4e0b\u7bc0) \u5fc3\u8df3\u5305 \u7121","title":"CANopen \u9ed8\u8a8d\u8a2d\u7f6e"},{"location":"ch100/ch100/#canopen-tpto","text":"PTO\u901a\u9053 PTO \u5e40ID \u9577\u5ea6 PTO \u50b3\u8f38\u65b9\u5f0f \u7570\u6b65\u8f38\u51fa\u983b\u7387\uff08Hz\uff09 \u767c\u9001\u6578\u64da \u8aaa\u660e TPDO1 0x180+ID 6 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u52a0\u901f\u5ea6 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u5206\u5225\u70baX,Y,Z\u8ef8\u52a0\u901f\u5ea6\uff0c\u55ae\u4f4d\u70bamG(0.001\u91cd\u529b\u52a0\u901f\u5ea6) TPDO2 0x280+ID 6 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u89d2\u901f\u5ea6 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u5206\u5225\u70baX,Y,Z\u8ef8\u89d2\u901f\u5ea6\uff0c\u55ae\u4f4d\u70ba0.1DPS(\u00b0/s) TPDO3 0x380+ID 6 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u6b50\u62c9\u89d2 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u9806\u5e8f\u5206\u5225\u70ba\u6a6b\u6efe\u89d2(Roll,\u7e5eX\u8ef8\u65cb\u8f49),\u4fef\u4ef0\u89d2(Pitch,\u7e5eY\u8ef8\u65cb\u8f49),\u822a\u5411\u89d2(Yaw\u7e5eZ\u8ef8\u65cb\u8f49)\u3002\u6b50\u62c9\u89d2\u55ae\u4f4d\u70ba0.01\u00b0 TPDO4 0x480+ID 8 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u56db\u5143\u6578 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u5206\u5225\u70ba$$ q_{w} q_{x} q_{y} q_{z}$$ \u3002\u55ae\u4f4d\u56db\u5143\u6578\u64f4\u592710000\u500d\u5f8c\u7d50\u679c\u3002\u5982\u56db\u5143\u6578\u70ba1,0,0,0 \u6642, \u8f38\u51fa10000,0,0,0. \u4f7f\u7528USB-CAN\u5de5\u5177\u6293\u53d6\u9ed8\u8a8dCAN\u8f38\u51fa\u5305\u622a\u5716\u5982\u4e0b\uff1a \u5176\u4e2d\u6b50\u62c9\u89d2(PTO3) CAN\u5e40ID =0x380 + 8(\u9ed8\u8a8dID) = 0x388\uff0c \u6578\u64da\u70ba: X\u8ef8\uff1a (0x00 <<8)+ 0x8F = 0x008F = 1.43\u00b0 Y\u8ef8\uff1a (0xFF<<8)+ 0xCF = 0xFFCF = -0.49\u00b0 Z\u8ef8\uff1a(0x0F<<8)+ 0xB9 = 0x0FB9= 40.25\u00b0 ### CAN\u63a5\u53e3\u7de8\u7a0b\u793a\u4f8b","title":"CANopen TPTO"},{"location":"ch100/ch100/#1","text":"\u767c\u9001\u6a19\u6e96CANopen\u5354\u8b70\u5e40\uff0c\u4f7f\u7528NMT: Start Remote Node\u547d\u4ee4: ID=0x000,DLC=2,DATA=0x01,0x08 \u5176\u4e2d 0x01\u70baStart Remote Node\u6307\u4ee4\uff0c 0x08\u70ba\u7bc0\u9edeID","title":"1. \u4f7f\u80fd\u6578\u64da\u8f38\u51fa(\u958b\u555f\u7570\u6b65\u89f8\u767c)"},{"location":"ch100/ch100/#2-can","text":"\u6578\u64da\u5b57\u5178\u4ee5\u4e0b\u4f4d\u7f6e\u5b58\u653e\u5ee0\u5546\u53c3\u6578\u914d\u7f6e\u6578\u64da, \u53ef\u901a\u904eCANopen \u767c\u9001\u5feb\u901fSDO\u6307\u4ee4\u4fee\u6539\uff0c \u6389\u96fb\u4fdd\u5b58\uff0c\u91cd\u65b0\u4e0a\u96fb\u751f\u6548 \u3002 \u6578\u64da\u5b57\u5178\u4f4d\u7f6e \u5b50\u504f\u79fb \u540d\u7a31 \u503c\u985e\u578b \u9ed8\u8a8d\u503c \u8aaa\u660e 0x2100 0 CAN_BAUD INTEGER32 500000 CAN\u7e3d\u7dda\u9b91\u7387 0x2101 0 NodeID INTEGER32 8 \u7bc0\u9edeID \u4ee5\u4e0a\u914d\u7f6e\u64cd\u4f5c\u5747\u4f7f\u7528\u5feb\u901fSDO\u4f86\u5beb\u6578\u64da\u5b57\u5178, \u5176\u4e2dTPDO\u901a\u9053\u8207\u5176\u5c0d\u61c9\u7684\u53c3\u6578\u7d22\u5f15\u70ba\uff1a PTO\u901a\u9053 PTO \u5e40ID TPDO\u53c3\u6578\u7d22\u5f15\u5730\u5740(CANopen\u5354\u8b70\u9ed8\u8a8d\u5b9a\u7fa9) TPDO1 0x180+ID 0x1800 TPDO2 0x280+ID 0x1801 TPDO3 0x380+ID 0x1802 TPDO4 0x480+ID 0x1803","title":"2. \u4fee\u6539CAN\u9b91\u7387\uff0c\u8f38\u51fa\u901f\u7387\u53ca\u8f38\u51fa\u5e40\u8cc7\u8a0a"},{"location":"ch100/ch100/#1-can","text":"\u5982\u5c07CAN\u9b91\u7387\u4fee\u6539\u70ba125K, \u5247\u767c\u9001\uff1a ID=0x608 ,DLC=8,DATA=0x23,0x00,0x21,0x00,0x48,0xE8,0x01,0x00 (ID=0x608, \u9577\u5ea6\u70ba8\u7684\u6a19\u6e96\u6578\u64da\u5e40) 0x23\u70baSDO\u5beb\u56db\u500b\u5b57\u7bc0\u6307\u4ee4 0x00, 0x21\u70ba\u5beb0x2100\u7d22\u5f15 0x00, 0x01, 0xE8, 0x48 = (0x00<<24) + (0x01<<16) + (0xE8<<8) + 0x48 = 125000 \u5982\u5c07CAN\u9b91\u7387\u4fee\u6539\u70ba250K, \u5247\u767c\u9001\uff1a ID=0x608 ,DLC=8,DATA=0x23,0x00,0x21,0x00,0x90,0xD0,0x03,0x00 0x23\u70baSDO\u5beb\u56db\u500b\u5b57\u7bc0\u6307\u4ee4 0x00, 0x21\u70ba\u5beb0x2100\u7d22\u5f15 0x00, 0x03, 0xD0, 0x90 = (0x00<<24) + (0x03<<16) + (0xD0<<8) + 0x90 = 250000","title":"\u793a\u4f8b1: \u4fee\u6539CAN\u9b91\u7387"},{"location":"ch100/ch100/#2-id","text":"\u5982\u5c07\u8a2d\u5099CANopen\u7bc0\u9edeID\u6539\u70ba9, \u5247\u767c\u9001\uff1a ID=0x608 ,DLC=8,DATA=0x23,0x01,0x21,0x00,0x09,0x00,0x00,0x00 0x23\u70baSDO\u5beb\u56db\u500b\u5b57\u7bc0\u6307\u4ee4 0x01, 0x21\u70ba\u5beb0x2101\u7d22\u5f15 0x09 0x00, 0x00, 0x00 = (0x00<<24) + (0x00<<16) + (0x00<<8) + 0x09 = 9 \u6ce8\u610f\uff0c\u4fee\u6539\u7bc0\u9edeID\u5f8c\u91cd\u65b0\u4e0a\u96fb\u751f\u6548\uff0c\u4e14\u751f\u6548\u5f8c\u767c\u9001\u555f\u52d5\u7bc0\u9ede\u547d\u4ee4(\u6bd4\u5982\u7bc0\u9ede\u555f\u52d5\u547d\u4ee4\u6578\u64da\u8b8a\u70ba01 09)\u548cSDO\u6307\u4ee4(\u767c\u9001CAN\u5e40ID\u8b8a\u70ba0x609)\u6642\u6ce8\u610f\u70ba\u65b0\u7684\u5730\u5740","title":"\u793a\u4f8b2: \u4fee\u6539\u7bc0\u9edeID"},{"location":"ch100/ch100/#3","text":"\u767c\u9001\u6a19\u6e96CANopen\u5354\u8b70\u5e40\uff0c\u4f7f\u7528\u6a19\u6e96\u5feb\u901fSDO\u6307\u4ee4:(\u6b64\u9805\u914d\u7f6e\u7acb\u5373\u751f\u6548\uff0c\u6389\u96fb\u4e0d\u4fdd\u5b58) \u4fee\u6539TPDO3(\u6b50\u62c9\u89d2)\u8f38\u51fa\u901f\u7387\u70ba20Hz(\u6bcf50ms\u8f38\u51fa\u4e00\u6b21): ID=0x608 ,DLC=8,DATA=0x2B,0x02,0x18,0x05,0x32,0x00,0x00,0x00 \u5176\u4e2d 0x2B\u70baSDO\u5beb\u5169\u500b\u5b57\u7bc0\u6307\u4ee4 0x02, 0x18\u70ba\u5beb0x1802\u7d22\u5f15, 0x05\u70ba\u5b50\u7d22\u5f15 0x00, 0x32= (0x00<<8) + 0x32 = 50(1ms\u70ba\u55ae\u4f4d)\uff0c\u5f8c\u9762\u4e0d\u8db3\u88dc0.","title":"\u793a\u4f8b3: \u4fee\u6539\u6578\u64da\u8f38\u51fa\u901f\u7387"},{"location":"ch100/ch100/#4-tpdo","text":"\u4f8b\uff1a\u95dc\u9589TPDO2\u5b9a\u6642\u8f38\u51fa\uff0c\u5247\u9700\u8981\u5beb0x1801\u7d22\u5f15\uff0c\u5b50\u7d22\u5f15\u70ba0x05, \u5beb\u5165\u503c\u70ba0x0000: ID=0x608 ,DLC=8,DATA=0x2B,0x01,0x18,0x05,0x00,0x00,0x00,0x00 \u5176\u4e2d 0x2B\u70baSDO\u5beb\u5169\u500b\u5b57\u7bc0\u6307\u4ee4 0x01, 0x18\u70ba\u5beb0x1801\u7d22\u5f15 0x05\u5b50\u7d22\u5f15 0x00, 0x00= (0x00<<8) + 0x00 = 0\uff0c\u5f8c\u9762\u4e0d\u8db3\u88dc0.","title":"\u793a\u4f8b4: \u95dc\u9589TPDO\u8f38\u51fa"},{"location":"ch100/ch100/#at","text":"\u7576\u4f7f\u7528\u5e8f\u5217\u57e0\u8207\u6a21\u7d44\u901a\u8a0a\u6642, \u6a21\u7d44\u652f\u63f4AT \u6307\u4ee4\u96c6\u914d\u7f6e/\u67e5\u770b\u6a21\u7d44\u53c3\u6578\u3002AT \u6307\u4ee4\u7e3d\u4ee5ASCII \u78bc AT \u958b\u982d\uff0c\u5f8c\u9762\u8ddf\u63a7\u5236\u5b57\u7b26\uff0c\u6700 \u5f8c\u4ee5\u56de\u8eca\u63db\u884c \\r\\n \u7d50\u675f\u3002\u53ef\u4f7f\u7528\u5e8f\u5217\u57e0\u8abf\u8a66\u52a9\u624b\u9032\u884c\u6e2c\u8a66\uff1a \u901a\u7528\u6a21\u7d44 AT\u6307\u4ee4\u5982\u4e0b \u6307\u4ee4 \u529f\u80fd \u6389\u96fb\u4fdd\u5b58(Y) \u7acb\u5373\u751f\u6548(Y),\u5fa9\u4f4d\u751f\u6548(R) \u5099\u8a3b AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID Y R AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a N Y AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u983b\u7387 Y R AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387 Y R AT+EOUT \u6578\u64da\u8f38\u51fa\u958b\u95dc N Y AT+RST \u5fa9\u4f4d\u6a21\u7d44 N Y \u91cd\u555f\u6a21\u7d44 AT+TRG \u55ae\u6b21\u8f38\u51fa\u89f8\u767c N Y \u4e0d\u652f\u63f4 AT+SETPTL \u8a2d\u7f6e\u8f38\u51fa\u6578\u64da\u5305 Y Y AT+MODE \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f Y R \u4e0d\u652f\u63f4 AT+GWID \u8a2d\u7f6e\u7121\u7dda\u63a5\u6536\u6a5fID Y R \u4e0d\u652f\u63f4","title":"AT\u6307\u4ee4"},{"location":"ch100/ch100/#atid","text":"\u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID \u4f8b AT+ID=1","title":"AT+ID"},{"location":"ch100/ch100/#atinfo","text":"\u6253\u5370\u6a21\u7d44\u8cc7\u8a0a\uff0c\u5305\u62ec\u7522\u54c1\u578b\u865f\uff0c\u7248\u672c\uff0c\u97cc\u9ad4\u767c\u4f48\u65e5\u671f\u7b49\u3002","title":"AT+INFO"},{"location":"ch100/ch100/#atodr","text":"\u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u901f\u7387\u3002 \u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548 \u4f8b \u8a2d\u7f6e\u5e8f\u5217\u57e0\u8f38\u51fa\u901f\u7387\u70ba100Hz: AT+ODR=100 \u6ce8\u610f\uff1a\u7576ODR\u8a2d\u7f6e\u70ba\u6bd4\u8f03\u9ad8\u6642(\u5982200),\u9ed8\u8a8d\u7684115200\u9b91\u7387\u53ef\u80fd\u4e0d\u6eff\u8db3\u8f38\u51fa\u983b\u5bec\u8981\u6c42\uff0c\u6b64\u6642\u9700\u8981\u5c07\u6a21\u7d44\u9b91\u7387\u8a2d\u9ad8(\u5982921600)\u5f8c\uff0c\u6a21\u7d44\u624d\u80fd\u6309\u8a2d\u7f6e\u7684ODR\u8f38\u51fa\u6578\u64da\u5e40\u3002","title":"AT+ODR"},{"location":"ch100/ch100/#atbaud","text":"\u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387\uff0c\u53ef\u9078\u503c\uff1a9600/115200/460800/921600` \u4f8b AT+BAUD=115200 \u6ce8\u610f \u4f7f\u7528\u6b64\u6307\u4ee4\u9700\u8981\u7279\u5225\u6ce8\u610f\uff0c\u8f38\u5165\u932f\u8aa4\u9b91\u7387\u5f8c\u6703\u5c0e\u81f4\u7121\u6cd5\u548c\u6a21\u7d44\u901a\u8a0a \u9b91\u7387\u53c3\u6578\u8a2d\u7f6e\u597d\u5f8c\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548\u3002 CH-Center \u8edf\u9ad4\u7684\u9b91\u7387\u4e5f\u8981\u505a\u76f8\u61c9\u4fee\u6539\u3002 \u5347\u7d1a\u97cc\u9ad4\u6642\uff0c\u9700\u8981\u5207\u63db\u56de115200 \u9b91\u7387\u3002","title":"AT+BAUD"},{"location":"ch100/ch100/#ateout","text":"\u5e8f\u5217\u57e0\u8f38\u51fa\u958b\u95dc \u4f8b \u6253\u958b\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=1 \u95dc\u9589\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=0","title":"AT+EOUT"},{"location":"ch100/ch100/#atrst","text":"\u5fa9\u4f4d\u6a21\u7d44 \u4f8b AT+RST","title":"AT+RST"},{"location":"ch100/ch100/#atsetptl","text":"\u8a2d\u7f6e\u8f38\u51fa\u5354\u8b70: \u8a2d\u7f6e\u4e00\u5e40\u4e2d\u6240\u5305\u542b\u7684\u6578\u64da\u5305\uff1a\u683c\u5f0f\u70ba AT+SETPTL=<ITEM_ID>,<ITEM_ID>... \u4f8b \u914d\u7f6e\u6a21\u7d44\u8f38\u51fa: 91\u6578\u64da\u5305(IMUSOL),\u6307\u4ee4\u70ba: AT+SETPTL=91 \u914d\u7f6e\u6a21\u7d44\u8f38\u51fa:\u52a0\u901f\u5ea6(A0)\uff0c\u89d2\u901f\u5ea6(B0), \u6574\u5f62\u683c\u5f0f\u6b50\u62c9\u89d2(D0)\u548c\u56db\u5143\u6578(D1)\u7684\u6307\u4ee4\u70ba\uff1a AT+SETPTL=A0,B0,D0,D1","title":"AT+SETPTL"},{"location":"ch100/ch100/#aturfr","text":"\u9019\u689d\u6307\u4ee4\u63d0\u4f9b\u4e86\u65cb\u8f49\u611f\u6e2c\u5668XYZ\u8ef8\u7684\u63a5\u53e3\uff1a AT+URFR=C00,C01,C02,C10,C11,C12,C20,C21,C22 \u5176\u4e2d C_{nn} C_{nn} \u652f\u63f4\u6d6e\u9ede\u6578 \\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{U}=\\left[\\begin{array}{lll}{C 00} & {C 01} & {C 02} \\\\ {C 10} & {C 11} & {C 12} \\\\ {C 20} & {C 21} & {C 22}\\end{array}\\right] \\cdot\\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{B} \\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{U}=\\left[\\begin{array}{lll}{C 00} & {C 01} & {C 02} \\\\ {C 10} & {C 11} & {C 12} \\\\ {C 20} & {C 21} & {C 22}\\end{array}\\right] \\cdot\\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{B} \u5176\u4e2d \\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{U} \\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{U} \u70ba\u65cb\u8f49\u5f8c\u7684 \u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u4e0b \u611f\u6e2c\u5668\u6578\u64da\uff0c \\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{B} \\left\\{\\begin{array}{l}{X} \\\\ {Y} \\\\ {Z}\\end{array}\\right\\}_{B} \u70ba\u65cb\u8f49\u524d \u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u4e0b \u611f\u6e2c\u5668\u6578\u64da \u4e0b\u9762\u662f\u5e7e\u7a2e\u5e38\u7528\u65cb\u8f49\u8209\u4f8b\uff1a \u65b0\u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u70ba \u7e5e\u539f\u5750\u6a19\u7cfbX\u8ef8 \u65cb\u8f49 90\u00b0\uff0c \u8f38\u5165\u547d\u4ee4\uff1a AT+URFR=1,0,0,0,0,1,0,-1,0 \u65b0\u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u70ba \u7e5e\u539f\u5750\u6a19\u7cfbX\u8ef8 \u65cb\u8f49-90\u00b0\uff0c \u8f38\u5165\u547d\u4ee4\uff1a AT+URFR=1,0,0,0,0,-1,0,1,0 \u65b0\u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u70ba \u7e5e\u539f\u5750\u6a19\u7cfbX\u8ef8 \u65cb\u8f49180\u00b0\uff0c \u8f38\u5165\u547d\u4ee4\uff1a AT+URFR=1,0,0,0,-1,0,0,0,-1 \u65b0\u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u70ba \u7e5e\u539f\u5750\u6a19\u7cfbY\u8ef8 \u65cb\u8f49 90\u00b0\uff0c \u8f38\u5165\u547d\u4ee4\uff1a AT+URFR= 0,0,-1,0,1,0,1,0,0 \u65b0\u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u70ba \u7e5e\u539f\u5750\u6a19\u7cfbY\u8ef8 \u65cb\u8f49-90\u00b0\uff0c \u8f38\u5165\u547d\u4ee4\uff1a AT+URFR= 0,0,1,0,1,0,-1,0,0 \u65b0\u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u70ba \u7e5e\u539f\u5750\u6a19\u7cfbY\u8ef8 \u65cb\u8f49180\u00b0\uff0c \u8f38\u5165\u547d\u4ee4\uff1a AT+URFR= -1,0,0,0,1,0,0,0,-1 \u65b0\u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u70ba \u7e5e\u539f\u5750\u6a19\u7cfbZ\u8ef8 \u65cb\u8f4990\u00b0\uff0c \u8f38\u5165\u547d\u4ee4\uff1a AT+URFR= 0,-1,0,1,0,0,0,0,1 \u6062\u5fa9\u9ed8\u8a8d\u503c\uff1a AT+URFR=1,0,0,0,1,0,0,0,1","title":"AT+URFR"},{"location":"ch100/ch100/#a-","text":"\u672c\u7522\u54c1\u652f\u63f4\u5347\u7d1a\u97cc\u9ad4\u3002 \u97cc\u9ad4\u5347\u7d1a\u6b65\u9a5f: \u9023\u63a5\u6a21\u7d44\uff0c\u6253\u958b CH-Center \u8edf\u9ad4\uff0c\u5c07\u6a21\u7d44\u548c CH-Center \u8edf\u9ad4\u9b91\u7387\u90fd\u8a2d\u7f6e\u70ba115200. \u6253\u958b\u97cc\u9ad4\u5347\u7d1a\u7a97\u53e3 \u9ede\u64ca\u9023\u63a5\u6309\u9215\uff0c\u5982\u51fa\u73fe\u6a21\u7d44\u9023\u63a5\u8cc7\u8a0a\u3002\u5247\u8aaa\u660e\u5347\u7d1a\u7cfb\u7d71\u6e96\u5099\u5c31\u7dd2\uff0c\u9ede\u64ca\u6587\u4ef6\u9078\u64c7\u5668(\u2026)\u9078\u64c7\u9644\u6a94\u540d\u70ba.hex \u7684\u97cc\u9ad4\uff0c\u7136\u5f8c\u9ede\u64ca\u958b\u59cb\u7de8\u7a0b\u3002\u4e0b\u8f09\u5b8c\u6210\u5f8c\u6703\u63d0\u793a\u7de8\u7a0b\u5b8c\u6210\uff0c\u6b64\u6642\u95dc\u9589\u5e8f\u5217\u57e0\uff0c\u91cd\u65b0\u7d66\u6a21\u7d44\u4e0a\u96fb\uff0c\u6a21\u7d44\u5347\u7d1a\u5b8c\u6210\u3002","title":"\u9644\u9304A - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e"},{"location":"ch110/ch110/","text":"CH110 \u7528\u6236\u624b\u518a IMU/VRU\u59ff\u614b\u6e2c\u91cf\u6a21\u7d44, Rev 1.0 CH110 \u7528\u6236\u624b\u518a \u7c21\u4ecb \u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u6578\u64da\u8655\u7406 \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb \u5176\u4ed6 \u786c\u9ad4\u53ca\u5c3a\u5bf8 \u786c\u9ad4\u53c3\u6578 \u5c3a\u5bf8 \u63a5\u53e3\u5b9a\u7fa9 \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u9640\u87ba\u5100 \u52a0\u901f\u5ea6\u8a08 \u78c1\u611f\u6e2c\u5668\u53c3\u6578 \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578 \u611f\u6e2c\u5668\u6821\u6e96 \u5730\u78c1\u6821\u6e96 \u78c1\u5e72\u64fe\u5206\u985e 6\u8ef8\u548c9\u8ef8\u6a21\u5f0f\u5340\u5225 \u6821\u6e96\u65b9\u6cd5 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd \u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868 0x90(\u7528\u6236ID) 0xA0(\u52a0\u901f\u5ea6) 0xB0(\u89d2\u901f\u5ea6) 0xC0(\u78c1\u5834\u5f37\u5ea6) 0xD0(\u6b50\u62c9\u89d2) 0XD1(\u56db\u5143\u6578) 0XF0(\u6c23\u58d3) 0X91( IMUSOL) \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 CAN\u901a\u8a0a\u5354\u8b70 CANopen \u9ed8\u8a8d\u8a2d\u7f6e CANopen TPTO 1. \u4f7f\u80fd\u6578\u64da\u8f38\u51fa(\u958b\u555f\u7570\u6b65\u89f8\u767c) 2. \u4fee\u6539CAN\u9b91\u7387\uff0c\u8f38\u51fa\u901f\u7387\u53ca\u8f38\u51fa\u5e40\u8cc7\u8a0a \u793a\u4f8b1: \u4fee\u6539CAN\u9b91\u7387 \u793a\u4f8b2: \u4fee\u6539\u7bc0\u9edeID \u793a\u4f8b3: \u4fee\u6539\u6578\u64da\u8f38\u51fa\u901f\u7387 \u793a\u4f8b4: \u95dc\u9589TPDO\u8f38\u51fa AT\u6307\u4ee4 AT+ID AT+INFO AT+ODR AT+BAUD AT+EOUT AT+RST AT+SETPTL AT+MODE \u9644\u9304A - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e \u7c21\u4ecb CH110\u662f\u8d85\u6838\u96fb\u5b50\u63a8\u51fa\u7684\u4e00\u6b3e\u9ad8\u6027\u80fd\u3001\u5c0f\u9ad4\u7a4d\u3001\u4f4e\u5ef6\u6642\u7684\u6163\u6027\u6e2c\u91cf\u55ae\u5143(IMU)\uff0c\u672c\u7522\u54c1\u6574\u5408\u4e86\u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08\u3001\u4e09\u8ef8\u9640\u87ba\u5100\u548c\u4e00\u6b3e\u5fae\u63a7\u5236\u5668\u3002\u53ef\u8f38\u51fa\u7d93\u904e\u611f\u6e2c\u5668\u878d\u5408\u7b97\u6cd5\u8a08\u7b97\u5f97\u5230\u7684\u57fa\u65bc\u7576\u5730\u5730\u7406\u5750\u6a19\u7684\u4e09\u7dad\u65b9\u4f4d\u6578\u64da\uff0c\u5305\u542b\u7121\u7d55\u5c0d\u53c3\u8003\u7684\u76f8\u5c0d\u822a\u5411\u89d2\uff0c\u4fef\u4ef0\u89d2\u548c\u6a6b\u6efe\u89d2\u3002\u540c\u6642\u4e5f\u53ef\u4ee5\u8f38\u51fa\u6821\u6e96\u904e\u7684\u539f\u59cb\u7684\u611f\u6e2c\u5668\u6578\u64da\u3002 \u5178\u578b\u61c9\u7528: \u6a5f\u5668\u4eba/AGV DR SLAM\u61c9\u7528 \u7121\u4eba\u99d5\u99db/\u7d44\u5408\u5c0e\u822a\u7528IMU \u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u9640\u87ba\u5100, \u6700\u5927\u91cf\u7a0b: \u00b1500\u00b0/s \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08, \u6700\u5927\u91cf\u7a0b:\u00b18G \u6578\u64da\u8655\u7406 \u52a0\u901f\u5ea6\u548c\u9640\u87ba\u5100\u51fa\u5ee0\u524d\u7d93\u904e\u4e09\u8ef8\u975e\u6b63\u4ea4\u548c\u6a19\u5ea6\u56e0\u5b50\u6821\u6e96 \u6578\u64da\u878d\u5408\u7b97\u6cd5\u8a08\u7b97\u4e26\u8f38\u51fa\u5730\u7406\u5750\u6a19\u7cfb\u4e0b\u7684\u65cb\u8f49\u56db\u5143\u6578\u53ca\u6b50\u62c9\u89d2\u7b49\u59ff\u614b\u8cc7\u8a0a \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb USB(\u865b\u64ec\u5e8f\u5217\u57e0)/RS232\u4e32\u884c\u63a5\u53e3/CAN2.0\u7e3d\u7dda \u4f9b\u96fb\u96fb\u58d3\uff1a5-24V \u5176\u4ed6 PC\u7aef CH-Center \u8edf\u9ad4\uff0c\u63d0\u4f9b\u5373\u6642\u6578\u64da\u986f\u793a\uff0c\u6ce2\u5f62\uff0c\u6821\u6e96\u53caexcel \u6578\u64da\u8a18\u9304\u529f\u80fd \u591a\u9805\u6a21\u7d44\u53c3\u6578\u7528\u6236\u53ef\u914d\u7f6e \u786c\u9ad4\u53ca\u5c3a\u5bf8 \u786c\u9ad4\u53c3\u6578 \u53c3\u6578 \u63cf\u8ff0 \u8f38\u51fa\u6578\u64da\u63a5\u53e3 USB(\u865b\u64ec\u5e8f\u5217\u57e0)/RS232\u4e32\u884c\u63a5\u53e3/CAN2.0\u7e3d\u7dda \u5de5\u4f5c\u96fb\u58d3 5-24V \u6eab\u5ea6\u7bc4\u570d -20\u2103 - 85 \u2103 \u6700\u5927\u7dda\u6027\u52a0\u901f\u5ea6 0 - 115 m/s^2 m/s^2 \u5c3a\u5bf8 40 x 40 x 25mm (W x L x H) \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08 \u4e09\u8ef8\u9640\u87ba\u5100 \u5c3a\u5bf8 \u63a5\u53e3\u5b9a\u7fa9 \u5e8f\u865f \u5f15\u8173\u865f \u529f\u80fd 1 \u7d05 Vin 2 \u9ed1 GND 3 \u9ec3 RS232 TX 4 \u7da0 RS232 RX 5 \u767d \u4fdd\u7559 6 \u68d5 \u4fdd\u7559 7 \u85cd CAN_H 8 \u7070 CAN_L \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u8f09\u9ad4\u7cfb\u4f7f\u7528 \u53f3-\u524d-\u4e0a(RFU)\u5750\u6a19\u7cfb\uff0c \u5730\u7406\u5750\u6a19\u7cfb\u4f7f\u7528 \u6771-\u5317-\u5929(ENU)\u5750\u6a19\u7cfb\u3002\u5176\u4e2d\u6b50\u62c9\u89d2\u65cb\u8f49\u9806\u5e8f\u70ba\u6771-\u5317-\u5929-312(\u5148\u8f49Z\u8ef8\uff0c\u518d\u8f49X\u8ef8\uff0c\u6700\u5f8c\u8f49Y\u8ef8)\u65cb\u8f49\u9806\u5e8f\u3002\u5177\u9ad4\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7e5e Z \u8ef8\u65b9\u5411\u65cb\u8f49: \u822a\u5411\u89d2\\Yaw\\phi( \\psi \\psi ) \u7bc4\u570d: -180\u00b0 - 180\u00b0 \u7e5e X \u8ef8\u65b9\u5411\u65cb\u8f49:\u4fef\u4ef0\u89d2\\Pitch\\theta( \\theta \\theta ) \u7bc4\u570d: -90\u00b0-90\u00b0 \u7e5e Y \u8ef8\u65b9\u5411\u65cb\u8f49: \u6a6b\u6efe\u89d2\\Roll\\psi( \\phi \\phi )\u7bc4\u570d: -180\u00b0-180\u00b0 \u5982\u679c\u5c07\u6a21\u7d44\u8996\u70ba\u98db\u884c\u5668\u7684\u8a71\u3002Y\u8ef8\u6b63\u65b9\u5411\u61c9\u8996\u70ba\u6a5f\u982d\u65b9\u5411\u3002\u7576\u611f\u6e2c\u5668\u7cfb\u8207\u6163\u6027\u7cfb\u91cd\u5408\u6642\uff0c\u6b50\u62c9\u89d2\u7684\u7406\u60f3\u8f38\u51fa\u70ba:Pitch = 0\u00b0, Roll = 0\u00b0, Yaw = 0\u00b0 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u59ff\u614b\u89d2 \u5178\u578b\u503c \u5099\u8a3b \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u975c\u614b\u8aa4\u5dee 0.4\u00b0 \u8f09\u9ad4\u6c34\u5e73\u5e73\u7a69\u904b\u52d5 \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u52d5\u614b\u8aa4\u5dee 1.0\u00b0 \u8f09\u9ad4\u6c34\u5e73\u5e73\u7a69\u904b\u52d5 \u904b\u52d5\u4e2d\u822a\u5411\u89d2\u7cbe\u5ea6 5\u00b0 @20min \u8f09\u9ad4\u6c34\u5e73\u5e73\u7a69\u904b\u52d5 \u9640\u87ba\u5100 \u53c3\u6578 \u503c \u5099\u8a3b \u6e2c\u91cf\u7bc4\u570d \u00b1500\u00b0/s \u96f6\u504f\u7a69\u5b9a\u6027X\u8ef8 3.5\u00b0/h @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Y\u8ef8 2\u00b0/h @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Z\u8ef8 2\u00b0/h @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u91cd\u8907\u6027 0.035\u00b0/s @25\u00b0,1 \\sigma \\sigma \u975e\u6b63\u4ea4\u8aa4\u5dee \u00b10.1% \u96a8\u6a5f\u904a\u8d70X\u8ef8 0.3 \u00b0/s\\sqrt{h} \u00b0/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Y\u8ef8 0.3 \u00b0/s\\sqrt{h} \u00b0/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Z\u8ef8 0.25 \u00b0/s\\sqrt{h} \u00b0/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u523b\u5ea6\u975e\u7dda\u6027\u5ea6 \u00b10.1% \u6eff\u91cf\u7a0b\u6642(\u6700\u5927) \u523b\u5ea6\u4fc2\u6578\u8aa4\u5dee \u00b10.4% \u51fa\u5ee0\u524d\u6821\u6e96\u5f8c \u52a0\u901f\u5ea6\u654f\u611f\u6027 0.1\u00b0/s/g \u9640\u87baAllan\u65b9\u5dee\u66f2\u7dda \u52a0\u901f\u5ea6\u8a08 \u53c3\u6578 \u503c \u5099\u8a3b \u6e2c\u91cf\u7bc4\u570d \u00b18G (1G = 1x \u91cd\u529b\u52a0\u901f\u5ea6 ) \u96f6\u504f\u7a69\u5b9a\u6027X\u8ef8 30uG @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Y\u8ef8 30uG @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Z\u8ef8 40uG @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u91cd\u8907\u6027 1.8mG @25\u00b0,1 \\sigma \\sigma \u975e\u6b63\u4ea4\u8aa4\u5dee \u00b10.1% \u00b10.1% \u96a8\u6a5f\u904a\u8d70X\u8ef8 0.04 m/s\\sqrt{h} m/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Y\u8ef8 0.04 m/s\\sqrt{h} m/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Z\u8ef8 0.06 m/s\\sqrt{h} m/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u523b\u5ea6\u4fc2\u6578\u8aa4\u5dee \u00b10.3% (\u6eff\u91cf\u7a0b\u6642) \u5168\u6eab\u7bc4\u570d\u6eab\u5ea6\u8b8a\u5316 2mg -20 - 85\u00b0 \u52a0\u901f\u5ea6Allan\u65b9\u5dee\u66f2\u7dda \u78c1\u611f\u6e2c\u5668\u53c3\u6578 \u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b18G(Gauss) \u975e\u7dda\u6027\u5ea6 \u00b10.1% \u5206\u8fa8\u7387 0.25mG \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578 \u53c3\u6578 \u503c \u5e8f\u5217\u57e0\u8f38\u51fa\u9b91\u7387 9600/115200/460800/921600\u53ef\u9078 \u5e40\u8f38\u51fa\u901f\u7387 1/50/100/200/400Hz \u53ef\u9078 \u555f\u52d5\u6642\u9593 <1s \u611f\u6e2c\u5668\u6821\u6e96 \u52a0\u901f\u5ea6\u8a08\u548c\u9640\u87ba\u5100\u5728\u51fa\u5ee0\u524d\u7d93\u904e\u6bd4\u4f8b\u56e0\u5b50\u8aa4\u5dee\u548c\u975e\u6b63\u4ea4\u8aa4\u5dee\u6821\u6e96\uff0c\u6821\u6e96\u53c3\u6578\u4fdd\u5b58\u5728\u6a21\u7d44\u5167\u90e8\u3002 \u9640\u87ba\u5100\u7684\u8f38\u51fa\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u6703\u6709\u4e00\u500b\u96a8\u6a5f\u7684\u4e0d\u70ba0\u7684bias\uff0c\u7a31\u4e4b\u70ba\u96f6\u504f\u91cd\u8907\u6027\u3002\u9019\u500b\u96a8\u6a5fbias\u4e0d\u80fd\u5728\u51fa\u5ee0\u524d\u88ab\u6821\u6e96\u3002\u7cfb\u7d71\u5728\u555f\u52d5\u5f8c1S\u5167\u8a8d\u70ba\u8655\u65bc\u975c\u6b62\u72c0\u614b\u4e26\u63a1\u96c61S\u7684\u9640\u87ba\u5100\u89d2\u901f\u5ea6\u4f5c\u70ba\u521d\u59cbbias\u3002\u9019\u500b\u904e\u7a0b\u7a31\u4e4b\u70ba\u9640\u87ba\u5100\u4e0a\u96fb\u81ea\u6821\u6e96\u3002\u81ea\u6821\u6e96\u5728\u4e0a\u96fb\u5f8c\u975c\u6b62\u6a21\u7d443s \u5de6\u53f3\u53ef\u7372\u5f97\u6700\u597d\u7684\u6821\u6e96\u6548\u679c\u3002 \u5982\u4e0a\u96fb1s\u5167\u6a21\u7d44\u8655\u65bc\u904b\u52d5\u72c0\u614b(\u5305\u62ec\u7de9\u6162\u8f49\u52d5\uff0c\u632f\u52d5\u7b49)\u5247\u822a\u5411\u89d2\u98c4\u79fb\u73fe\u8c61\u6703\u986f\u8457\u589e\u5927 \u3002 \u5efa\u8b70\u4f7f\u7528\u6642\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u975c\u6b62\u81f3\u5c111s\u3002 \u78c1\u611f\u6e2c\u5668(\u90e8\u5206\u578b\u865f\u652f\u63f4)\u51fa\u5ee0\u524d\u7d93\u904e\u6a62\u7403\u6821\u6e96\uff0c\u4f46\u78c1\u611f\u6e2c\u5668\u5f88\u5bb9\u6613\u53d7\u5230\u5916\u754c\u74b0\u5883\u78c1\u5834\u5e72\u64fe\uff0c\u4e00\u822c\u90fd\u9700\u8981\u5ba2\u6236\u91cd\u65b0\u6821\u6e96\uff0c\u51fa\u5ee0\u6821\u6e96\u53c3\u6578\u610f\u7fa9\u4e0d\u5927\u3002\u8a73\u898b\u5730\u78c1\u6821\u6e96\u7ae0\u7bc0\u3002 \u5730\u78c1\u6821\u6e96 \u78c1\u5e72\u64fe\u5206\u985e \u7a2e\u985e \u5b9a\u7fa9 \u5178\u578b\u5e72\u64fe\u6e90 \u5f71\u97ff \u63aa\u65bd \u7a7a\u9593\u78c1\u5834\u5e72\u64fe \u5e72\u64fe\u4e0d\u96a8\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5\uff0c\u800c\u8655\u65bc\u4e16\u754c\u5750\u6a19\u7cfb\u4e0b \u5404\u7a2e\u56fa\u5b9a\u7684\u78c1\u5e72\u64fe\u6e90\uff0c\u50a2\u4ff1\uff0c\u5bb6\u7528\u96fb\u5668\uff0c\u96fb\u7e9c\uff0c\u623f\u5c4b\u5167\u7684\u92fc\u7b4b\u7d50\u69cb\u7b49\u3002\u4e00\u5207\u4e0d\u96a8\u78c1\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5\u7684\u5e72\u64fe\u6e90 \u7121\u8ad6\u78c1\u5834\u611f\u6e2c\u5668\u662f\u5426\u6821\u6e96\u7684\u597d\uff0c\u9019\u4e9b\u7a7a\u9593\u78c1\u5834\u7684\u5e72\u64fe(\u6216\u8005\u8aaa\u74b0\u5883\u78c1\u5834\u4e0d\u5747\u52fb)\u90fd\u6703\u4f7f\u5f97\u7a7a\u9593\u5730\u78c1\u5834\u767c\u751f\u7578\u8b8a\u3002\u5730\u78c1\u88dc\u511f\u6703\u932f\u8aa4\u4e26\u4e14\u7121\u6cd5\u7372\u5f97\u6b63\u78ba\u7684\u822a\u5411\u89d2\u3002\u4ed6\u5011\u662f\u9020\u6210\u5ba4\u5167\u5730\u78c1\u878d\u5408\u96e3\u4ee5\u4f7f\u7528\u7684\u4e3b\u8981\u5143\u5147\u3002\u9019\u7a2e\u5e72\u64fe\u4e0d\u80fd\u88ab\u6821\u6e96, \u6703\u56b4\u91cd\u5f71\u97ff\u5730\u78c1\u6027\u80fd\u3002\u7a7a\u9593\u78c1\u5834\u5e72\u64fe\u5728\u5ba4\u5167\u5c24\u5176\u56b4\u91cd\u3002 \u6a21\u7d44\u5167\u7f6e\u7684\u52fb\u8cea\u78c1\u5834\u6aa2\u6e2c\u53ca\u5c4f\u853d\u975e\u52fb\u8cea\u78c1\u5834 \u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u4e0b\u7684\u5e72\u64fe \u5e72\u64fe\u6e90\u96a8\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5 \u6a21\u7d44PCB\uff0c\u8207\u6a21\u7d44\u56fa\u5b9a\u5728\u4e00\u8d77\u7684\u677f\u5b50\uff0c\u5100\u5668\u8a2d\u5099\uff0c\u7522\u54c1\u7b49\u3002\u4ed6\u5011\u548c\u78c1\u611f\u6e2c\u5668\u8996\u70ba\u540c\u4e00\u500b\u525b\u9ad4\uff0c\u96a8\u78c1\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5 \u5c0d\u611f\u6e2c\u5668\u9020\u6210\u786c\u78c1/\u8edf\u78c1\u5e72\u64fe\u3002\u9019\u4e9b\u5e72\u64fe\u53ef\u4ee5\u901a\u904e\u5730\u78c1\u6821\u6e96\u7b97\u6cd5\u52a0\u4ee5\u5f88\u597d\u7684\u6d88\u9664\u3002 \u5730\u78c1\u6821\u6e96 \u4e0b\u5716\u662f\u4e00\u500b\u5178\u578b\u7684\u5ba4\u5167\u78c1\u5834\u5206\u4f48\u5716\u3002\u53ef\u4ee5\u770b\u5230\uff1a\u4e00\u822c\u5ba4\u5167\u74b0\u5883\u7684\u7a7a\u9593\u78c1\u5834\u7578\u8b8a\u662f\u6bd4\u8f03\u56b4\u91cd\u7684\u3002 \u6ce8\u610f \u5728\u5ba4\u5167\u74b0\u5883\u4e0b\uff0c\u7a7a\u9593\u78c1\u5834\u5e72\u64fe\u5c24\u5176\u56b4\u91cd\uff0c\u800c\u4e14\u7a7a\u9593\u78c1\u5e72\u64fe\u4e26\u4e0d\u80fd\u901a\u904e\u6821\u6e96\u4f86\u6d88\u9664\u3002\u5728\u5ba4\u5167\u74b0\u5883\u4e0b\uff0c\u5118\u7ba1\u6a21\u7d44\u5167\u7f6e\u5747\u8cea\u78c1\u5834\u6aa2\u6e2c\u53ca\u5c4f\u853d\u6a5f\u5236\uff0c\u4f469\u8ef8\u6a21\u5f0f\u822a\u5411\u89d2\u7684\u6e96\u78ba\u5ea6\u5f88\u5927\u7a0b\u5ea6\u4e0a\u53d6\u6c7a\u65bc\u5ba4\u5167\u78c1\u5834\u7578\u8b8a\u7a0b\u5ea6\uff0c\u5982\u679c\u5ba4\u5167\u78c1\u5834\u74b0\u5883\u5f88\u5dee(\u5982\u96fb\u8166\u6a5f\u623f\u65c1\uff0c\u96fb\u78c1\u5be6\u9a57\u5ba4\uff0c\u8eca\u9593 \uff0c\u5730\u4e0b\u8eca\u5eab\u7b49\u7b49)\uff0c\u5373\u4f7f\u6821\u6e96\u5f8c\uff0c 9\u8ef8\u7684\u822a\u5411\u89d2\u7cbe\u5ea6\u53ef\u80fd\u9084\u4e0d\u59826\u8ef8\u751a\u81f3\u6703\u51fa\u73fe\u5927\u89d2\u5ea6\u8aa4\u5dee\u3002 6\u8ef8\u548c9\u8ef8\u6a21\u5f0f\u5340\u5225 \u6b63\u56e0\u70ba\u5730\u78c1\u5834\u975e\u5e38\u5bb9\u6613\u53d7\u5230\u7a7a\u9593\u5e72\u64fe\uff0c\u6240\u4ee5\u4f7f\u75289\u8ef8\u6a21\u5f0f\u6642\u61c9\u975e\u5e38\u6ce8\u610f\u3002\u4e0b\u8868\u5217\u8209\u4e86\u4e0d\u540c\u7684\u4f7f\u7528\u5834\u5408\u548c\u5de5\u6cc1\u4e0b\u7684\u4f7f\u7528\u5efa\u8b70 \u6a21\u5f0f \u9069\u7528\u74b0\u5883 \u5178\u578b\u61c9\u7528 \u512a\u9ede \u7f3a\u9ede \u6ce8\u610f\u4e8b\u9805 6\u8ef8\u6a21\u5f0f \u5404\u7a2e\u74b0\u5883 \u96f2\u53f0\u7b49\u4f4e\u52d5\u614b\u59ff\u614b\u6aa2\u6e2c\uff0c\u5ba4\u5167\u6a5f\u5668\u4eba 1. \u59ff\u614b\u89d2\u8f38\u51fa\u7a69\u5b9a\u6027\u597d 2. \u5b8c\u5168\u4e0d\u53d7\u78c1\u5834\u5e72\u64fe \u822a\u5411\u89d2\u96a8\u6642\u9593\u7de9\u6162\u6f02\u79fb \u822a\u5411\u89d2\u6703\u96a8\u6642\u9593\u7de9\u6162\u98c4\u79fb\u4e14\u7121\u6cd5\u88dc\u511f 9\u8ef8\u6a21\u5f0f \u7121\u78c1\u5e72\u64fe\u74b0\u5883 1.\u6307\u5357\u91dd\uff0c\u5c0b\u5317\u7cfb\u7d71 2. \u7a7a\u66e0\u4e14\u78c1\u5e72\u64fe\u8f03\u5c11\u7684\u5ba4\u5167\uff0c\u6a21\u7d44\u57fa\u672c\u4e0d\u6703\u5927\u7bc4\u570d\u5728\u5ba4\u5167\u79fb\u52d5(\u5178\u578b\u7684\u5982\u651d\u5f71\u68da\u5167\u52d5\u4f5c\u6355\u6349\uff0c\u4e14\u88ab\u6e2c\u8005\u4e0d\u6703\u505a\u5927\u7bc4\u570d\u8d70\u52d5) 1. \u822a\u5411\u89d2\u4e0d\u6703\u96a8\u6642\u9593\u6f02\u79fb 2.\u4e00\u65e6\u6aa2\u6e2c\u5230\u5730\u78c1\u5834\u53ef\u5feb\u901f\u4fee\u6b63\u822a\u5411\u89d2\u6307\u5317 \u4efb\u4f55\u78c1\u5e72\u64fe\u90fd\u6703\u51fa\u73fe\u822a\u5411\u89d2\u6e96\u78ba\u5ea6\u4e0b\u964d\u3002\u5ba4\u5167\u5e72\u64fe\u56b4\u91cd\u60c5\u6cc1\u4e0b \u822a\u5411\u89d2\u7121\u6cd5\u6307\u5411\u6b63\u78ba\u65b9\u5411\u3002\u53e6\u5916\uff0c\u79fb\u52d5\u6a5f\u5668\u4eba\u7684\u91d1\u5c6c\u7d50\u69cb\u548c\u96fb\u6a5f\u904b\u884c\u6642\u6703\u7522\u751f\u975e\u5e38\u5f37\u7684\u78c1\u5e72\u64fe\uff0c\u6240\u4ee5\u79fb\u52d5\u6a5f\u5668\u4eba\u5e73\u53f0\u4e0d\u9069\u7528\u65bc9\u8ef8\u6a21\u5f0f\u3002 \u9996\u6b21\u4f7f\u7528\u524d\u9700\u8981\u6821\u6e96\u5730\u78c1\u611f\u6e2c\u5668 \u6a21\u7d44\u7684\u81ea\u52d5\u5730\u78c1\u6821\u6e96\u7cfb\u7d71\u53ea\u80fd\u8655\u7406\u548c\u6a21\u7d44\u5b89\u88dd\u5728\u4e00\u8d77\u7684\uff0c\u56fa\u5b9a\u7684\u78c1\u5834\u5e72\u64fe\u3002\u5b89\u88dd\u74b0\u5883\u5982\u679c\u6709\u78c1\u5834\u5e72\u64fe\uff0c\u9019\u7a2e\u5e72\u64fe\u5fc5\u9808\u662f\u56fa\u5b9a\u7684\uff0c\u4e26\u4e14\u9019\u500b\u5e72\u64fe\u78c1\u5834\u8207\u6a21\u7d44 \u5b89\u88dd\u4e4b\u5f8c\u4e0d\u6703\u518d\u767c\u751f\u8ddd\u96e2\u8b8a\u5316(\u4f8b\uff1a\u6a21\u7d44\u5b89\u88dd\u5728\u4e00\u500b\u9435\u6750\u6599\u4e4b\u4e0a\uff0c\u56e0\u70ba\u9435\u6703\u6709\u78c1\u5834\u5e72\u64fe\uff0c \u9019\u6642\u5c31\u9700\u8981\u628a\u9435\u8207\u6a21\u7d44\u4e00\u8d77\u65cb\u8f49\u6821\u6e96\uff0c\u4e26\u4e14\u9019\u500b\u9435\u5728\u4f7f\u7528\u7576\u4e2d\u662f\u4e0d\u6703\u548c\u7f85\u76e4\u518d\u5206\u958b\u7684(\u767c\u751f\u76f8\u5c0d\u4f4d\u79fb)\uff0c\u4e00 \u65e6\u5206\u958b\u662f\u9700\u8981\u518d\u91cd\u65b0\u6821\u6e96\u3002\u5982\u679c\u9019\u500b\u9435\u5927\u5c0f\u662f\u4e0d\u56fa\u5b9a\u7684\uff0c\u6216\u8207\u7f85\u76e4\u7684\u8ddd\u96e2\u8b8a\u5316\u4e5f\u4e0d\u662f\u56fa\u5b9a \u7684\uff0c\u9019\u7a2e\u5e72\u64fe\u662f\u7121\u6cd5\u6821\u6e96\uff0c\u5373\u4f7f\u6821\u6e96\u6210\u529f\uff0c\u4e5f\u6703\u7cbe\u5ea6\u975e\u5e38\u5dee\uff0c\u53ea\u80fd\u907f\u800c\u9060\u4e4b\u5b89\u88dd\u3002\u5b89\u5168\u8ddd\u96e2\u63a7\u5236\u5728 40CM \u4ee5\u4e0a)\u3002 \u6821\u6e96\u65b9\u6cd5 \u672c\u6a21\u7d44\u6574\u5408\u4e86\u4e3b\u52d5\u7121\u5e72\u9810\u5730\u78c1\u6821\u6e96\u7b97\u6cd5,\u6a21\u7d44\u6703\u81ea\u52d5\u6536\u96c6\u5730\u78c1\u5834\u8cc7\u8a0a\u4e26\u9032\u884c\u786c\u78c1\u8edf\u78c1\u6821\u6e96\u53c3\u6578\u4f30\u8a08\uff0c\u6821\u6e96\u6210\u529f\u5f8c\u6821\u6e96\u8cc7\u8a0a\u6703\u4fdd\u5b58\u5728\u6a21\u7d44Flash\u4e0a\u3002 \u7528\u6236\u7121\u9808\u4efb\u4f55\u64cd\u4f5c/\u6307\u4ee4\u5373\u53ef\u5be6\u73fe\u5730\u78c1\u6821\u6e96 \u3002\u9996\u6b21\u4f7f\u7528\u6642\uff0c\u6a21\u7d44\u6703\u81ea\u52d5\u63a1\u96c6\u5468\u570d\u5730\u78c1\u5834\uff0c\u4e26\u5617\u8a66\u8a08\u7b97\u5730\u78c1\u611f\u6e2c\u5668\u6821\u6e96\u53c3\u6578\u3002\u7576\u9996\u6b21\u4f7f\u7528\u6a21\u7d44\u4e26\u4e14\u9700\u8981\u4f7f\u75289\u8ef8\u6a21\u5f0f\u6642\uff0c\u61c9\u9032\u884c\u5982\u4e0b\u6821\u6e96\u64cd\u4f5c\uff1a \u5728\u76e1\u91cf\u5c0f\u7bc4\u570d\u5167\uff0c\u7de9\u6162\u7684\u8b93\u6a21\u7d44\u904b\u52d5\u548c\u65cb\u8f49\uff0c\u6216\u8005\u9032\u884c8\u5b57\u904b\u52d5 \u6216\u8005\u5206\u5225\u7e5e\u6bcf\u500b\u8ef8360\u5ea6\uff0c\u8b93\u6a21\u7d44\u7d93\u6b77\u76e1\u91cf\u591a\u7684\u59ff\u614b\u3002\u4e00\u822c\u60c5\u6cc1\u4e0b\uff0c\u5982\u679c\u5730\u78c1\u5e72\u64fe\u5728\u53ef\u63a5\u53d7\u7684\u7bc4\u570d\u5167\uff0c\u5373\u53ef\u5b8c\u6210\u6821\u6e96\u3002\u5982\u679c\u5f8c\u9762\u5728\u540c\u6a23\u5730\u78c1\u74b0\u5883\u4e0b(\u540c\u5730\u9ede)\uff0c\u5247\u7121\u9700\u518d\u6b21\u6821\u6e96\u3002\u5982\u679c\u59cb\u7d42\u6c92\u80fd\u6210\u529f\u6821\u6e96\u6a21\u7d44\uff0c\u8aaa\u660e\u5468\u570d\u5730\u78c1\u5834\u5e72\u64fe\u6bd4\u8f03\u5927\u3002 \u5730\u78c1\u6821\u6e96\u72c0\u614b\u53ef\u4ee5\u4f7f\u7528AT\u6307\u4ee4\u4f86\u67e5\u770b\uff1a \u767c\u9001 AT+INFO=HSI \u6307\u4ee4\uff0c\u6a21\u7d44\u6703\u6253\u5370\u7576\u524d\u5730\u78c1\u6821\u6e96\u7cfb\u7d71\u72c0\u614b\uff1a \u53c3\u6578\u986f\u793a \u610f\u7fa9 \u8aaa\u660e valid \u6709\u6548\u6a19\u8a8c 0: \u4e0d\u5b58\u5728\u6709\u6548\u6821\u6e96\u53c3\u6578(\u6c92\u6709\u6821\u6e96\u6216\u8005\u5f9e\u4f86\u6c92\u6709\u6821\u6e96\u6210\u529f\u904e)\u3002\u975e0\uff1a\u5730\u78c1\u6821\u6e96\u5b8c\u6210 fiterr \u64ec\u5408\u6b98\u5dee \u6b98\u5dee\u8d8a\u5c0f\uff0c\u8aaa\u660e\u53c3\u6578\u64ec\u5408\u6548\u679c\u8d8a\u597d\uff0c\u901a\u5e38\u57280.03\u4ee5\u4e0b\u8aaa\u660e\u6821\u6e96\u7d50\u679c\u5df2\u7d93\u8db3\u5920\u597d\u3002\u5982\u679c\u64ec\u5408\u7d50\u679c\u59cb\u7d42>0.1\uff0c\u8aaa\u660e\u5730\u78c1\u5e72\u64fe\u5f88\u5927\uff0c\u6700\u597d\u518d\u6b21\u6821\u6e96\u4ee5\u671f\u5f97\u5230\u66f4\u597d\u7684\u6821\u6e96\u7d50\u679c\u3002\u64ec\u5408\u6b98\u5dee\u6703\u96a8\u8457\u6642\u9593\u7de9\u6162\u589e\u9577\u3002 flux \u7576\u5730\u78c1\u5834 \u6700\u8fd1\u4e00\u6b21\u64ec\u5408\u5668\u4f30\u8a08\u51fa\u7684\u5730\u78c1\u5834\u5f37 \uff0c\u55ae\u4f4d\u70bauT inclination \u7576\u5730\u78c1\u50be\u89d2 \u6700\u8fd1\u4e00\u6b21\u64ec\u5408\u5668\u4f30\u8a08\u51fa\u7684\u78c1\u50be\u89d2\uff0c\u55ae\u4f4d\u70ba\u00b0 \u96d6\u7136\u5730\u78c1\u53c3\u6578\u4f30\u8a08\u53ef\u4ee5\u5728\u7dda\u81ea\u52d5\u63a1\u96c6\u6578\u64da\uff0c\u81ea\u52d5\u7684\u52d5\u614b\u64ec\u5408\u5730\u78c1\u6821\u6e96\u53c3\u6578\u3002\u4f46\u662f\u5982\u679c\u5468\u570d\u5730\u78c1\u74b0\u5883\u6539\u8b8a(\u6bd4\u5982\u9700\u8981\u5230\u53e6\u5916\u623f\u9593\u6216\u8005\u5ba4\u5167\u5ba4\u5916\u5207\u63db)\uff0c\u6700\u597d\u9084\u9700\u91cd\u8907\u624b\u5de5\u6821\u6e96\u64cd\u4f5c\u3002 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6a21\u7d44\u4e0a\u96fb\u5f8c\uff0c\u9ed8\u8a8d\u6309\u51fa\u5ee0\u5e40\u7387(\u901a\u5e38\u70ba100)\u8f38\u51fa\u5e40\u6578\u64da\uff0c\u5e40\u683c\u5f0f\u5982\u4e0b\uff1a \u57df\u540d\u7a31 \u503c \u9577\u5ea6(\u5b57\u7bc0) \u8aaa\u660e PRE 0x5A 1 \u56fa\u5b9a\u70ba0x5A TYPE 0xA5 1 \u56fa\u5b9a\u70ba0xA5 LEN 1-512 2 \u5e40\u4e2d\u6578\u64da\u57df\u7684\u9577\u5ea6\uff0c\u4f4e\u5b57\u7bc0\u5728\u524d\u3002\u9577\u5ea6\u8868\u793a\u6578\u64da\u57df(PAYLOAD)\u7684\u9577\u5ea6\uff0c\u4e0d\u5305\u542b PRE , TYPE , LEN , CRC \u5b57\u6bb5\u3002 CRC - 2 \u9664CRC \u672c\u8eab\u5916\u5176\u9918\u6240\u6709\u5b57\u6bb5( PRE,TYPE,LEN, PAYLOAD )\u5e40\u6578\u64da\u768416 \u4f4dCRC \u6821\u9a57\u548c\u3002LSB(\u4f4e\u5b57\u7bc0\u5728\u524d) PAYLOAD - 1-512 \u4e00\u5e40\u651c\u5e36\u7684\u6578\u64da\u3002PAYLOAD\u57df \u7531\u82e5\u5e72\u500b**\u5b50\u6578\u64da\u5305**\u7d44\u6210\u3002\u6bcf\u500b\u6578\u64da\u5305\u5305\u542b\u6578\u64da\u5305\u6a19\u7c64\u548c\u6578\u64da\u5169\u90e8\u5206\u3002\u6a19\u7c64\u6c7a\u5b9a\u4e86\u6578\u64da\u7684\u985e\u578b\u53ca\u9577\u5ea6\u3002 CRC\u5be6\u73fe\u51fd\u6578\uff1a /* currectCrc: previous crc value, set 0 if it's first section src: source stream data lengthInBytes: length */ static void crc16_update(uint16_t *currectCrc, const uint8_t *src, uint32_t lengthInBytes) { uint32_t crc = *currectCrc; uint32_t j; for (j=0; j < lengthInBytes; ++j) { uint32_t i; uint32_t byte = src[j]; crc ^= byte << 8; for (i = 0; i < 8; ++i) { uint32_t temp = crc << 1; if (crc & 0x8000) { temp ^= 0x1021; } crc = temp; } } *currectCrc = crc; } \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd \u6578\u64da\u5305\u6a19\u7c64 \u6578\u64da\u5305\u9577\u5ea6(\u5305\u542b\u6a19\u7c641\u5b57\u7bc0) \u540d\u7a31 \u5099\u8a3b 0x90 2 \u7528\u6236ID 0xA0 7 \u52a0\u901f\u5ea6 0xB0 7 \u89d2\u901f\u5ea6 0xC0 7 \u78c1\u5834\u5f37\u5ea6 0xD0 7 \u6b50\u62c9\u89d2 0xD1 17 \u56db\u5143\u6578 0xF0 5 \u6c23\u58d3 \u8f38\u51fa0 0x91 76 IMUSOL(IMU\u6578\u64da\u96c6\u5408) \u63a8\u85a6\u4f7f\u7528 \u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868 0x90(\u7528\u6236ID) \u51712\u5b57\u7bc0\uff0c\u7528\u6236\u8a2d\u7f6e\u7684ID\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x90 1 uint8_t 1 - \u7528\u6236ID 0xA0(\u52a0\u901f\u5ea6) \u51717 \u500b\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u52a0\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xA0 1 int16_t 2 0.001G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) X\u8ef8\u52a0\u901f\u5ea6 3 int16_t 2 0.001G Y\u8ef8\u52a0\u901f\u5ea6 5 int16_t 2 0.001G Z\u8ef8\u52a0\u901f\u5ea6 0xB0(\u89d2\u901f\u5ea6) \u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u89d2\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64\uff1a0xB0 1 int16_t 2 0.1\u00b0/s X\u8ef8\u89d2\u901f\u5ea6 3 int16_t 2 0.1\u00b0/s Y\u8ef8\u89d2\u901f\u5ea6 5 int16_t 2 0.1\u00b0/s Z\u8ef8\u89d2\u901f\u5ea6 0xC0(\u78c1\u5834\u5f37\u5ea6) \u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u78c1\u5834\u5f37\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xC0 1 int16_t 2 0.001Gauss X\u8ef8\u78c1\u5834\u5f37\u5ea6 3 int16_t 2 0.001Gauss Y\u8ef8\u78c1\u5834\u5f37\u5ea6 5 int16_t 2 0.001Gauss Z\u8ef8\u78c1\u5834\u5f37\u5ea6 0xD0(\u6b50\u62c9\u89d2) \u51717\u5b57\u7bc0\uff0cLSB\u3002\u683c\u5f0f\u70baint16\uff0c\u5171\u4e09\u500b\u8ef8\uff0c\u6bcf\u500b\u8ef8\u53602 \u500b\u5b57\u7bc0\uff0c\u9806\u5e8f\u70baPitch/Roll/Yaw\u3002\u63a5\u6536\u5230Roll, Pitch \u70ba\u7269\u7406\u503c\u4e58\u4ee5100 \u5f8c\u5f97\u5230\u7684\u6578\u503c\uff0cYaw \u70ba\u4e58\u4ee510 \u5f97\u5230\u7684\u6578\u503c\u3002 \u4f8b\uff1a\u7576\u63a5\u6536\u5230\u7684Yaw = 100 \u6642\uff0c\u8868\u793a\u822a\u5411\u89d2\u70ba10\u00b0 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD0 1 int16_t 2 0.01\u00b0 Pitch(\u4fef\u4ef0\u89d2) 3 int16_t 2 0.01\u00b0 Roll(\u6a6b\u6efe\u89d2) 5 int16_t 2 0.1\u00b0 Yaw(\u822a\u5411\u89d2) 0XD1(\u56db\u5143\u6578) \u517117\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\uff0c\u51714\u500b\u503c\uff0c\u9806\u5e8f\u70ba:W X Y Z.\u3002\u6bcf\u500b\u503c\u53604 \u5b57\u7bc0(float)\uff0c\u6574\u500b\u56db\u5143\u6578\u70ba4\u500bfloat\uff0cLSB\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD1 1 float 4 - W 5 float 4 - X 9 float 4 - Y 13 float 4 - Z 0XF0(\u6c23\u58d3) \u51715\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\u3002(\u53ea\u91dd\u5c0d\u6709\u6c23\u58d3\u611f\u6e2c\u5668\u7684\u7522\u54c1) \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xF0 1 float 4 Pa \u5927\u6c23\u58d3 0X91( IMUSOL) \u517176\u5b57\u7bc0\uff0c\u65b0\u52a0\u5165\u7684\u6578\u64da\u5305\uff0c\u7528\u65bc\u66ff\u4ee3A0,B0,C0,D0,D1\u7b49\u6578\u64da\u5305\u3002\u6574\u5408\u4e86IMU\u7684\u611f\u6e2c\u5668\u539f\u59cb\u8f38\u51fa\u548c\u59ff\u614b\u89e3\u7b97\u6578\u64da\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x91 1 uint8_t 1 - ID 2 - 6 - \u4fdd\u7559 8 uint32_t 4 ms \u6642\u9593\u6233\u8cc7\u8a0a\uff0c\u5f9e\u7cfb\u7d71\u958b\u6a5f\u958b\u59cb\u7d2f\u52a0\uff0c\u6bcf\u6beb\u79d2\u589e\u52a01 12 float 12 1G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) \u52a0\u901f\u5ea6,\u9806\u5e8f\u70ba\uff1aXYZ(\u6ce8\u610f\u55ae\u4f4d\u548c0xA0\u5305\u4e0d\u540c) 24 float 12 deg/s \u89d2\u901f\u5ea6,\u9806\u5e8f\u70ba\uff1a XYZ(\u6ce8\u610f\u55ae\u4f4d\u548c0xB0\u5305\u4e0d\u540c) 36 float 12 uT \u78c1\u5f37\u5ea6,\u9806\u5e8f\u70ba\uff1a XYZ(\u6ce8\u610f\u55ae\u4f4d\u548c0xC0\u5305\u4e0d\u540c) 48 float 12 deg \u7bc0\u9ede\u6b50\u62c9\u89d2 \u9806\u5e8f\u70ba\uff1a\u6a6b\u6efe\u89d2(Roll)\uff0c\u4fef\u4ef0\u89d2(Pitch)\uff0c\u822a\u5411\u89d2(Yaw)(\u6ce8\u610f\u9806\u5e8f\u548c\u55ae\u4f4d\u82070xD0\u5305\u4e0d\u540c) 60 float 16 - \u7bc0\u9ede\u56db\u5143\u6578\u96c6\u5408,\u9806\u5e8f\u70baWXYZ \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u51fa\u5ee0\u9ed8\u8a8d\u4e00\u5e40\u4e2d\u651c\u5e36\u6578\u64da\u5305\u6578\u64da\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7522\u54c1 \u9ed8\u8a8d\u8f38\u51fa\u6578\u64da\u5305 CH110 91 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305 \u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517141\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991835\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 23 00 FD 61 90 00 A0 55 02 3D 01 E2 02 B0 FE FF 17 00 44 00 C0 80 FF 60 FF 32 FF D0 64 F2 6C 0E BB 01 F0 00 00 00 00 \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 23 00 : (0x00<<8) + 0x23 = 35 \u5e40CRC\u6821\u9a57\u503c: FD 61 :(0x61<<8) + 0xFD = 0x61FD \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x61FD, \u8207\u5e40\u651c\u5e36\u7684CRC\u503c\u76f8\u540c, \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da 90 00 \uff1aID \u6578\u64da\u5305, 0x90\u70ba\u6578\u64da\u5305\u6a19\u7c64, ID = 0x00. A0 55 02 3D 01 E2 02 :\u52a0\u901f\u5ea6\u6578\u64da\u5305,0xA0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u52a0\u901f\u5ea6\u70ba\uff1a X\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0x55) = 597(\u55ae\u4f4d\u70bamG) Y\u8ef8\u52a0\u901f\u5ea6 = (int16_t)((0x01<<8)+ 0x3D) = 317 Z\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0xE2) = 738 B0 FE FF 17 00 44 00 :\u89d2\u901f\u5ea6\u6578\u64da\u5305,0xB0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u89d2\u901f\u5ea6\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0xFE) = -2(\u55ae\u4f4d\u70ba0.1\u00b0/s) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0x00<<8)+ 0x17) = 23 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0x00<<8)+ 0x44) = 68 C0 80 FF 60 FF 32 FF :\u78c1\u5834\u6578\u64da\u5305,0xC0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u78c1\u5834\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x80) = -128 (\u55ae\u4f4d\u70ba0.001Gauss) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0xFF<<8)+ 0x60) = -160 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x32) = -206 D0 64 F2 6C 0E BB 01 \u6b50\u62c9\u89d2\u6578\u64da\u5305, 0xD0\u70ba\u6578\u64da\u5305\u6a19\u7c64 Pitch= (int16_t)((0xF2<<8)+ 0x64) / 100 = -3484 / 100 = -34.84 \u00b0 Roll= (int16_t)((0x0E<<8)+ 0x6C) / 100 = 3692 / 100 = 36.92\u00b0 Yaw = (int16_t)((0x01<<8)+ 0xBB) / 10 = 443 /10 = 44.3\u00b0 F0 00 00 00 00 \u6c23\u58d3\u6578\u64da\u5305\uff0c0xF0\u70ba\u6578\u64da\u5305\u6a19\u7c64 float prs; prs = memcpy(&prs, &buf[37], 4); \u6700\u5f8c\u5f97\u5230\u7d50\u679c\uff1a id : 0 acc(G) : 0.597 0.317 0.738 gyr(deg/s) : -0.200 2.300 6.800 mag(uT) : -12.800 -16.000 -20.600 eul(R/P/Y) : 36.920 -34.840 44.300 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 \u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517182\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991876\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 4C 00 6C 51 91 00 A0 3B 01 A8 02 97 BD BB 04 00 9C A0 65 3E A2 26 45 3F 5C E7 30 3F E2 D4 5A C2 E5 9D A0 C1 EB 23 EE C2 78 77 99 41 AB AA D1 C1 AB 2A 0A C2 8D E1 42 42 8F 1D A8 C1 1E 0C 36 C2 E6 E5 5A 3F C1 94 9E 3E B8 C0 9E BE BE DF 8D BE \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 4C 00 : (0x00<<8) + 0x4C = 76 \u5e40CRC\u6821\u9a57\u503c: 6C 51 :(0x51<<8) + 0x6C = 0x516C \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x516C. \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da \u5f9e 0x91 \u958b\u59cb\u70ba\u6578\u64da\u5305\u7684\u6578\u64da\u57df\u3002\u5728C\u8a9e\u8a00\u4e2d\u53ef\u4ee5\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u4f86\u65b9\u4fbf\u7684\u8b80\u53d6\u6578\u64da\uff1a \u5b9a\u7fa90x91\u6578\u64da\u5305\u7d50\u69cb\u9ad4\u5982\u4e0b\uff1a __packed typedef struct { uint8_t tag; /* \u6578\u64da\u6a19\u7c64:0x91 */ uint8_t id; /* \u6a21\u7d44ID */ uint8_t rev[6]; /* reserved */ uint32_t ts; /* \u6642\u9593\u6233 */ float acc[3]; /* \u52a0\u901f\u5ea6 */ float gyr[3]; /* \u89d2\u901f\u5ea6 */ float mag[3]; /* \u5730\u78c1 */ float eul[3]; /* \u6b50\u62c9\u89d2: Roll,Pitch,Yaw */ float quat[4]; /* \u56db\u5143\u6578 */ }id0x91_t; __packed \u70ba\u7de8\u8b6f\u5668\u95dc\u9375\u5b57(Keil\u4e0b)\uff0c\u8868\u793a\u7d50\u69cb\u9ad4\u6309\u5b57\u7bc0\u7dca\u5c0d\u9f4a\uff0c\u7d50\u69cb\u9ad4\u6bcf\u4e00\u500b\u5143\u7d20\u4e00\u4e00\u5c0d\u61c90x91\u6578\u64da\u5305\u7684\u7d50\u69cb\u5b9a\u7fa9\u3002\u63a5\u6536\u6578\u64da\u6642\u5c07\u63a5\u6536\u5230\u7684\u9663\u5217\u76f4\u63a5memcpy\u5230\u7d50\u69cb\u9ad4\u5373\u53ef\uff1a(\u6ce8\u610f\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u6642\u5fc5\u98084\u5b57\u7bc0\u5c0d\u9f4a), \u5176\u4e2d buf \u6307\u5411\u5e40\u982d, buf[6] \u6307\u5411\u5e40\u4e2d\u6578\u64da\u57df \u3002 /* \u63a5\u6536\u6578\u64da\u4e26\u4f7f\u75280x91\u6578\u64da\u5305\u7d50\u69cb\u5b9a\u7fa9\u4f86\u89e3\u91cb\u6578\u64da */ __align(4) id0x91_t dat; /* struct must be 4 byte aligned */ memcpy(&dat, &buf[6], sizeof(id0x91_t)); \u6700\u5f8c\u5f97\u5230dat\u6578\u64da\u7d50\u679c\uff1a id : 0 timestamp : 310205 acc : 0.224 0.770 0.691 gyr : -54.708 -20.077 -119.070 mag : 19.183 -26.208 -34.542 eul(R/P/Y) : 48.720 -21.014 -45.512 quat : 0.855 0.310 -0.310 -0.277 CAN\u901a\u8a0a\u5354\u8b70 \u672c\u7522\u54c1CAN\u63a5\u53e3\u9075\u5faa\u4ee5\u4e0b\u6a19\u6e96\uff1a CAN\u63a5\u53e3\u7b26\u5408CANopen\u5354\u8b70\uff0c\u6240\u6709\u901a\u8a0a\u5747\u4f7f\u7528\u6a19\u6e96\u6578\u64da\u5e40\uff0c\u53ea\u4f7f\u7528PTO1-4 \u50b3\u8f38\u6578\u64da\uff0c\u6240\u6709\u50b3\u8f38\u5747\u63a1\u7528\u6a19\u6e96\u6578\u64da\u5e40\uff0c\u4e0d\u63a5\u6536\u9060\u7a0b\u5e40\u548c\u62d3\u5c55\u6578\u64da\u5e40 PTO\u63a1\u7528\u7570\u6b65\u5b9a\u6642\u89f8\u767c\u6a21\u5f0f, \u9ed8\u8a8d\u8f38\u51fa\u901f\u7387\u70ba50Hz \u7576\u6a21\u7d44\u4e0a\u96fb\u6642\uff0c\u6309\u7167CANopen\u5354\u8b70\uff0c\u6a21\u7d44\u6703\u4e3b\u52d5\u767c\u9001\u4e00\u689d(\u4e00\u6b21)\u7bc0\u9ede\u4e0a\u7dda\u5831\u6587\u3002\u7bc0\u9ede\u4e0a\u96fb\u8655\u65bc\u9810\u64cd\u4f5c\u72c0\u614b(pre-operational), \u9700\u8981\u4e3b\u6a5f\u767c\u9001NMT\u5354\u8b70\u5c07\u7bc0\u9ede\u8a2d\u7f6e\u70baoperation\u72c0\u614b\u624d\u6703\u958b\u59cb\u767c\u9001\u6578\u64da CANopen \u9ed8\u8a8d\u8a2d\u7f6e CANopen\u9ed8\u8a8d\u914d\u7f6e \u503c CAN \u9b91\u7387 500KHz CANopen\u7bc0\u9edeID 8 \u521d\u59cb\u5316\u72c0\u614b \u9810\u64cd\u4f5c(Pre-operational),\u9700\u8981\u767c\u9001Start Remote Node\u547d\u4ee4\u6a21\u7d44\u624d\u80fd\u958b\u59cb\u8f38\u51fa\u6578\u64da(\u898b\u4e0b\u7bc0) \u5fc3\u8df3\u5305 \u7121 CANopen TPTO PTO\u901a\u9053 PTO \u5e40ID \u9577\u5ea6 PTO \u50b3\u8f38\u65b9\u5f0f \u7570\u6b65\u8f38\u51fa\u983b\u7387\uff08Hz\uff09 \u767c\u9001\u6578\u64da \u8aaa\u660e TPDO1 0x180+ID 6 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u52a0\u901f\u5ea6 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u5206\u5225\u70baX,Y,Z\u8ef8\u52a0\u901f\u5ea6\uff0c\u55ae\u4f4d\u70bamG(0.001\u91cd\u529b\u52a0\u901f\u5ea6) TPDO2 0x280+ID 6 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u89d2\u901f\u5ea6 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u5206\u5225\u70baX,Y,Z\u8ef8\u89d2\u901f\u5ea6\uff0c\u55ae\u4f4d\u70ba0.1DPS(\u00b0/s) TPDO3 0x380+ID 6 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u6b50\u62c9\u89d2 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u9806\u5e8f\u5206\u5225\u70ba\u6a6b\u6efe\u89d2(Roll,\u7e5eX\u8ef8\u65cb\u8f49),\u4fef\u4ef0\u89d2(Pitch,\u7e5eY\u8ef8\u65cb\u8f49),\u822a\u5411\u89d2(Yaw\u7e5eZ\u8ef8\u65cb\u8f49)\u3002\u6b50\u62c9\u89d2\u55ae\u4f4d\u70ba0.01\u00b0 TPDO4 0x480+ID 8 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u56db\u5143\u6578 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u5206\u5225\u70ba$$ q_{w} q_{x} q_{y} q_{z}$$ \u3002\u55ae\u4f4d\u56db\u5143\u6578\u64f4\u592710000\u500d\u5f8c\u7d50\u679c\u3002\u5982\u56db\u5143\u6578\u70ba1,0,0,0 \u6642, \u8f38\u51fa10000,0,0,0. \u4f7f\u7528USB-CAN\u5de5\u5177\u6293\u53d6\u9ed8\u8a8dCAN\u8f38\u51fa\u5305\u622a\u5716\u5982\u4e0b\uff1a \u5176\u4e2d\u6b50\u62c9\u89d2(PTO3) CAN\u5e40ID =0x380 + 8(\u9ed8\u8a8dID) = 0x388\uff0c \u6578\u64da\u70ba: X\u8ef8\uff1a (0x00 <<8)+ 0x8F = 0x008F = 1.43\u00b0 Y\u8ef8\uff1a (0xFF<<8)+ 0xCF = 0xFFCF = -0.49\u00b0 Z\u8ef8\uff1a(0x0F<<8)+ 0xB9 = 0x0FB9= 40.25\u00b0 ### CAN\u63a5\u53e3\u7de8\u7a0b\u793a\u4f8b 1. \u4f7f\u80fd\u6578\u64da\u8f38\u51fa(\u958b\u555f\u7570\u6b65\u89f8\u767c) \u767c\u9001\u6a19\u6e96CANopen\u5354\u8b70\u5e40\uff0c\u4f7f\u7528NMT: Start Remote Node\u547d\u4ee4: ID=0x000,DLC=2,DATA=0x01,0x08 \u5176\u4e2d 0x01\u70baStart Remote Node\u6307\u4ee4\uff0c 0x08\u70ba\u7bc0\u9edeID 2. \u4fee\u6539CAN\u9b91\u7387\uff0c\u8f38\u51fa\u901f\u7387\u53ca\u8f38\u51fa\u5e40\u8cc7\u8a0a \u6578\u64da\u5b57\u5178\u4ee5\u4e0b\u4f4d\u7f6e\u5b58\u653e\u5ee0\u5546\u53c3\u6578\u914d\u7f6e\u6578\u64da, \u53ef\u901a\u904eCANopen \u767c\u9001\u5feb\u901fSDO\u6307\u4ee4\u4fee\u6539\uff0c \u6389\u96fb\u4fdd\u5b58\uff0c\u91cd\u65b0\u4e0a\u96fb\u751f\u6548 \u3002 \u6578\u64da\u5b57\u5178\u4f4d\u7f6e \u5b50\u504f\u79fb \u540d\u7a31 \u503c\u985e\u578b \u9ed8\u8a8d\u503c \u8aaa\u660e 0x2100 0 CAN_BAUD INTEGER32 500000 CAN\u7e3d\u7dda\u9b91\u7387 0x2101 0 NodeID INTEGER32 8 \u7bc0\u9edeID \u4ee5\u4e0a\u914d\u7f6e\u64cd\u4f5c\u5747\u4f7f\u7528\u5feb\u901fSDO\u4f86\u5beb\u6578\u64da\u5b57\u5178, \u5176\u4e2dTPDO\u901a\u9053\u8207\u5176\u5c0d\u61c9\u7684\u53c3\u6578\u7d22\u5f15\u70ba\uff1a PTO\u901a\u9053 PTO \u5e40ID TPDO\u53c3\u6578\u7d22\u5f15\u5730\u5740(CANopen\u5354\u8b70\u9ed8\u8a8d\u5b9a\u7fa9) TPDO1 0x180+ID 0x1800 TPDO2 0x280+ID 0x1801 TPDO3 0x380+ID 0x1802 TPDO4 0x480+ID 0x1803 \u793a\u4f8b1: \u4fee\u6539CAN\u9b91\u7387 \u5982\u5c07CAN\u9b91\u7387\u4fee\u6539\u70ba125K, \u5247\u767c\u9001\uff1a ID=0x608 ,DLC=8,DATA=0x23,0x00,0x21,0x00,0x48,0xE8,0x01,0x00 (ID=0x608, \u9577\u5ea6\u70ba8\u7684\u6a19\u6e96\u6578\u64da\u5e40) 0x23\u70baSDO\u5beb\u56db\u500b\u5b57\u7bc0\u6307\u4ee4 0x00, 0x21\u70ba\u5beb0x2100\u7d22\u5f15 0x00, 0x01, 0xE8, 0x48 = (0x00<<24) + (0x01<<16) + (0xE8<<8) + 0x48 = 125000 \u5982\u5c07CAN\u9b91\u7387\u4fee\u6539\u70ba250K, \u5247\u767c\u9001\uff1a ID=0x608 ,DLC=8,DATA=0x23,0x00,0x21,0x00,0x90,0xD0,0x03,0x00 0x23\u70baSDO\u5beb\u56db\u500b\u5b57\u7bc0\u6307\u4ee4 0x00, 0x21\u70ba\u5beb0x2100\u7d22\u5f15 0x00, 0x03, 0xD0, 0x90 = (0x00<<24) + (0x03<<16) + (0xD0<<8) + 0x90 = 250000 \u793a\u4f8b2: \u4fee\u6539\u7bc0\u9edeID \u5982\u5c07\u8a2d\u5099CANopen\u7bc0\u9edeID\u6539\u70ba9, \u5247\u767c\u9001\uff1a ID=0x608 ,DLC=8,DATA=0x23,0x01,0x21,0x00,0x09,0x00,0x00,0x00 0x23\u70baSDO\u5beb\u56db\u500b\u5b57\u7bc0\u6307\u4ee4 0x01, 0x21\u70ba\u5beb0x2101\u7d22\u5f15 0x09 0x00, 0x00, 0x00 = (0x00<<24) + (0x00<<16) + (0x00<<8) + 0x09 = 9 \u6ce8\u610f\uff0c\u4fee\u6539\u7bc0\u9edeID\u5f8c\u91cd\u65b0\u4e0a\u96fb\u751f\u6548\uff0c\u4e14\u751f\u6548\u5f8c\u767c\u9001\u555f\u52d5\u7bc0\u9ede\u547d\u4ee4(\u6bd4\u5982\u7bc0\u9ede\u555f\u52d5\u547d\u4ee4\u6578\u64da\u8b8a\u70ba01 09)\u548cSDO\u6307\u4ee4(\u767c\u9001CAN\u5e40ID\u8b8a\u70ba0x609)\u6642\u6ce8\u610f\u70ba\u65b0\u7684\u5730\u5740 \u793a\u4f8b3: \u4fee\u6539\u6578\u64da\u8f38\u51fa\u901f\u7387 \u767c\u9001\u6a19\u6e96CANopen\u5354\u8b70\u5e40\uff0c\u4f7f\u7528\u6a19\u6e96\u5feb\u901fSDO\u6307\u4ee4:(\u6b64\u9805\u914d\u7f6e\u7acb\u5373\u751f\u6548\uff0c\u6389\u96fb\u4e0d\u4fdd\u5b58) \u4fee\u6539TPDO3(\u6b50\u62c9\u89d2)\u8f38\u51fa\u901f\u7387\u70ba20Hz(\u6bcf50ms\u8f38\u51fa\u4e00\u6b21): ID=0x608 ,DLC=8,DATA=0x2B,0x02,0x18,0x05,0x32,0x00,0x00,0x00 \u5176\u4e2d 0x2B\u70baSDO\u5beb\u5169\u500b\u5b57\u7bc0\u6307\u4ee4 0x02, 0x18\u70ba\u5beb0x1802\u7d22\u5f15, 0x05\u70ba\u5b50\u7d22\u5f15 0x00, 0x32= (0x00<<8) + 0x32 = 50(1ms\u70ba\u55ae\u4f4d)\uff0c\u5f8c\u9762\u4e0d\u8db3\u88dc0. \u793a\u4f8b4: \u95dc\u9589TPDO\u8f38\u51fa \u4f8b\uff1a\u95dc\u9589TPDO2\u5b9a\u6642\u8f38\u51fa\uff0c\u5247\u9700\u8981\u5beb0x1801\u7d22\u5f15\uff0c\u5b50\u7d22\u5f15\u70ba0x05, \u5beb\u5165\u503c\u70ba0x0000: ID=0x608 ,DLC=8,DATA=0x2B,0x01,0x18,0x05,0x00,0x00,0x00,0x00 \u5176\u4e2d 0x2B\u70baSDO\u5beb\u5169\u500b\u5b57\u7bc0\u6307\u4ee4 0x01, 0x18\u70ba\u5beb0x1801\u7d22\u5f15 0x05\u5b50\u7d22\u5f15 0x00, 0x00= (0x00<<8) + 0x00 = 0\uff0c\u5f8c\u9762\u4e0d\u8db3\u88dc0. AT\u6307\u4ee4 \u7576\u4f7f\u7528\u5e8f\u5217\u57e0\u8207\u6a21\u7d44\u901a\u8a0a\u6642, \u6a21\u7d44\u652f\u63f4AT \u6307\u4ee4\u96c6\u914d\u7f6e/\u67e5\u770b\u6a21\u7d44\u53c3\u6578\u3002AT \u6307\u4ee4\u7e3d\u4ee5ASCII \u78bc AT \u958b\u982d\uff0c\u5f8c\u9762\u8ddf\u63a7\u5236\u5b57\u7b26\uff0c\u6700 \u5f8c\u4ee5\u56de\u8eca\u63db\u884c \\r\\n \u7d50\u675f\u3002\u53ef\u4f7f\u7528\u5e8f\u5217\u57e0\u8abf\u8a66\u52a9\u624b\u9032\u884c\u6e2c\u8a66\uff1a \u901a\u7528\u6a21\u7d44 AT\u6307\u4ee4\u5982\u4e0b \u6307\u4ee4 \u529f\u80fd \u6389\u96fb\u4fdd\u5b58(Y) \u7acb\u5373\u751f\u6548(Y),\u5fa9\u4f4d\u751f\u6548(R) \u5099\u8a3b AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID Y R AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a N Y AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u983b\u7387 Y R AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387 Y R AT+EOUT \u6578\u64da\u8f38\u51fa\u958b\u95dc N Y AT+RST \u5fa9\u4f4d\u6a21\u7d44 N Y AT+TRG \u55ae\u6b21\u8f38\u51fa\u89f8\u767c N Y \u90e8\u5206\u578b\u865f\u652f\u63f4 AT+SETPTL \u8a2d\u7f6e\u8f38\u51fa\u6578\u64da\u5305 Y Y \u90e8\u5206\u578b\u865f\u652f\u63f4 AT+MODE \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f Y R \u90e8\u5206\u578b\u865f\u652f\u63f4 AT+GWID \u8a2d\u7f6e\u7121\u7dda\u63a5\u6536\u6a5fID Y R \u90e8\u5206\u578b\u865f\u652f\u63f4 AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID \u4f8b AT+ID=1 AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a\uff0c\u5305\u62ec\u7522\u54c1\u578b\u865f\uff0c\u7248\u672c\uff0c\u97cc\u9ad4\u767c\u4f48\u65e5\u671f\u7b49\u3002 AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u901f\u7387\u3002 \u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548 \u4f8b \u8a2d\u7f6e\u5e8f\u5217\u57e0\u8f38\u51fa\u901f\u7387\u70ba100Hz: AT+ODR=100 \u6ce8\u610f\uff1a\u7576ODR\u8a2d\u7f6e\u70ba\u6bd4\u8f03\u9ad8\u6642(\u5982200),\u9ed8\u8a8d\u7684115200\u9b91\u7387\u53ef\u80fd\u4e0d\u6eff\u8db3\u8f38\u51fa\u983b\u5bec\u8981\u6c42\uff0c\u6b64\u6642\u9700\u8981\u5c07\u6a21\u7d44\u9b91\u7387\u8a2d\u9ad8(\u5982921600)\u5f8c\uff0c\u6a21\u7d44\u624d\u80fd\u6309\u8a2d\u7f6e\u7684ODR\u8f38\u51fa\u6578\u64da\u5e40\u3002 AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387\uff0c\u53ef\u9078\u503c\uff1a 9600/115200/460800/921600 \u4f8b AT+BAUD=115200 \u6ce8\u610f \u4f7f\u7528\u6b64\u6307\u4ee4\u9700\u8981\u7279\u5225\u6ce8\u610f\uff0c\u8f38\u5165\u932f\u8aa4\u9b91\u7387\u5f8c\u6703\u5c0e\u81f4\u7121\u6cd5\u548c\u6a21\u7d44\u901a\u8a0a \u9b91\u7387\u53c3\u6578\u8a2d\u7f6e\u597d\u5f8c\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548\u3002 CH-Center \u7684\u9b91\u7387\u4e5f\u8981\u505a\u76f8\u61c9\u4fee\u6539\u3002 \u5347\u7d1a\u97cc\u9ad4\u6642\uff0c\u9700\u8981\u5207\u63db\u56de115200 \u9b91\u7387\u3002 AT+EOUT \u5e8f\u5217\u57e0\u8f38\u51fa\u958b\u95dc \u4f8b \u6253\u958b\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=1 \u95dc\u9589\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=0 AT+RST \u5fa9\u4f4d\u6a21\u7d44 \u4f8b AT+RST AT+SETPTL \u8a2d\u7f6e\u8f38\u51fa\u5354\u8b70: \u8a2d\u7f6e\u4e00\u5e40\u4e2d\u6240\u5305\u542b\u7684\u6578\u64da\u5305\uff1a\u683c\u5f0f\u70ba AT+SETPTL=<ITEM_ID>,<ITEM_ID>... \u4f8b \u914d\u7f6e\u6a21\u7d44\u8f38\u51fa: 91\u6578\u64da\u5305(IMUSOL),\u6307\u4ee4\u70ba: AT+SETPTL=91 \u914d\u7f6e\u6a21\u7d44\u8f38\u51fa:\u52a0\u901f\u5ea6(A0)\uff0c\u89d2\u901f\u5ea6(B0), \u6574\u5f62\u683c\u5f0f\u6b50\u62c9\u89d2(D0)\u548c\u56db\u5143\u6578(D1)\u7684\u6307\u4ee4\u70ba\uff1a AT+SETPTL=A0,B0,D0,D1 AT+MODE \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f \u4f8b \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u57286\u8ef8\u6a21\u5f0f(\u7121\u78c1\u6821\u6e96) AT+MODE=0 \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u57289\u8ef8\u6a21\u5f0f(\u5730\u78c1\u5834\u611f\u6e2c\u5668\u53c3\u8207\u822a\u5411\u89d2\u6821\u6b63) AT+MODE=1 \u9644\u9304A - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e \u672c\u7522\u54c1\u652f\u63f4\u5347\u7d1a\u97cc\u9ad4\u3002 \u97cc\u9ad4\u5347\u7d1a\u6b65\u9a5f: \u9023\u63a5\u6a21\u7d44\uff0c\u6253\u958b CH-Center \u8edf\u9ad4\uff0c\u5c07\u6a21\u7d44\u548c CH-Center \u8edf\u9ad4\u9b91\u7387\u90fd\u8a2d\u7f6e\u70ba115200. \u6253\u958b\u97cc\u9ad4\u5347\u7d1a\u7a97\u53e3 \u9ede\u64ca\"\u9023\u63a5\"\uff0c\u5982\u51fa\u73fe\u6a21\u7d44\u9023\u63a5\u8cc7\u8a0a\u3002\u5247\u8aaa\u660e\u5347\u7d1a\u7cfb\u7d71\u6e96\u5099\u5c31\u7dd2\uff0c\u9ede\u64ca\u6587\u4ef6\u9078\u64c7\u5668(\u2026)\u9078\u64c7\u526f\u6a94\u540d\u70ba.hex \u7684\u97cc\u9ad4 \u9ede\u64ca\"\u958b\u59cb\u7de8\u7a0b\"\u3002\u4e0b\u8f09\u5b8c\u6210\u5f8c\u6703\u63d0\u793a\u7de8\u7a0b\u5b8c\u6210\uff0c\u6b64\u6642\u95dc\u9589\u5e8f\u5217\u57e0\uff0c\u91cd\u65b0\u7d66\u6a21\u7d44\u4e0a\u96fb\uff0c\u6a21\u7d44\u5347\u7d1a\u5b8c\u6210\u3002","title":"CH110 \u7528\u6236\u624b\u518a"},{"location":"ch110/ch110/#ch110","text":"IMU/VRU\u59ff\u614b\u6e2c\u91cf\u6a21\u7d44, Rev 1.0 CH110 \u7528\u6236\u624b\u518a \u7c21\u4ecb \u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u6578\u64da\u8655\u7406 \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb \u5176\u4ed6 \u786c\u9ad4\u53ca\u5c3a\u5bf8 \u786c\u9ad4\u53c3\u6578 \u5c3a\u5bf8 \u63a5\u53e3\u5b9a\u7fa9 \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u9640\u87ba\u5100 \u52a0\u901f\u5ea6\u8a08 \u78c1\u611f\u6e2c\u5668\u53c3\u6578 \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578 \u611f\u6e2c\u5668\u6821\u6e96 \u5730\u78c1\u6821\u6e96 \u78c1\u5e72\u64fe\u5206\u985e 6\u8ef8\u548c9\u8ef8\u6a21\u5f0f\u5340\u5225 \u6821\u6e96\u65b9\u6cd5 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd \u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868 0x90(\u7528\u6236ID) 0xA0(\u52a0\u901f\u5ea6) 0xB0(\u89d2\u901f\u5ea6) 0xC0(\u78c1\u5834\u5f37\u5ea6) 0xD0(\u6b50\u62c9\u89d2) 0XD1(\u56db\u5143\u6578) 0XF0(\u6c23\u58d3) 0X91( IMUSOL) \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 CAN\u901a\u8a0a\u5354\u8b70 CANopen \u9ed8\u8a8d\u8a2d\u7f6e CANopen TPTO 1. \u4f7f\u80fd\u6578\u64da\u8f38\u51fa(\u958b\u555f\u7570\u6b65\u89f8\u767c) 2. \u4fee\u6539CAN\u9b91\u7387\uff0c\u8f38\u51fa\u901f\u7387\u53ca\u8f38\u51fa\u5e40\u8cc7\u8a0a \u793a\u4f8b1: \u4fee\u6539CAN\u9b91\u7387 \u793a\u4f8b2: \u4fee\u6539\u7bc0\u9edeID \u793a\u4f8b3: \u4fee\u6539\u6578\u64da\u8f38\u51fa\u901f\u7387 \u793a\u4f8b4: \u95dc\u9589TPDO\u8f38\u51fa AT\u6307\u4ee4 AT+ID AT+INFO AT+ODR AT+BAUD AT+EOUT AT+RST AT+SETPTL AT+MODE \u9644\u9304A - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e","title":"CH110 \u7528\u6236\u624b\u518a"},{"location":"ch110/ch110/#_1","text":"CH110\u662f\u8d85\u6838\u96fb\u5b50\u63a8\u51fa\u7684\u4e00\u6b3e\u9ad8\u6027\u80fd\u3001\u5c0f\u9ad4\u7a4d\u3001\u4f4e\u5ef6\u6642\u7684\u6163\u6027\u6e2c\u91cf\u55ae\u5143(IMU)\uff0c\u672c\u7522\u54c1\u6574\u5408\u4e86\u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08\u3001\u4e09\u8ef8\u9640\u87ba\u5100\u548c\u4e00\u6b3e\u5fae\u63a7\u5236\u5668\u3002\u53ef\u8f38\u51fa\u7d93\u904e\u611f\u6e2c\u5668\u878d\u5408\u7b97\u6cd5\u8a08\u7b97\u5f97\u5230\u7684\u57fa\u65bc\u7576\u5730\u5730\u7406\u5750\u6a19\u7684\u4e09\u7dad\u65b9\u4f4d\u6578\u64da\uff0c\u5305\u542b\u7121\u7d55\u5c0d\u53c3\u8003\u7684\u76f8\u5c0d\u822a\u5411\u89d2\uff0c\u4fef\u4ef0\u89d2\u548c\u6a6b\u6efe\u89d2\u3002\u540c\u6642\u4e5f\u53ef\u4ee5\u8f38\u51fa\u6821\u6e96\u904e\u7684\u539f\u59cb\u7684\u611f\u6e2c\u5668\u6578\u64da\u3002 \u5178\u578b\u61c9\u7528: \u6a5f\u5668\u4eba/AGV DR SLAM\u61c9\u7528 \u7121\u4eba\u99d5\u99db/\u7d44\u5408\u5c0e\u822a\u7528IMU","title":"\u7c21\u4ecb"},{"location":"ch110/ch110/#_2","text":"","title":"\u7279\u6027"},{"location":"ch110/ch110/#_3","text":"\u4e09\u8ef8\u9640\u87ba\u5100, \u6700\u5927\u91cf\u7a0b: \u00b1500\u00b0/s \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08, \u6700\u5927\u91cf\u7a0b:\u00b18G","title":"\u677f\u8f09\u611f\u6e2c\u5668"},{"location":"ch110/ch110/#_4","text":"\u52a0\u901f\u5ea6\u548c\u9640\u87ba\u5100\u51fa\u5ee0\u524d\u7d93\u904e\u4e09\u8ef8\u975e\u6b63\u4ea4\u548c\u6a19\u5ea6\u56e0\u5b50\u6821\u6e96 \u6578\u64da\u878d\u5408\u7b97\u6cd5\u8a08\u7b97\u4e26\u8f38\u51fa\u5730\u7406\u5750\u6a19\u7cfb\u4e0b\u7684\u65cb\u8f49\u56db\u5143\u6578\u53ca\u6b50\u62c9\u89d2\u7b49\u59ff\u614b\u8cc7\u8a0a","title":"\u6578\u64da\u8655\u7406"},{"location":"ch110/ch110/#_5","text":"USB(\u865b\u64ec\u5e8f\u5217\u57e0)/RS232\u4e32\u884c\u63a5\u53e3/CAN2.0\u7e3d\u7dda \u4f9b\u96fb\u96fb\u58d3\uff1a5-24V","title":"\u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb"},{"location":"ch110/ch110/#_6","text":"PC\u7aef CH-Center \u8edf\u9ad4\uff0c\u63d0\u4f9b\u5373\u6642\u6578\u64da\u986f\u793a\uff0c\u6ce2\u5f62\uff0c\u6821\u6e96\u53caexcel \u6578\u64da\u8a18\u9304\u529f\u80fd \u591a\u9805\u6a21\u7d44\u53c3\u6578\u7528\u6236\u53ef\u914d\u7f6e","title":"\u5176\u4ed6"},{"location":"ch110/ch110/#_7","text":"","title":"\u786c\u9ad4\u53ca\u5c3a\u5bf8"},{"location":"ch110/ch110/#_8","text":"\u53c3\u6578 \u63cf\u8ff0 \u8f38\u51fa\u6578\u64da\u63a5\u53e3 USB(\u865b\u64ec\u5e8f\u5217\u57e0)/RS232\u4e32\u884c\u63a5\u53e3/CAN2.0\u7e3d\u7dda \u5de5\u4f5c\u96fb\u58d3 5-24V \u6eab\u5ea6\u7bc4\u570d -20\u2103 - 85 \u2103 \u6700\u5927\u7dda\u6027\u52a0\u901f\u5ea6 0 - 115 m/s^2 m/s^2 \u5c3a\u5bf8 40 x 40 x 25mm (W x L x H) \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08 \u4e09\u8ef8\u9640\u87ba\u5100","title":"\u786c\u9ad4\u53c3\u6578"},{"location":"ch110/ch110/#_9","text":"","title":"\u5c3a\u5bf8"},{"location":"ch110/ch110/#_10","text":"\u5e8f\u865f \u5f15\u8173\u865f \u529f\u80fd 1 \u7d05 Vin 2 \u9ed1 GND 3 \u9ec3 RS232 TX 4 \u7da0 RS232 RX 5 \u767d \u4fdd\u7559 6 \u68d5 \u4fdd\u7559 7 \u85cd CAN_H 8 \u7070 CAN_L","title":"\u63a5\u53e3\u5b9a\u7fa9"},{"location":"ch110/ch110/#_11","text":"\u8f09\u9ad4\u7cfb\u4f7f\u7528 \u53f3-\u524d-\u4e0a(RFU)\u5750\u6a19\u7cfb\uff0c \u5730\u7406\u5750\u6a19\u7cfb\u4f7f\u7528 \u6771-\u5317-\u5929(ENU)\u5750\u6a19\u7cfb\u3002\u5176\u4e2d\u6b50\u62c9\u89d2\u65cb\u8f49\u9806\u5e8f\u70ba\u6771-\u5317-\u5929-312(\u5148\u8f49Z\u8ef8\uff0c\u518d\u8f49X\u8ef8\uff0c\u6700\u5f8c\u8f49Y\u8ef8)\u65cb\u8f49\u9806\u5e8f\u3002\u5177\u9ad4\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7e5e Z \u8ef8\u65b9\u5411\u65cb\u8f49: \u822a\u5411\u89d2\\Yaw\\phi( \\psi \\psi ) \u7bc4\u570d: -180\u00b0 - 180\u00b0 \u7e5e X \u8ef8\u65b9\u5411\u65cb\u8f49:\u4fef\u4ef0\u89d2\\Pitch\\theta( \\theta \\theta ) \u7bc4\u570d: -90\u00b0-90\u00b0 \u7e5e Y \u8ef8\u65b9\u5411\u65cb\u8f49: \u6a6b\u6efe\u89d2\\Roll\\psi( \\phi \\phi )\u7bc4\u570d: -180\u00b0-180\u00b0 \u5982\u679c\u5c07\u6a21\u7d44\u8996\u70ba\u98db\u884c\u5668\u7684\u8a71\u3002Y\u8ef8\u6b63\u65b9\u5411\u61c9\u8996\u70ba\u6a5f\u982d\u65b9\u5411\u3002\u7576\u611f\u6e2c\u5668\u7cfb\u8207\u6163\u6027\u7cfb\u91cd\u5408\u6642\uff0c\u6b50\u62c9\u89d2\u7684\u7406\u60f3\u8f38\u51fa\u70ba:Pitch = 0\u00b0, Roll = 0\u00b0, Yaw = 0\u00b0","title":"\u5750\u6a19\u7cfb\u5b9a\u7fa9"},{"location":"ch110/ch110/#_12","text":"","title":"\u6027\u80fd\u6307\u6a19"},{"location":"ch110/ch110/#_13","text":"\u59ff\u614b\u89d2 \u5178\u578b\u503c \u5099\u8a3b \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u975c\u614b\u8aa4\u5dee 0.4\u00b0 \u8f09\u9ad4\u6c34\u5e73\u5e73\u7a69\u904b\u52d5 \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u52d5\u614b\u8aa4\u5dee 1.0\u00b0 \u8f09\u9ad4\u6c34\u5e73\u5e73\u7a69\u904b\u52d5 \u904b\u52d5\u4e2d\u822a\u5411\u89d2\u7cbe\u5ea6 5\u00b0 @20min \u8f09\u9ad4\u6c34\u5e73\u5e73\u7a69\u904b\u52d5","title":"\u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6"},{"location":"ch110/ch110/#_14","text":"\u53c3\u6578 \u503c \u5099\u8a3b \u6e2c\u91cf\u7bc4\u570d \u00b1500\u00b0/s \u96f6\u504f\u7a69\u5b9a\u6027X\u8ef8 3.5\u00b0/h @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Y\u8ef8 2\u00b0/h @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Z\u8ef8 2\u00b0/h @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u91cd\u8907\u6027 0.035\u00b0/s @25\u00b0,1 \\sigma \\sigma \u975e\u6b63\u4ea4\u8aa4\u5dee \u00b10.1% \u96a8\u6a5f\u904a\u8d70X\u8ef8 0.3 \u00b0/s\\sqrt{h} \u00b0/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Y\u8ef8 0.3 \u00b0/s\\sqrt{h} \u00b0/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Z\u8ef8 0.25 \u00b0/s\\sqrt{h} \u00b0/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u523b\u5ea6\u975e\u7dda\u6027\u5ea6 \u00b10.1% \u6eff\u91cf\u7a0b\u6642(\u6700\u5927) \u523b\u5ea6\u4fc2\u6578\u8aa4\u5dee \u00b10.4% \u51fa\u5ee0\u524d\u6821\u6e96\u5f8c \u52a0\u901f\u5ea6\u654f\u611f\u6027 0.1\u00b0/s/g \u9640\u87baAllan\u65b9\u5dee\u66f2\u7dda","title":"\u9640\u87ba\u5100"},{"location":"ch110/ch110/#_15","text":"\u53c3\u6578 \u503c \u5099\u8a3b \u6e2c\u91cf\u7bc4\u570d \u00b18G (1G = 1x \u91cd\u529b\u52a0\u901f\u5ea6 ) \u96f6\u504f\u7a69\u5b9a\u6027X\u8ef8 30uG @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Y\u8ef8 30uG @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u7a69\u5b9a\u6027Z\u8ef8 40uG @25\u00b0,1 \\sigma \\sigma \u96f6\u504f\u91cd\u8907\u6027 1.8mG @25\u00b0,1 \\sigma \\sigma \u975e\u6b63\u4ea4\u8aa4\u5dee \u00b10.1% \u00b10.1% \u96a8\u6a5f\u904a\u8d70X\u8ef8 0.04 m/s\\sqrt{h} m/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Y\u8ef8 0.04 m/s\\sqrt{h} m/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u96a8\u6a5f\u904a\u8d70Z\u8ef8 0.06 m/s\\sqrt{h} m/s\\sqrt{h} @25\u00b0,1 \\sigma \\sigma \u523b\u5ea6\u4fc2\u6578\u8aa4\u5dee \u00b10.3% (\u6eff\u91cf\u7a0b\u6642) \u5168\u6eab\u7bc4\u570d\u6eab\u5ea6\u8b8a\u5316 2mg -20 - 85\u00b0 \u52a0\u901f\u5ea6Allan\u65b9\u5dee\u66f2\u7dda","title":"\u52a0\u901f\u5ea6\u8a08"},{"location":"ch110/ch110/#_16","text":"\u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b18G(Gauss) \u975e\u7dda\u6027\u5ea6 \u00b10.1% \u5206\u8fa8\u7387 0.25mG","title":"\u78c1\u611f\u6e2c\u5668\u53c3\u6578"},{"location":"ch110/ch110/#_17","text":"\u53c3\u6578 \u503c \u5e8f\u5217\u57e0\u8f38\u51fa\u9b91\u7387 9600/115200/460800/921600\u53ef\u9078 \u5e40\u8f38\u51fa\u901f\u7387 1/50/100/200/400Hz \u53ef\u9078 \u555f\u52d5\u6642\u9593 <1s","title":"\u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578"},{"location":"ch110/ch110/#_18","text":"\u52a0\u901f\u5ea6\u8a08\u548c\u9640\u87ba\u5100\u5728\u51fa\u5ee0\u524d\u7d93\u904e\u6bd4\u4f8b\u56e0\u5b50\u8aa4\u5dee\u548c\u975e\u6b63\u4ea4\u8aa4\u5dee\u6821\u6e96\uff0c\u6821\u6e96\u53c3\u6578\u4fdd\u5b58\u5728\u6a21\u7d44\u5167\u90e8\u3002 \u9640\u87ba\u5100\u7684\u8f38\u51fa\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u6703\u6709\u4e00\u500b\u96a8\u6a5f\u7684\u4e0d\u70ba0\u7684bias\uff0c\u7a31\u4e4b\u70ba\u96f6\u504f\u91cd\u8907\u6027\u3002\u9019\u500b\u96a8\u6a5fbias\u4e0d\u80fd\u5728\u51fa\u5ee0\u524d\u88ab\u6821\u6e96\u3002\u7cfb\u7d71\u5728\u555f\u52d5\u5f8c1S\u5167\u8a8d\u70ba\u8655\u65bc\u975c\u6b62\u72c0\u614b\u4e26\u63a1\u96c61S\u7684\u9640\u87ba\u5100\u89d2\u901f\u5ea6\u4f5c\u70ba\u521d\u59cbbias\u3002\u9019\u500b\u904e\u7a0b\u7a31\u4e4b\u70ba\u9640\u87ba\u5100\u4e0a\u96fb\u81ea\u6821\u6e96\u3002\u81ea\u6821\u6e96\u5728\u4e0a\u96fb\u5f8c\u975c\u6b62\u6a21\u7d443s \u5de6\u53f3\u53ef\u7372\u5f97\u6700\u597d\u7684\u6821\u6e96\u6548\u679c\u3002 \u5982\u4e0a\u96fb1s\u5167\u6a21\u7d44\u8655\u65bc\u904b\u52d5\u72c0\u614b(\u5305\u62ec\u7de9\u6162\u8f49\u52d5\uff0c\u632f\u52d5\u7b49)\u5247\u822a\u5411\u89d2\u98c4\u79fb\u73fe\u8c61\u6703\u986f\u8457\u589e\u5927 \u3002 \u5efa\u8b70\u4f7f\u7528\u6642\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u975c\u6b62\u81f3\u5c111s\u3002 \u78c1\u611f\u6e2c\u5668(\u90e8\u5206\u578b\u865f\u652f\u63f4)\u51fa\u5ee0\u524d\u7d93\u904e\u6a62\u7403\u6821\u6e96\uff0c\u4f46\u78c1\u611f\u6e2c\u5668\u5f88\u5bb9\u6613\u53d7\u5230\u5916\u754c\u74b0\u5883\u78c1\u5834\u5e72\u64fe\uff0c\u4e00\u822c\u90fd\u9700\u8981\u5ba2\u6236\u91cd\u65b0\u6821\u6e96\uff0c\u51fa\u5ee0\u6821\u6e96\u53c3\u6578\u610f\u7fa9\u4e0d\u5927\u3002\u8a73\u898b\u5730\u78c1\u6821\u6e96\u7ae0\u7bc0\u3002","title":"\u611f\u6e2c\u5668\u6821\u6e96"},{"location":"ch110/ch110/#_19","text":"","title":"\u5730\u78c1\u6821\u6e96"},{"location":"ch110/ch110/#_20","text":"\u7a2e\u985e \u5b9a\u7fa9 \u5178\u578b\u5e72\u64fe\u6e90 \u5f71\u97ff \u63aa\u65bd \u7a7a\u9593\u78c1\u5834\u5e72\u64fe \u5e72\u64fe\u4e0d\u96a8\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5\uff0c\u800c\u8655\u65bc\u4e16\u754c\u5750\u6a19\u7cfb\u4e0b \u5404\u7a2e\u56fa\u5b9a\u7684\u78c1\u5e72\u64fe\u6e90\uff0c\u50a2\u4ff1\uff0c\u5bb6\u7528\u96fb\u5668\uff0c\u96fb\u7e9c\uff0c\u623f\u5c4b\u5167\u7684\u92fc\u7b4b\u7d50\u69cb\u7b49\u3002\u4e00\u5207\u4e0d\u96a8\u78c1\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5\u7684\u5e72\u64fe\u6e90 \u7121\u8ad6\u78c1\u5834\u611f\u6e2c\u5668\u662f\u5426\u6821\u6e96\u7684\u597d\uff0c\u9019\u4e9b\u7a7a\u9593\u78c1\u5834\u7684\u5e72\u64fe(\u6216\u8005\u8aaa\u74b0\u5883\u78c1\u5834\u4e0d\u5747\u52fb)\u90fd\u6703\u4f7f\u5f97\u7a7a\u9593\u5730\u78c1\u5834\u767c\u751f\u7578\u8b8a\u3002\u5730\u78c1\u88dc\u511f\u6703\u932f\u8aa4\u4e26\u4e14\u7121\u6cd5\u7372\u5f97\u6b63\u78ba\u7684\u822a\u5411\u89d2\u3002\u4ed6\u5011\u662f\u9020\u6210\u5ba4\u5167\u5730\u78c1\u878d\u5408\u96e3\u4ee5\u4f7f\u7528\u7684\u4e3b\u8981\u5143\u5147\u3002\u9019\u7a2e\u5e72\u64fe\u4e0d\u80fd\u88ab\u6821\u6e96, \u6703\u56b4\u91cd\u5f71\u97ff\u5730\u78c1\u6027\u80fd\u3002\u7a7a\u9593\u78c1\u5834\u5e72\u64fe\u5728\u5ba4\u5167\u5c24\u5176\u56b4\u91cd\u3002 \u6a21\u7d44\u5167\u7f6e\u7684\u52fb\u8cea\u78c1\u5834\u6aa2\u6e2c\u53ca\u5c4f\u853d\u975e\u52fb\u8cea\u78c1\u5834 \u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u4e0b\u7684\u5e72\u64fe \u5e72\u64fe\u6e90\u96a8\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5 \u6a21\u7d44PCB\uff0c\u8207\u6a21\u7d44\u56fa\u5b9a\u5728\u4e00\u8d77\u7684\u677f\u5b50\uff0c\u5100\u5668\u8a2d\u5099\uff0c\u7522\u54c1\u7b49\u3002\u4ed6\u5011\u548c\u78c1\u611f\u6e2c\u5668\u8996\u70ba\u540c\u4e00\u500b\u525b\u9ad4\uff0c\u96a8\u78c1\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5 \u5c0d\u611f\u6e2c\u5668\u9020\u6210\u786c\u78c1/\u8edf\u78c1\u5e72\u64fe\u3002\u9019\u4e9b\u5e72\u64fe\u53ef\u4ee5\u901a\u904e\u5730\u78c1\u6821\u6e96\u7b97\u6cd5\u52a0\u4ee5\u5f88\u597d\u7684\u6d88\u9664\u3002 \u5730\u78c1\u6821\u6e96 \u4e0b\u5716\u662f\u4e00\u500b\u5178\u578b\u7684\u5ba4\u5167\u78c1\u5834\u5206\u4f48\u5716\u3002\u53ef\u4ee5\u770b\u5230\uff1a\u4e00\u822c\u5ba4\u5167\u74b0\u5883\u7684\u7a7a\u9593\u78c1\u5834\u7578\u8b8a\u662f\u6bd4\u8f03\u56b4\u91cd\u7684\u3002 \u6ce8\u610f \u5728\u5ba4\u5167\u74b0\u5883\u4e0b\uff0c\u7a7a\u9593\u78c1\u5834\u5e72\u64fe\u5c24\u5176\u56b4\u91cd\uff0c\u800c\u4e14\u7a7a\u9593\u78c1\u5e72\u64fe\u4e26\u4e0d\u80fd\u901a\u904e\u6821\u6e96\u4f86\u6d88\u9664\u3002\u5728\u5ba4\u5167\u74b0\u5883\u4e0b\uff0c\u5118\u7ba1\u6a21\u7d44\u5167\u7f6e\u5747\u8cea\u78c1\u5834\u6aa2\u6e2c\u53ca\u5c4f\u853d\u6a5f\u5236\uff0c\u4f469\u8ef8\u6a21\u5f0f\u822a\u5411\u89d2\u7684\u6e96\u78ba\u5ea6\u5f88\u5927\u7a0b\u5ea6\u4e0a\u53d6\u6c7a\u65bc\u5ba4\u5167\u78c1\u5834\u7578\u8b8a\u7a0b\u5ea6\uff0c\u5982\u679c\u5ba4\u5167\u78c1\u5834\u74b0\u5883\u5f88\u5dee(\u5982\u96fb\u8166\u6a5f\u623f\u65c1\uff0c\u96fb\u78c1\u5be6\u9a57\u5ba4\uff0c\u8eca\u9593 \uff0c\u5730\u4e0b\u8eca\u5eab\u7b49\u7b49)\uff0c\u5373\u4f7f\u6821\u6e96\u5f8c\uff0c 9\u8ef8\u7684\u822a\u5411\u89d2\u7cbe\u5ea6\u53ef\u80fd\u9084\u4e0d\u59826\u8ef8\u751a\u81f3\u6703\u51fa\u73fe\u5927\u89d2\u5ea6\u8aa4\u5dee\u3002","title":"\u78c1\u5e72\u64fe\u5206\u985e"},{"location":"ch110/ch110/#69","text":"\u6b63\u56e0\u70ba\u5730\u78c1\u5834\u975e\u5e38\u5bb9\u6613\u53d7\u5230\u7a7a\u9593\u5e72\u64fe\uff0c\u6240\u4ee5\u4f7f\u75289\u8ef8\u6a21\u5f0f\u6642\u61c9\u975e\u5e38\u6ce8\u610f\u3002\u4e0b\u8868\u5217\u8209\u4e86\u4e0d\u540c\u7684\u4f7f\u7528\u5834\u5408\u548c\u5de5\u6cc1\u4e0b\u7684\u4f7f\u7528\u5efa\u8b70 \u6a21\u5f0f \u9069\u7528\u74b0\u5883 \u5178\u578b\u61c9\u7528 \u512a\u9ede \u7f3a\u9ede \u6ce8\u610f\u4e8b\u9805 6\u8ef8\u6a21\u5f0f \u5404\u7a2e\u74b0\u5883 \u96f2\u53f0\u7b49\u4f4e\u52d5\u614b\u59ff\u614b\u6aa2\u6e2c\uff0c\u5ba4\u5167\u6a5f\u5668\u4eba 1. \u59ff\u614b\u89d2\u8f38\u51fa\u7a69\u5b9a\u6027\u597d 2. \u5b8c\u5168\u4e0d\u53d7\u78c1\u5834\u5e72\u64fe \u822a\u5411\u89d2\u96a8\u6642\u9593\u7de9\u6162\u6f02\u79fb \u822a\u5411\u89d2\u6703\u96a8\u6642\u9593\u7de9\u6162\u98c4\u79fb\u4e14\u7121\u6cd5\u88dc\u511f 9\u8ef8\u6a21\u5f0f \u7121\u78c1\u5e72\u64fe\u74b0\u5883 1.\u6307\u5357\u91dd\uff0c\u5c0b\u5317\u7cfb\u7d71 2. \u7a7a\u66e0\u4e14\u78c1\u5e72\u64fe\u8f03\u5c11\u7684\u5ba4\u5167\uff0c\u6a21\u7d44\u57fa\u672c\u4e0d\u6703\u5927\u7bc4\u570d\u5728\u5ba4\u5167\u79fb\u52d5(\u5178\u578b\u7684\u5982\u651d\u5f71\u68da\u5167\u52d5\u4f5c\u6355\u6349\uff0c\u4e14\u88ab\u6e2c\u8005\u4e0d\u6703\u505a\u5927\u7bc4\u570d\u8d70\u52d5) 1. \u822a\u5411\u89d2\u4e0d\u6703\u96a8\u6642\u9593\u6f02\u79fb 2.\u4e00\u65e6\u6aa2\u6e2c\u5230\u5730\u78c1\u5834\u53ef\u5feb\u901f\u4fee\u6b63\u822a\u5411\u89d2\u6307\u5317 \u4efb\u4f55\u78c1\u5e72\u64fe\u90fd\u6703\u51fa\u73fe\u822a\u5411\u89d2\u6e96\u78ba\u5ea6\u4e0b\u964d\u3002\u5ba4\u5167\u5e72\u64fe\u56b4\u91cd\u60c5\u6cc1\u4e0b \u822a\u5411\u89d2\u7121\u6cd5\u6307\u5411\u6b63\u78ba\u65b9\u5411\u3002\u53e6\u5916\uff0c\u79fb\u52d5\u6a5f\u5668\u4eba\u7684\u91d1\u5c6c\u7d50\u69cb\u548c\u96fb\u6a5f\u904b\u884c\u6642\u6703\u7522\u751f\u975e\u5e38\u5f37\u7684\u78c1\u5e72\u64fe\uff0c\u6240\u4ee5\u79fb\u52d5\u6a5f\u5668\u4eba\u5e73\u53f0\u4e0d\u9069\u7528\u65bc9\u8ef8\u6a21\u5f0f\u3002 \u9996\u6b21\u4f7f\u7528\u524d\u9700\u8981\u6821\u6e96\u5730\u78c1\u611f\u6e2c\u5668 \u6a21\u7d44\u7684\u81ea\u52d5\u5730\u78c1\u6821\u6e96\u7cfb\u7d71\u53ea\u80fd\u8655\u7406\u548c\u6a21\u7d44\u5b89\u88dd\u5728\u4e00\u8d77\u7684\uff0c\u56fa\u5b9a\u7684\u78c1\u5834\u5e72\u64fe\u3002\u5b89\u88dd\u74b0\u5883\u5982\u679c\u6709\u78c1\u5834\u5e72\u64fe\uff0c\u9019\u7a2e\u5e72\u64fe\u5fc5\u9808\u662f\u56fa\u5b9a\u7684\uff0c\u4e26\u4e14\u9019\u500b\u5e72\u64fe\u78c1\u5834\u8207\u6a21\u7d44 \u5b89\u88dd\u4e4b\u5f8c\u4e0d\u6703\u518d\u767c\u751f\u8ddd\u96e2\u8b8a\u5316(\u4f8b\uff1a\u6a21\u7d44\u5b89\u88dd\u5728\u4e00\u500b\u9435\u6750\u6599\u4e4b\u4e0a\uff0c\u56e0\u70ba\u9435\u6703\u6709\u78c1\u5834\u5e72\u64fe\uff0c \u9019\u6642\u5c31\u9700\u8981\u628a\u9435\u8207\u6a21\u7d44\u4e00\u8d77\u65cb\u8f49\u6821\u6e96\uff0c\u4e26\u4e14\u9019\u500b\u9435\u5728\u4f7f\u7528\u7576\u4e2d\u662f\u4e0d\u6703\u548c\u7f85\u76e4\u518d\u5206\u958b\u7684(\u767c\u751f\u76f8\u5c0d\u4f4d\u79fb)\uff0c\u4e00 \u65e6\u5206\u958b\u662f\u9700\u8981\u518d\u91cd\u65b0\u6821\u6e96\u3002\u5982\u679c\u9019\u500b\u9435\u5927\u5c0f\u662f\u4e0d\u56fa\u5b9a\u7684\uff0c\u6216\u8207\u7f85\u76e4\u7684\u8ddd\u96e2\u8b8a\u5316\u4e5f\u4e0d\u662f\u56fa\u5b9a \u7684\uff0c\u9019\u7a2e\u5e72\u64fe\u662f\u7121\u6cd5\u6821\u6e96\uff0c\u5373\u4f7f\u6821\u6e96\u6210\u529f\uff0c\u4e5f\u6703\u7cbe\u5ea6\u975e\u5e38\u5dee\uff0c\u53ea\u80fd\u907f\u800c\u9060\u4e4b\u5b89\u88dd\u3002\u5b89\u5168\u8ddd\u96e2\u63a7\u5236\u5728 40CM \u4ee5\u4e0a)\u3002","title":"6\u8ef8\u548c9\u8ef8\u6a21\u5f0f\u5340\u5225"},{"location":"ch110/ch110/#_21","text":"\u672c\u6a21\u7d44\u6574\u5408\u4e86\u4e3b\u52d5\u7121\u5e72\u9810\u5730\u78c1\u6821\u6e96\u7b97\u6cd5,\u6a21\u7d44\u6703\u81ea\u52d5\u6536\u96c6\u5730\u78c1\u5834\u8cc7\u8a0a\u4e26\u9032\u884c\u786c\u78c1\u8edf\u78c1\u6821\u6e96\u53c3\u6578\u4f30\u8a08\uff0c\u6821\u6e96\u6210\u529f\u5f8c\u6821\u6e96\u8cc7\u8a0a\u6703\u4fdd\u5b58\u5728\u6a21\u7d44Flash\u4e0a\u3002 \u7528\u6236\u7121\u9808\u4efb\u4f55\u64cd\u4f5c/\u6307\u4ee4\u5373\u53ef\u5be6\u73fe\u5730\u78c1\u6821\u6e96 \u3002\u9996\u6b21\u4f7f\u7528\u6642\uff0c\u6a21\u7d44\u6703\u81ea\u52d5\u63a1\u96c6\u5468\u570d\u5730\u78c1\u5834\uff0c\u4e26\u5617\u8a66\u8a08\u7b97\u5730\u78c1\u611f\u6e2c\u5668\u6821\u6e96\u53c3\u6578\u3002\u7576\u9996\u6b21\u4f7f\u7528\u6a21\u7d44\u4e26\u4e14\u9700\u8981\u4f7f\u75289\u8ef8\u6a21\u5f0f\u6642\uff0c\u61c9\u9032\u884c\u5982\u4e0b\u6821\u6e96\u64cd\u4f5c\uff1a \u5728\u76e1\u91cf\u5c0f\u7bc4\u570d\u5167\uff0c\u7de9\u6162\u7684\u8b93\u6a21\u7d44\u904b\u52d5\u548c\u65cb\u8f49\uff0c\u6216\u8005\u9032\u884c8\u5b57\u904b\u52d5 \u6216\u8005\u5206\u5225\u7e5e\u6bcf\u500b\u8ef8360\u5ea6\uff0c\u8b93\u6a21\u7d44\u7d93\u6b77\u76e1\u91cf\u591a\u7684\u59ff\u614b\u3002\u4e00\u822c\u60c5\u6cc1\u4e0b\uff0c\u5982\u679c\u5730\u78c1\u5e72\u64fe\u5728\u53ef\u63a5\u53d7\u7684\u7bc4\u570d\u5167\uff0c\u5373\u53ef\u5b8c\u6210\u6821\u6e96\u3002\u5982\u679c\u5f8c\u9762\u5728\u540c\u6a23\u5730\u78c1\u74b0\u5883\u4e0b(\u540c\u5730\u9ede)\uff0c\u5247\u7121\u9700\u518d\u6b21\u6821\u6e96\u3002\u5982\u679c\u59cb\u7d42\u6c92\u80fd\u6210\u529f\u6821\u6e96\u6a21\u7d44\uff0c\u8aaa\u660e\u5468\u570d\u5730\u78c1\u5834\u5e72\u64fe\u6bd4\u8f03\u5927\u3002 \u5730\u78c1\u6821\u6e96\u72c0\u614b\u53ef\u4ee5\u4f7f\u7528AT\u6307\u4ee4\u4f86\u67e5\u770b\uff1a \u767c\u9001 AT+INFO=HSI \u6307\u4ee4\uff0c\u6a21\u7d44\u6703\u6253\u5370\u7576\u524d\u5730\u78c1\u6821\u6e96\u7cfb\u7d71\u72c0\u614b\uff1a \u53c3\u6578\u986f\u793a \u610f\u7fa9 \u8aaa\u660e valid \u6709\u6548\u6a19\u8a8c 0: \u4e0d\u5b58\u5728\u6709\u6548\u6821\u6e96\u53c3\u6578(\u6c92\u6709\u6821\u6e96\u6216\u8005\u5f9e\u4f86\u6c92\u6709\u6821\u6e96\u6210\u529f\u904e)\u3002\u975e0\uff1a\u5730\u78c1\u6821\u6e96\u5b8c\u6210 fiterr \u64ec\u5408\u6b98\u5dee \u6b98\u5dee\u8d8a\u5c0f\uff0c\u8aaa\u660e\u53c3\u6578\u64ec\u5408\u6548\u679c\u8d8a\u597d\uff0c\u901a\u5e38\u57280.03\u4ee5\u4e0b\u8aaa\u660e\u6821\u6e96\u7d50\u679c\u5df2\u7d93\u8db3\u5920\u597d\u3002\u5982\u679c\u64ec\u5408\u7d50\u679c\u59cb\u7d42>0.1\uff0c\u8aaa\u660e\u5730\u78c1\u5e72\u64fe\u5f88\u5927\uff0c\u6700\u597d\u518d\u6b21\u6821\u6e96\u4ee5\u671f\u5f97\u5230\u66f4\u597d\u7684\u6821\u6e96\u7d50\u679c\u3002\u64ec\u5408\u6b98\u5dee\u6703\u96a8\u8457\u6642\u9593\u7de9\u6162\u589e\u9577\u3002 flux \u7576\u5730\u78c1\u5834 \u6700\u8fd1\u4e00\u6b21\u64ec\u5408\u5668\u4f30\u8a08\u51fa\u7684\u5730\u78c1\u5834\u5f37 \uff0c\u55ae\u4f4d\u70bauT inclination \u7576\u5730\u78c1\u50be\u89d2 \u6700\u8fd1\u4e00\u6b21\u64ec\u5408\u5668\u4f30\u8a08\u51fa\u7684\u78c1\u50be\u89d2\uff0c\u55ae\u4f4d\u70ba\u00b0 \u96d6\u7136\u5730\u78c1\u53c3\u6578\u4f30\u8a08\u53ef\u4ee5\u5728\u7dda\u81ea\u52d5\u63a1\u96c6\u6578\u64da\uff0c\u81ea\u52d5\u7684\u52d5\u614b\u64ec\u5408\u5730\u78c1\u6821\u6e96\u53c3\u6578\u3002\u4f46\u662f\u5982\u679c\u5468\u570d\u5730\u78c1\u74b0\u5883\u6539\u8b8a(\u6bd4\u5982\u9700\u8981\u5230\u53e6\u5916\u623f\u9593\u6216\u8005\u5ba4\u5167\u5ba4\u5916\u5207\u63db)\uff0c\u6700\u597d\u9084\u9700\u91cd\u8907\u624b\u5de5\u6821\u6e96\u64cd\u4f5c\u3002","title":"\u6821\u6e96\u65b9\u6cd5"},{"location":"ch110/ch110/#_22","text":"\u6a21\u7d44\u4e0a\u96fb\u5f8c\uff0c\u9ed8\u8a8d\u6309\u51fa\u5ee0\u5e40\u7387(\u901a\u5e38\u70ba100)\u8f38\u51fa\u5e40\u6578\u64da\uff0c\u5e40\u683c\u5f0f\u5982\u4e0b\uff1a \u57df\u540d\u7a31 \u503c \u9577\u5ea6(\u5b57\u7bc0) \u8aaa\u660e PRE 0x5A 1 \u56fa\u5b9a\u70ba0x5A TYPE 0xA5 1 \u56fa\u5b9a\u70ba0xA5 LEN 1-512 2 \u5e40\u4e2d\u6578\u64da\u57df\u7684\u9577\u5ea6\uff0c\u4f4e\u5b57\u7bc0\u5728\u524d\u3002\u9577\u5ea6\u8868\u793a\u6578\u64da\u57df(PAYLOAD)\u7684\u9577\u5ea6\uff0c\u4e0d\u5305\u542b PRE , TYPE , LEN , CRC \u5b57\u6bb5\u3002 CRC - 2 \u9664CRC \u672c\u8eab\u5916\u5176\u9918\u6240\u6709\u5b57\u6bb5( PRE,TYPE,LEN, PAYLOAD )\u5e40\u6578\u64da\u768416 \u4f4dCRC \u6821\u9a57\u548c\u3002LSB(\u4f4e\u5b57\u7bc0\u5728\u524d) PAYLOAD - 1-512 \u4e00\u5e40\u651c\u5e36\u7684\u6578\u64da\u3002PAYLOAD\u57df \u7531\u82e5\u5e72\u500b**\u5b50\u6578\u64da\u5305**\u7d44\u6210\u3002\u6bcf\u500b\u6578\u64da\u5305\u5305\u542b\u6578\u64da\u5305\u6a19\u7c64\u548c\u6578\u64da\u5169\u90e8\u5206\u3002\u6a19\u7c64\u6c7a\u5b9a\u4e86\u6578\u64da\u7684\u985e\u578b\u53ca\u9577\u5ea6\u3002 CRC\u5be6\u73fe\u51fd\u6578\uff1a /* currectCrc: previous crc value, set 0 if it's first section src: source stream data lengthInBytes: length */ static void crc16_update(uint16_t *currectCrc, const uint8_t *src, uint32_t lengthInBytes) { uint32_t crc = *currectCrc; uint32_t j; for (j=0; j < lengthInBytes; ++j) { uint32_t i; uint32_t byte = src[j]; crc ^= byte << 8; for (i = 0; i < 8; ++i) { uint32_t temp = crc << 1; if (crc & 0x8000) { temp ^= 0x1021; } crc = temp; } } *currectCrc = crc; }","title":"\u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70"},{"location":"ch110/ch110/#_23","text":"","title":"\u6578\u64da\u5305"},{"location":"ch110/ch110/#_24","text":"\u6578\u64da\u5305\u6a19\u7c64 \u6578\u64da\u5305\u9577\u5ea6(\u5305\u542b\u6a19\u7c641\u5b57\u7bc0) \u540d\u7a31 \u5099\u8a3b 0x90 2 \u7528\u6236ID 0xA0 7 \u52a0\u901f\u5ea6 0xB0 7 \u89d2\u901f\u5ea6 0xC0 7 \u78c1\u5834\u5f37\u5ea6 0xD0 7 \u6b50\u62c9\u89d2 0xD1 17 \u56db\u5143\u6578 0xF0 5 \u6c23\u58d3 \u8f38\u51fa0 0x91 76 IMUSOL(IMU\u6578\u64da\u96c6\u5408) \u63a8\u85a6\u4f7f\u7528","title":"\u6578\u64da\u5305\u7e3d\u89bd"},{"location":"ch110/ch110/#_25","text":"","title":"\u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868"},{"location":"ch110/ch110/#0x90id","text":"\u51712\u5b57\u7bc0\uff0c\u7528\u6236\u8a2d\u7f6e\u7684ID\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x90 1 uint8_t 1 - \u7528\u6236ID","title":"0x90(\u7528\u6236ID)"},{"location":"ch110/ch110/#0xa0","text":"\u51717 \u500b\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u52a0\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xA0 1 int16_t 2 0.001G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) X\u8ef8\u52a0\u901f\u5ea6 3 int16_t 2 0.001G Y\u8ef8\u52a0\u901f\u5ea6 5 int16_t 2 0.001G Z\u8ef8\u52a0\u901f\u5ea6","title":"0xA0(\u52a0\u901f\u5ea6)"},{"location":"ch110/ch110/#0xb0","text":"\u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u89d2\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64\uff1a0xB0 1 int16_t 2 0.1\u00b0/s X\u8ef8\u89d2\u901f\u5ea6 3 int16_t 2 0.1\u00b0/s Y\u8ef8\u89d2\u901f\u5ea6 5 int16_t 2 0.1\u00b0/s Z\u8ef8\u89d2\u901f\u5ea6","title":"0xB0(\u89d2\u901f\u5ea6)"},{"location":"ch110/ch110/#0xc0","text":"\u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u78c1\u5834\u5f37\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xC0 1 int16_t 2 0.001Gauss X\u8ef8\u78c1\u5834\u5f37\u5ea6 3 int16_t 2 0.001Gauss Y\u8ef8\u78c1\u5834\u5f37\u5ea6 5 int16_t 2 0.001Gauss Z\u8ef8\u78c1\u5834\u5f37\u5ea6","title":"0xC0(\u78c1\u5834\u5f37\u5ea6)"},{"location":"ch110/ch110/#0xd0","text":"\u51717\u5b57\u7bc0\uff0cLSB\u3002\u683c\u5f0f\u70baint16\uff0c\u5171\u4e09\u500b\u8ef8\uff0c\u6bcf\u500b\u8ef8\u53602 \u500b\u5b57\u7bc0\uff0c\u9806\u5e8f\u70baPitch/Roll/Yaw\u3002\u63a5\u6536\u5230Roll, Pitch \u70ba\u7269\u7406\u503c\u4e58\u4ee5100 \u5f8c\u5f97\u5230\u7684\u6578\u503c\uff0cYaw \u70ba\u4e58\u4ee510 \u5f97\u5230\u7684\u6578\u503c\u3002 \u4f8b\uff1a\u7576\u63a5\u6536\u5230\u7684Yaw = 100 \u6642\uff0c\u8868\u793a\u822a\u5411\u89d2\u70ba10\u00b0 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD0 1 int16_t 2 0.01\u00b0 Pitch(\u4fef\u4ef0\u89d2) 3 int16_t 2 0.01\u00b0 Roll(\u6a6b\u6efe\u89d2) 5 int16_t 2 0.1\u00b0 Yaw(\u822a\u5411\u89d2)","title":"0xD0(\u6b50\u62c9\u89d2)"},{"location":"ch110/ch110/#0xd1","text":"\u517117\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\uff0c\u51714\u500b\u503c\uff0c\u9806\u5e8f\u70ba:W X Y Z.\u3002\u6bcf\u500b\u503c\u53604 \u5b57\u7bc0(float)\uff0c\u6574\u500b\u56db\u5143\u6578\u70ba4\u500bfloat\uff0cLSB\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD1 1 float 4 - W 5 float 4 - X 9 float 4 - Y 13 float 4 - Z","title":"0XD1(\u56db\u5143\u6578)"},{"location":"ch110/ch110/#0xf0","text":"\u51715\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\u3002(\u53ea\u91dd\u5c0d\u6709\u6c23\u58d3\u611f\u6e2c\u5668\u7684\u7522\u54c1) \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xF0 1 float 4 Pa \u5927\u6c23\u58d3","title":"0XF0(\u6c23\u58d3)"},{"location":"ch110/ch110/#0x91-imusol","text":"\u517176\u5b57\u7bc0\uff0c\u65b0\u52a0\u5165\u7684\u6578\u64da\u5305\uff0c\u7528\u65bc\u66ff\u4ee3A0,B0,C0,D0,D1\u7b49\u6578\u64da\u5305\u3002\u6574\u5408\u4e86IMU\u7684\u611f\u6e2c\u5668\u539f\u59cb\u8f38\u51fa\u548c\u59ff\u614b\u89e3\u7b97\u6578\u64da\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x91 1 uint8_t 1 - ID 2 - 6 - \u4fdd\u7559 8 uint32_t 4 ms \u6642\u9593\u6233\u8cc7\u8a0a\uff0c\u5f9e\u7cfb\u7d71\u958b\u6a5f\u958b\u59cb\u7d2f\u52a0\uff0c\u6bcf\u6beb\u79d2\u589e\u52a01 12 float 12 1G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) \u52a0\u901f\u5ea6,\u9806\u5e8f\u70ba\uff1aXYZ(\u6ce8\u610f\u55ae\u4f4d\u548c0xA0\u5305\u4e0d\u540c) 24 float 12 deg/s \u89d2\u901f\u5ea6,\u9806\u5e8f\u70ba\uff1a XYZ(\u6ce8\u610f\u55ae\u4f4d\u548c0xB0\u5305\u4e0d\u540c) 36 float 12 uT \u78c1\u5f37\u5ea6,\u9806\u5e8f\u70ba\uff1a XYZ(\u6ce8\u610f\u55ae\u4f4d\u548c0xC0\u5305\u4e0d\u540c) 48 float 12 deg \u7bc0\u9ede\u6b50\u62c9\u89d2 \u9806\u5e8f\u70ba\uff1a\u6a6b\u6efe\u89d2(Roll)\uff0c\u4fef\u4ef0\u89d2(Pitch)\uff0c\u822a\u5411\u89d2(Yaw)(\u6ce8\u610f\u9806\u5e8f\u548c\u55ae\u4f4d\u82070xD0\u5305\u4e0d\u540c) 60 float 16 - \u7bc0\u9ede\u56db\u5143\u6578\u96c6\u5408,\u9806\u5e8f\u70baWXYZ","title":"0X91( IMUSOL)"},{"location":"ch110/ch110/#_26","text":"\u51fa\u5ee0\u9ed8\u8a8d\u4e00\u5e40\u4e2d\u651c\u5e36\u6578\u64da\u5305\u6578\u64da\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7522\u54c1 \u9ed8\u8a8d\u8f38\u51fa\u6578\u64da\u5305 CH110 91","title":"\u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305"},{"location":"ch110/ch110/#_27","text":"","title":"\u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b"},{"location":"ch110/ch110/#0x900xa00xb00xc00xd00xf0","text":"\u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517141\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991835\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 23 00 FD 61 90 00 A0 55 02 3D 01 E2 02 B0 FE FF 17 00 44 00 C0 80 FF 60 FF 32 FF D0 64 F2 6C 0E BB 01 F0 00 00 00 00 \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 23 00 : (0x00<<8) + 0x23 = 35 \u5e40CRC\u6821\u9a57\u503c: FD 61 :(0x61<<8) + 0xFD = 0x61FD \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x61FD, \u8207\u5e40\u651c\u5e36\u7684CRC\u503c\u76f8\u540c, \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da 90 00 \uff1aID \u6578\u64da\u5305, 0x90\u70ba\u6578\u64da\u5305\u6a19\u7c64, ID = 0x00. A0 55 02 3D 01 E2 02 :\u52a0\u901f\u5ea6\u6578\u64da\u5305,0xA0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u52a0\u901f\u5ea6\u70ba\uff1a X\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0x55) = 597(\u55ae\u4f4d\u70bamG) Y\u8ef8\u52a0\u901f\u5ea6 = (int16_t)((0x01<<8)+ 0x3D) = 317 Z\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0xE2) = 738 B0 FE FF 17 00 44 00 :\u89d2\u901f\u5ea6\u6578\u64da\u5305,0xB0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u89d2\u901f\u5ea6\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0xFE) = -2(\u55ae\u4f4d\u70ba0.1\u00b0/s) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0x00<<8)+ 0x17) = 23 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0x00<<8)+ 0x44) = 68 C0 80 FF 60 FF 32 FF :\u78c1\u5834\u6578\u64da\u5305,0xC0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u78c1\u5834\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x80) = -128 (\u55ae\u4f4d\u70ba0.001Gauss) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0xFF<<8)+ 0x60) = -160 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x32) = -206 D0 64 F2 6C 0E BB 01 \u6b50\u62c9\u89d2\u6578\u64da\u5305, 0xD0\u70ba\u6578\u64da\u5305\u6a19\u7c64 Pitch= (int16_t)((0xF2<<8)+ 0x64) / 100 = -3484 / 100 = -34.84 \u00b0 Roll= (int16_t)((0x0E<<8)+ 0x6C) / 100 = 3692 / 100 = 36.92\u00b0 Yaw = (int16_t)((0x01<<8)+ 0xBB) / 10 = 443 /10 = 44.3\u00b0 F0 00 00 00 00 \u6c23\u58d3\u6578\u64da\u5305\uff0c0xF0\u70ba\u6578\u64da\u5305\u6a19\u7c64 float prs; prs = memcpy(&prs, &buf[37], 4); \u6700\u5f8c\u5f97\u5230\u7d50\u679c\uff1a id : 0 acc(G) : 0.597 0.317 0.738 gyr(deg/s) : -0.200 2.300 6.800 mag(uT) : -12.800 -16.000 -20.600 eul(R/P/Y) : 36.920 -34.840 44.300","title":"\u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305"},{"location":"ch110/ch110/#0x91","text":"\u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517182\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991876\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 4C 00 6C 51 91 00 A0 3B 01 A8 02 97 BD BB 04 00 9C A0 65 3E A2 26 45 3F 5C E7 30 3F E2 D4 5A C2 E5 9D A0 C1 EB 23 EE C2 78 77 99 41 AB AA D1 C1 AB 2A 0A C2 8D E1 42 42 8F 1D A8 C1 1E 0C 36 C2 E6 E5 5A 3F C1 94 9E 3E B8 C0 9E BE BE DF 8D BE \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 4C 00 : (0x00<<8) + 0x4C = 76 \u5e40CRC\u6821\u9a57\u503c: 6C 51 :(0x51<<8) + 0x6C = 0x516C \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x516C. \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da \u5f9e 0x91 \u958b\u59cb\u70ba\u6578\u64da\u5305\u7684\u6578\u64da\u57df\u3002\u5728C\u8a9e\u8a00\u4e2d\u53ef\u4ee5\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u4f86\u65b9\u4fbf\u7684\u8b80\u53d6\u6578\u64da\uff1a \u5b9a\u7fa90x91\u6578\u64da\u5305\u7d50\u69cb\u9ad4\u5982\u4e0b\uff1a __packed typedef struct { uint8_t tag; /* \u6578\u64da\u6a19\u7c64:0x91 */ uint8_t id; /* \u6a21\u7d44ID */ uint8_t rev[6]; /* reserved */ uint32_t ts; /* \u6642\u9593\u6233 */ float acc[3]; /* \u52a0\u901f\u5ea6 */ float gyr[3]; /* \u89d2\u901f\u5ea6 */ float mag[3]; /* \u5730\u78c1 */ float eul[3]; /* \u6b50\u62c9\u89d2: Roll,Pitch,Yaw */ float quat[4]; /* \u56db\u5143\u6578 */ }id0x91_t; __packed \u70ba\u7de8\u8b6f\u5668\u95dc\u9375\u5b57(Keil\u4e0b)\uff0c\u8868\u793a\u7d50\u69cb\u9ad4\u6309\u5b57\u7bc0\u7dca\u5c0d\u9f4a\uff0c\u7d50\u69cb\u9ad4\u6bcf\u4e00\u500b\u5143\u7d20\u4e00\u4e00\u5c0d\u61c90x91\u6578\u64da\u5305\u7684\u7d50\u69cb\u5b9a\u7fa9\u3002\u63a5\u6536\u6578\u64da\u6642\u5c07\u63a5\u6536\u5230\u7684\u9663\u5217\u76f4\u63a5memcpy\u5230\u7d50\u69cb\u9ad4\u5373\u53ef\uff1a(\u6ce8\u610f\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u6642\u5fc5\u98084\u5b57\u7bc0\u5c0d\u9f4a), \u5176\u4e2d buf \u6307\u5411\u5e40\u982d, buf[6] \u6307\u5411\u5e40\u4e2d\u6578\u64da\u57df \u3002 /* \u63a5\u6536\u6578\u64da\u4e26\u4f7f\u75280x91\u6578\u64da\u5305\u7d50\u69cb\u5b9a\u7fa9\u4f86\u89e3\u91cb\u6578\u64da */ __align(4) id0x91_t dat; /* struct must be 4 byte aligned */ memcpy(&dat, &buf[6], sizeof(id0x91_t)); \u6700\u5f8c\u5f97\u5230dat\u6578\u64da\u7d50\u679c\uff1a id : 0 timestamp : 310205 acc : 0.224 0.770 0.691 gyr : -54.708 -20.077 -119.070 mag : 19.183 -26.208 -34.542 eul(R/P/Y) : 48.720 -21.014 -45.512 quat : 0.855 0.310 -0.310 -0.277","title":"\u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305"},{"location":"ch110/ch110/#can","text":"\u672c\u7522\u54c1CAN\u63a5\u53e3\u9075\u5faa\u4ee5\u4e0b\u6a19\u6e96\uff1a CAN\u63a5\u53e3\u7b26\u5408CANopen\u5354\u8b70\uff0c\u6240\u6709\u901a\u8a0a\u5747\u4f7f\u7528\u6a19\u6e96\u6578\u64da\u5e40\uff0c\u53ea\u4f7f\u7528PTO1-4 \u50b3\u8f38\u6578\u64da\uff0c\u6240\u6709\u50b3\u8f38\u5747\u63a1\u7528\u6a19\u6e96\u6578\u64da\u5e40\uff0c\u4e0d\u63a5\u6536\u9060\u7a0b\u5e40\u548c\u62d3\u5c55\u6578\u64da\u5e40 PTO\u63a1\u7528\u7570\u6b65\u5b9a\u6642\u89f8\u767c\u6a21\u5f0f, \u9ed8\u8a8d\u8f38\u51fa\u901f\u7387\u70ba50Hz \u7576\u6a21\u7d44\u4e0a\u96fb\u6642\uff0c\u6309\u7167CANopen\u5354\u8b70\uff0c\u6a21\u7d44\u6703\u4e3b\u52d5\u767c\u9001\u4e00\u689d(\u4e00\u6b21)\u7bc0\u9ede\u4e0a\u7dda\u5831\u6587\u3002\u7bc0\u9ede\u4e0a\u96fb\u8655\u65bc\u9810\u64cd\u4f5c\u72c0\u614b(pre-operational), \u9700\u8981\u4e3b\u6a5f\u767c\u9001NMT\u5354\u8b70\u5c07\u7bc0\u9ede\u8a2d\u7f6e\u70baoperation\u72c0\u614b\u624d\u6703\u958b\u59cb\u767c\u9001\u6578\u64da","title":"CAN\u901a\u8a0a\u5354\u8b70"},{"location":"ch110/ch110/#canopen","text":"CANopen\u9ed8\u8a8d\u914d\u7f6e \u503c CAN \u9b91\u7387 500KHz CANopen\u7bc0\u9edeID 8 \u521d\u59cb\u5316\u72c0\u614b \u9810\u64cd\u4f5c(Pre-operational),\u9700\u8981\u767c\u9001Start Remote Node\u547d\u4ee4\u6a21\u7d44\u624d\u80fd\u958b\u59cb\u8f38\u51fa\u6578\u64da(\u898b\u4e0b\u7bc0) \u5fc3\u8df3\u5305 \u7121","title":"CANopen \u9ed8\u8a8d\u8a2d\u7f6e"},{"location":"ch110/ch110/#canopen-tpto","text":"PTO\u901a\u9053 PTO \u5e40ID \u9577\u5ea6 PTO \u50b3\u8f38\u65b9\u5f0f \u7570\u6b65\u8f38\u51fa\u983b\u7387\uff08Hz\uff09 \u767c\u9001\u6578\u64da \u8aaa\u660e TPDO1 0x180+ID 6 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u52a0\u901f\u5ea6 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u5206\u5225\u70baX,Y,Z\u8ef8\u52a0\u901f\u5ea6\uff0c\u55ae\u4f4d\u70bamG(0.001\u91cd\u529b\u52a0\u901f\u5ea6) TPDO2 0x280+ID 6 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u89d2\u901f\u5ea6 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u5206\u5225\u70baX,Y,Z\u8ef8\u89d2\u901f\u5ea6\uff0c\u55ae\u4f4d\u70ba0.1DPS(\u00b0/s) TPDO3 0x380+ID 6 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u6b50\u62c9\u89d2 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u9806\u5e8f\u5206\u5225\u70ba\u6a6b\u6efe\u89d2(Roll,\u7e5eX\u8ef8\u65cb\u8f49),\u4fef\u4ef0\u89d2(Pitch,\u7e5eY\u8ef8\u65cb\u8f49),\u822a\u5411\u89d2(Yaw\u7e5eZ\u8ef8\u65cb\u8f49)\u3002\u6b50\u62c9\u89d2\u55ae\u4f4d\u70ba0.01\u00b0 TPDO4 0x480+ID 8 \u7570\u6b65\u5b9a\u6642(0xFE) 20 \u56db\u5143\u6578 \u6bcf\u8ef8\u6578\u64da\u985e\u578b\u70ba(INT16,\u4f4e\u5b57\u7bc0\u5728\u524d)\uff0c\u5206\u5225\u70ba$$ q_{w} q_{x} q_{y} q_{z}$$ \u3002\u55ae\u4f4d\u56db\u5143\u6578\u64f4\u592710000\u500d\u5f8c\u7d50\u679c\u3002\u5982\u56db\u5143\u6578\u70ba1,0,0,0 \u6642, \u8f38\u51fa10000,0,0,0. \u4f7f\u7528USB-CAN\u5de5\u5177\u6293\u53d6\u9ed8\u8a8dCAN\u8f38\u51fa\u5305\u622a\u5716\u5982\u4e0b\uff1a \u5176\u4e2d\u6b50\u62c9\u89d2(PTO3) CAN\u5e40ID =0x380 + 8(\u9ed8\u8a8dID) = 0x388\uff0c \u6578\u64da\u70ba: X\u8ef8\uff1a (0x00 <<8)+ 0x8F = 0x008F = 1.43\u00b0 Y\u8ef8\uff1a (0xFF<<8)+ 0xCF = 0xFFCF = -0.49\u00b0 Z\u8ef8\uff1a(0x0F<<8)+ 0xB9 = 0x0FB9= 40.25\u00b0 ### CAN\u63a5\u53e3\u7de8\u7a0b\u793a\u4f8b","title":"CANopen TPTO"},{"location":"ch110/ch110/#1","text":"\u767c\u9001\u6a19\u6e96CANopen\u5354\u8b70\u5e40\uff0c\u4f7f\u7528NMT: Start Remote Node\u547d\u4ee4: ID=0x000,DLC=2,DATA=0x01,0x08 \u5176\u4e2d 0x01\u70baStart Remote Node\u6307\u4ee4\uff0c 0x08\u70ba\u7bc0\u9edeID","title":"1. \u4f7f\u80fd\u6578\u64da\u8f38\u51fa(\u958b\u555f\u7570\u6b65\u89f8\u767c)"},{"location":"ch110/ch110/#2-can","text":"\u6578\u64da\u5b57\u5178\u4ee5\u4e0b\u4f4d\u7f6e\u5b58\u653e\u5ee0\u5546\u53c3\u6578\u914d\u7f6e\u6578\u64da, \u53ef\u901a\u904eCANopen \u767c\u9001\u5feb\u901fSDO\u6307\u4ee4\u4fee\u6539\uff0c \u6389\u96fb\u4fdd\u5b58\uff0c\u91cd\u65b0\u4e0a\u96fb\u751f\u6548 \u3002 \u6578\u64da\u5b57\u5178\u4f4d\u7f6e \u5b50\u504f\u79fb \u540d\u7a31 \u503c\u985e\u578b \u9ed8\u8a8d\u503c \u8aaa\u660e 0x2100 0 CAN_BAUD INTEGER32 500000 CAN\u7e3d\u7dda\u9b91\u7387 0x2101 0 NodeID INTEGER32 8 \u7bc0\u9edeID \u4ee5\u4e0a\u914d\u7f6e\u64cd\u4f5c\u5747\u4f7f\u7528\u5feb\u901fSDO\u4f86\u5beb\u6578\u64da\u5b57\u5178, \u5176\u4e2dTPDO\u901a\u9053\u8207\u5176\u5c0d\u61c9\u7684\u53c3\u6578\u7d22\u5f15\u70ba\uff1a PTO\u901a\u9053 PTO \u5e40ID TPDO\u53c3\u6578\u7d22\u5f15\u5730\u5740(CANopen\u5354\u8b70\u9ed8\u8a8d\u5b9a\u7fa9) TPDO1 0x180+ID 0x1800 TPDO2 0x280+ID 0x1801 TPDO3 0x380+ID 0x1802 TPDO4 0x480+ID 0x1803","title":"2. \u4fee\u6539CAN\u9b91\u7387\uff0c\u8f38\u51fa\u901f\u7387\u53ca\u8f38\u51fa\u5e40\u8cc7\u8a0a"},{"location":"ch110/ch110/#1-can","text":"\u5982\u5c07CAN\u9b91\u7387\u4fee\u6539\u70ba125K, \u5247\u767c\u9001\uff1a ID=0x608 ,DLC=8,DATA=0x23,0x00,0x21,0x00,0x48,0xE8,0x01,0x00 (ID=0x608, \u9577\u5ea6\u70ba8\u7684\u6a19\u6e96\u6578\u64da\u5e40) 0x23\u70baSDO\u5beb\u56db\u500b\u5b57\u7bc0\u6307\u4ee4 0x00, 0x21\u70ba\u5beb0x2100\u7d22\u5f15 0x00, 0x01, 0xE8, 0x48 = (0x00<<24) + (0x01<<16) + (0xE8<<8) + 0x48 = 125000 \u5982\u5c07CAN\u9b91\u7387\u4fee\u6539\u70ba250K, \u5247\u767c\u9001\uff1a ID=0x608 ,DLC=8,DATA=0x23,0x00,0x21,0x00,0x90,0xD0,0x03,0x00 0x23\u70baSDO\u5beb\u56db\u500b\u5b57\u7bc0\u6307\u4ee4 0x00, 0x21\u70ba\u5beb0x2100\u7d22\u5f15 0x00, 0x03, 0xD0, 0x90 = (0x00<<24) + (0x03<<16) + (0xD0<<8) + 0x90 = 250000","title":"\u793a\u4f8b1: \u4fee\u6539CAN\u9b91\u7387"},{"location":"ch110/ch110/#2-id","text":"\u5982\u5c07\u8a2d\u5099CANopen\u7bc0\u9edeID\u6539\u70ba9, \u5247\u767c\u9001\uff1a ID=0x608 ,DLC=8,DATA=0x23,0x01,0x21,0x00,0x09,0x00,0x00,0x00 0x23\u70baSDO\u5beb\u56db\u500b\u5b57\u7bc0\u6307\u4ee4 0x01, 0x21\u70ba\u5beb0x2101\u7d22\u5f15 0x09 0x00, 0x00, 0x00 = (0x00<<24) + (0x00<<16) + (0x00<<8) + 0x09 = 9 \u6ce8\u610f\uff0c\u4fee\u6539\u7bc0\u9edeID\u5f8c\u91cd\u65b0\u4e0a\u96fb\u751f\u6548\uff0c\u4e14\u751f\u6548\u5f8c\u767c\u9001\u555f\u52d5\u7bc0\u9ede\u547d\u4ee4(\u6bd4\u5982\u7bc0\u9ede\u555f\u52d5\u547d\u4ee4\u6578\u64da\u8b8a\u70ba01 09)\u548cSDO\u6307\u4ee4(\u767c\u9001CAN\u5e40ID\u8b8a\u70ba0x609)\u6642\u6ce8\u610f\u70ba\u65b0\u7684\u5730\u5740","title":"\u793a\u4f8b2: \u4fee\u6539\u7bc0\u9edeID"},{"location":"ch110/ch110/#3","text":"\u767c\u9001\u6a19\u6e96CANopen\u5354\u8b70\u5e40\uff0c\u4f7f\u7528\u6a19\u6e96\u5feb\u901fSDO\u6307\u4ee4:(\u6b64\u9805\u914d\u7f6e\u7acb\u5373\u751f\u6548\uff0c\u6389\u96fb\u4e0d\u4fdd\u5b58) \u4fee\u6539TPDO3(\u6b50\u62c9\u89d2)\u8f38\u51fa\u901f\u7387\u70ba20Hz(\u6bcf50ms\u8f38\u51fa\u4e00\u6b21): ID=0x608 ,DLC=8,DATA=0x2B,0x02,0x18,0x05,0x32,0x00,0x00,0x00 \u5176\u4e2d 0x2B\u70baSDO\u5beb\u5169\u500b\u5b57\u7bc0\u6307\u4ee4 0x02, 0x18\u70ba\u5beb0x1802\u7d22\u5f15, 0x05\u70ba\u5b50\u7d22\u5f15 0x00, 0x32= (0x00<<8) + 0x32 = 50(1ms\u70ba\u55ae\u4f4d)\uff0c\u5f8c\u9762\u4e0d\u8db3\u88dc0.","title":"\u793a\u4f8b3: \u4fee\u6539\u6578\u64da\u8f38\u51fa\u901f\u7387"},{"location":"ch110/ch110/#4-tpdo","text":"\u4f8b\uff1a\u95dc\u9589TPDO2\u5b9a\u6642\u8f38\u51fa\uff0c\u5247\u9700\u8981\u5beb0x1801\u7d22\u5f15\uff0c\u5b50\u7d22\u5f15\u70ba0x05, \u5beb\u5165\u503c\u70ba0x0000: ID=0x608 ,DLC=8,DATA=0x2B,0x01,0x18,0x05,0x00,0x00,0x00,0x00 \u5176\u4e2d 0x2B\u70baSDO\u5beb\u5169\u500b\u5b57\u7bc0\u6307\u4ee4 0x01, 0x18\u70ba\u5beb0x1801\u7d22\u5f15 0x05\u5b50\u7d22\u5f15 0x00, 0x00= (0x00<<8) + 0x00 = 0\uff0c\u5f8c\u9762\u4e0d\u8db3\u88dc0.","title":"\u793a\u4f8b4: \u95dc\u9589TPDO\u8f38\u51fa"},{"location":"ch110/ch110/#at","text":"\u7576\u4f7f\u7528\u5e8f\u5217\u57e0\u8207\u6a21\u7d44\u901a\u8a0a\u6642, \u6a21\u7d44\u652f\u63f4AT \u6307\u4ee4\u96c6\u914d\u7f6e/\u67e5\u770b\u6a21\u7d44\u53c3\u6578\u3002AT \u6307\u4ee4\u7e3d\u4ee5ASCII \u78bc AT \u958b\u982d\uff0c\u5f8c\u9762\u8ddf\u63a7\u5236\u5b57\u7b26\uff0c\u6700 \u5f8c\u4ee5\u56de\u8eca\u63db\u884c \\r\\n \u7d50\u675f\u3002\u53ef\u4f7f\u7528\u5e8f\u5217\u57e0\u8abf\u8a66\u52a9\u624b\u9032\u884c\u6e2c\u8a66\uff1a \u901a\u7528\u6a21\u7d44 AT\u6307\u4ee4\u5982\u4e0b \u6307\u4ee4 \u529f\u80fd \u6389\u96fb\u4fdd\u5b58(Y) \u7acb\u5373\u751f\u6548(Y),\u5fa9\u4f4d\u751f\u6548(R) \u5099\u8a3b AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID Y R AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a N Y AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u983b\u7387 Y R AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387 Y R AT+EOUT \u6578\u64da\u8f38\u51fa\u958b\u95dc N Y AT+RST \u5fa9\u4f4d\u6a21\u7d44 N Y AT+TRG \u55ae\u6b21\u8f38\u51fa\u89f8\u767c N Y \u90e8\u5206\u578b\u865f\u652f\u63f4 AT+SETPTL \u8a2d\u7f6e\u8f38\u51fa\u6578\u64da\u5305 Y Y \u90e8\u5206\u578b\u865f\u652f\u63f4 AT+MODE \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f Y R \u90e8\u5206\u578b\u865f\u652f\u63f4 AT+GWID \u8a2d\u7f6e\u7121\u7dda\u63a5\u6536\u6a5fID Y R \u90e8\u5206\u578b\u865f\u652f\u63f4","title":"AT\u6307\u4ee4"},{"location":"ch110/ch110/#atid","text":"\u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID \u4f8b AT+ID=1","title":"AT+ID"},{"location":"ch110/ch110/#atinfo","text":"\u6253\u5370\u6a21\u7d44\u8cc7\u8a0a\uff0c\u5305\u62ec\u7522\u54c1\u578b\u865f\uff0c\u7248\u672c\uff0c\u97cc\u9ad4\u767c\u4f48\u65e5\u671f\u7b49\u3002","title":"AT+INFO"},{"location":"ch110/ch110/#atodr","text":"\u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u901f\u7387\u3002 \u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548 \u4f8b \u8a2d\u7f6e\u5e8f\u5217\u57e0\u8f38\u51fa\u901f\u7387\u70ba100Hz: AT+ODR=100 \u6ce8\u610f\uff1a\u7576ODR\u8a2d\u7f6e\u70ba\u6bd4\u8f03\u9ad8\u6642(\u5982200),\u9ed8\u8a8d\u7684115200\u9b91\u7387\u53ef\u80fd\u4e0d\u6eff\u8db3\u8f38\u51fa\u983b\u5bec\u8981\u6c42\uff0c\u6b64\u6642\u9700\u8981\u5c07\u6a21\u7d44\u9b91\u7387\u8a2d\u9ad8(\u5982921600)\u5f8c\uff0c\u6a21\u7d44\u624d\u80fd\u6309\u8a2d\u7f6e\u7684ODR\u8f38\u51fa\u6578\u64da\u5e40\u3002","title":"AT+ODR"},{"location":"ch110/ch110/#atbaud","text":"\u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387\uff0c\u53ef\u9078\u503c\uff1a 9600/115200/460800/921600 \u4f8b AT+BAUD=115200 \u6ce8\u610f \u4f7f\u7528\u6b64\u6307\u4ee4\u9700\u8981\u7279\u5225\u6ce8\u610f\uff0c\u8f38\u5165\u932f\u8aa4\u9b91\u7387\u5f8c\u6703\u5c0e\u81f4\u7121\u6cd5\u548c\u6a21\u7d44\u901a\u8a0a \u9b91\u7387\u53c3\u6578\u8a2d\u7f6e\u597d\u5f8c\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548\u3002 CH-Center \u7684\u9b91\u7387\u4e5f\u8981\u505a\u76f8\u61c9\u4fee\u6539\u3002 \u5347\u7d1a\u97cc\u9ad4\u6642\uff0c\u9700\u8981\u5207\u63db\u56de115200 \u9b91\u7387\u3002","title":"AT+BAUD"},{"location":"ch110/ch110/#ateout","text":"\u5e8f\u5217\u57e0\u8f38\u51fa\u958b\u95dc \u4f8b \u6253\u958b\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=1 \u95dc\u9589\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=0","title":"AT+EOUT"},{"location":"ch110/ch110/#atrst","text":"\u5fa9\u4f4d\u6a21\u7d44 \u4f8b AT+RST","title":"AT+RST"},{"location":"ch110/ch110/#atsetptl","text":"\u8a2d\u7f6e\u8f38\u51fa\u5354\u8b70: \u8a2d\u7f6e\u4e00\u5e40\u4e2d\u6240\u5305\u542b\u7684\u6578\u64da\u5305\uff1a\u683c\u5f0f\u70ba AT+SETPTL=<ITEM_ID>,<ITEM_ID>... \u4f8b \u914d\u7f6e\u6a21\u7d44\u8f38\u51fa: 91\u6578\u64da\u5305(IMUSOL),\u6307\u4ee4\u70ba: AT+SETPTL=91 \u914d\u7f6e\u6a21\u7d44\u8f38\u51fa:\u52a0\u901f\u5ea6(A0)\uff0c\u89d2\u901f\u5ea6(B0), \u6574\u5f62\u683c\u5f0f\u6b50\u62c9\u89d2(D0)\u548c\u56db\u5143\u6578(D1)\u7684\u6307\u4ee4\u70ba\uff1a AT+SETPTL=A0,B0,D0,D1","title":"AT+SETPTL"},{"location":"ch110/ch110/#atmode","text":"\u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f \u4f8b \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u57286\u8ef8\u6a21\u5f0f(\u7121\u78c1\u6821\u6e96) AT+MODE=0 \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u57289\u8ef8\u6a21\u5f0f(\u5730\u78c1\u5834\u611f\u6e2c\u5668\u53c3\u8207\u822a\u5411\u89d2\u6821\u6b63) AT+MODE=1","title":"AT+MODE"},{"location":"ch110/ch110/#a-","text":"\u672c\u7522\u54c1\u652f\u63f4\u5347\u7d1a\u97cc\u9ad4\u3002 \u97cc\u9ad4\u5347\u7d1a\u6b65\u9a5f: \u9023\u63a5\u6a21\u7d44\uff0c\u6253\u958b CH-Center \u8edf\u9ad4\uff0c\u5c07\u6a21\u7d44\u548c CH-Center \u8edf\u9ad4\u9b91\u7387\u90fd\u8a2d\u7f6e\u70ba115200. \u6253\u958b\u97cc\u9ad4\u5347\u7d1a\u7a97\u53e3 \u9ede\u64ca\"\u9023\u63a5\"\uff0c\u5982\u51fa\u73fe\u6a21\u7d44\u9023\u63a5\u8cc7\u8a0a\u3002\u5247\u8aaa\u660e\u5347\u7d1a\u7cfb\u7d71\u6e96\u5099\u5c31\u7dd2\uff0c\u9ede\u64ca\u6587\u4ef6\u9078\u64c7\u5668(\u2026)\u9078\u64c7\u526f\u6a94\u540d\u70ba.hex \u7684\u97cc\u9ad4 \u9ede\u64ca\"\u958b\u59cb\u7de8\u7a0b\"\u3002\u4e0b\u8f09\u5b8c\u6210\u5f8c\u6703\u63d0\u793a\u7de8\u7a0b\u5b8c\u6210\uff0c\u6b64\u6642\u95dc\u9589\u5e8f\u5217\u57e0\uff0c\u91cd\u65b0\u7d66\u6a21\u7d44\u4e0a\u96fb\uff0c\u6a21\u7d44\u5347\u7d1a\u5b8c\u6210\u3002","title":"\u9644\u9304A - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e"},{"location":"hi221/hi221/","text":"HI221/HI221 Dongle \u7528\u6236\u624b\u518a HI221 \u7121\u7dda\u50b3\u8f38\u6a21\u7d44\u53ca\u63a5\u6536\u5668, Rev 1.0 HI221/HI221 Dongle \u7528\u6236\u624b\u518a \u7c21\u4ecb \u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb \u786c\u9ad4\u53ca\u5c3a\u5bf8(\u7bc0\u9ede) \u786c\u9ad4\u53c3\u6578 \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u9640\u87ba\u5100 \u52a0\u901f\u5ea6\u8a08 \u78c1\u611f\u6e2c\u5668\u53c3\u6578 \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578(UART) \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578(2.4G RF) \u611f\u6e2c\u5668\u6821\u6e96 \u5730\u78c1\u6821\u6e96 \u78c1\u5e72\u64fe\u5206\u985e 6\u8ef8\u548c9\u8ef8\u6a21\u5f0f\u5340\u5225 \u6821\u6e96\u65b9\u6cd5 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd 0X91( IMUSOL) 0x62(GWSOL) 0x63(GWSOL FOR RAW DATA) \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x62 \u6578\u64da\u5305 AT\u6307\u4ee4 AT+ID AT+INFO AT+ODR AT+BAUD AT+EOUT AT+RST AT+GWID AT+MODE \u9644\u9304A - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e \u7c21\u4ecb H221/HI221 Dongle\u662f\u8d85\u6838\u96fb\u5b50\u63a8\u51fa\u7684\u4e00\u6b3e\u9ad8\u6027\u80fd\u3001\u5c0f\u9ad4\u7a4d\u3001\u4f4e\u5ef6\u9072\u7684\u6163\u6027\u6e2c\u91cf\u55ae\u5143\uff08IMU\uff09\uff0c\u672c\u7522\u54c1\u6574\u5408\u4e86\u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08\u3001\u4e09\u8ef8\u9640\u87ba\u5100\u4ee5\u53ca\u4e00\u6b3e\u4f4e\u529f\u8017\u5fae\u8655\u7406\u5668\u3002\u53ef\u8f38\u51fa\u7d93\u904e\u611f\u6e2c\u5668\u878d\u5408\u7b97\u6cd5\u8a08\u7b97\u5f97\u5230\u7684\u57fa\u65bc\u7576\u5730\u5730\u7406\u5750\u6a19\u7684\u4e09\u7dad\u65b9\u4f4d\u6578\u64da\uff0c\u5305\u542b\u6a6b\u6efe\u89d2\u3001\u4fef\u4ef0\u89d2\u4ee5\u53ca\u4ee5\u76f8\u5c0d\u7684\u822a\u5411\u89d2\u3002\u540c\u6642\u4e5f\u53ef\u4ee5\u8f38\u51fa\u539f\u59cb\u7684\u611f\u6e2c\u5668\u6578\u64da\u3002HI221 \u7531**HI221 Dongle(\u63a5\u6536\u6a5f)** \u548c **HI221(\u59ff\u614b\u6a21\u7d44)**\u7d44\u6210\u3002\u4e00\u500bHI221 Dongle\u548c\u6700\u591a16\u500bHI221\u6a21\u7d44\u7d44\u6210\u661f\u5f62\u7db2\u7d61\u7d50\u69cb\u3002\u6bcf\u500bHI221\u53ef\u8f38\u51fa\u6700\u9ad8\u9054100Hz\u7684\u5373\u6642\u59ff\u614b\u6578\u64da\u3002 \u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u9640\u87ba\u5100, \u6700\u5927\u91cf\u7a0b: \u00b12000\u00b0/s \u8f38\u51fa\u901f\u7387 2000Hz \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08, \u6700\u5927\u91cf\u7a0b:\u00b18g \u8f38\u51fa\u901f\u7387 125Hz \u4e09\u8ef8\u5730\u78c1\u5834\u611f\u6e2c\u5668\uff0c\u6700\u5927\u91cf\u7a0b: 800mG \u5167\u90e8\u63a1\u6a23\u7387 100Hz \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb \u5e8f\u5217\u57e0(\u517c\u5bb9TTL \u53ef\u76f4\u63a5\u82075V \u62163.3V \u5e8f\u5217\u57e0\u8a2d\u5099\u9023\u63a5) \u4f9b\u96fb\u96fb\u58d3\uff1a3.3 (\u00b1 100 mV) \u6700\u5927\u5cf0\u503c\u529f\u8017\uff1a120mA(RF Tx\u767c\u5c04) \u786c\u9ad4\u53ca\u5c3a\u5bf8(\u7bc0\u9ede) \u786c\u9ad4\u53c3\u6578 \u53c3\u6578 \u503c \u8f38\u51fa\u6578\u64da\u63a5\u53e3 UART(TTL 1.8V - 3.3V) \u6216\u8005 2.4RF Radio \u5de5\u4f5c\u96fb\u58d3 3.3V (\u00b1 100mV) \u5de5\u4f5c\u96fb\u6d41 30mA \u5f85\u6a5f\u96fb\u6d41 20uA \u5145\u96fb\u5f8c\u5e73\u5747\u5de5\u4f5c\u6642\u9577 8h \u6eab\u5ea6\u7bc4\u570d -20\u2103 - 85 \u2103 \u6700\u5927\u7dda\u6027\u52a0\u901f\u5ea6 0 - 115 m/s^2 m/s^2 \u5c3a\u5bf8 20 x 38 x 8.5mm (W x L x H) \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08 \u4e09\u8ef8\u9640\u87ba\u5100 \u4e09\u8ef8\u5730\u78c1\u5834\u611f\u6e2c\u5668 \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u8f09\u9ad4\u7cfb\u4f7f\u7528 \u524d-\u5de6-\u4e0a(FLU)\u53f3\u624b\u5750\u6a19\u7cfb\uff0c \u5730\u7406\u5750\u6a19\u7cfb\u4f7f\u7528 \u5317-\u897f-\u5929(NWU)\u5750\u6a19\u7cfb\u3002\u5176\u4e2d\u6b50\u62c9\u89d2\u65cb\u8f49\u9806\u5e8f\u70ba ZYX(\u5148\u8f49Z\u8ef8\uff0c\u518d\u8f49Y\u8ef8\uff0c\u6700\u5f8c\u8f49X\u8ef8)\u65cb\u8f49\u9806\u5e8f\u3002\u5177\u9ad4\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7e5e Z \u8ef8\u65b9\u5411\u65cb\u8f49: \u822a\u5411\u89d2\\Yaw\\phi( \\psi \\psi ) \u7bc4\u570d: -180\u00b0 - 180\u00b0 \u7e5e Y \u8ef8\u65b9\u5411\u65cb\u8f49: \u4fef\u4ef0\u89d2\\Pitch\\theta( \\theta \\theta ) \u7bc4\u570d: -90\u00b0-90\u00b0 \u7e5e X \u8ef8\u65b9\u5411\u65cb\u8f49:\u6a6b\u6efe\u89d2\\Roll\\psi( \\phi \\phi )\u7bc4\u570d: -180\u00b0-180\u00b0 \u5982\u679c\u5c07\u6a21\u7d44\u8996\u70ba\u98db\u884c\u5668\u7684\u8a71\u3002X \u8ef8\u61c9\u8996\u70ba\u6a5f\u982d\u65b9\u5411\u3002\u7576\u611f\u6e2c\u5668\u7cfb\u8207\u6163\u6027\u7cfb\u91cd\u5408\u6642\uff0c\u6b50\u62c9\u89d2\u7684\u7406\u60f3\u8f38\u51fa\u70ba:Pitch = 0\u00b0, Roll = 0\u00b0, Yaw = 0\u00b0 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u59ff\u614b\u89d2 \u5178\u578b\u503c \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u975c\u614b 0.8\u00b0 \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u52d5\u614b 2.5\u00b0 \u904b\u52d5\u4e2d\u822a\u5411\u89d2\u7cbe\u5ea6(9\u8ef8\u6a21\u5f0f\u4e0b,\u7121\u78c1\u5e72\u64fe,\u6821\u6e96\u5f8c) 3\u00b0 \u9640\u87ba\u5100 \u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b12000\u00b0/s \u975e\u7dda\u6027\u5ea6 \u00b10.1% \u63a1\u6a23\u7387 2000Hz \u52a0\u901f\u5ea6\u8a08 \u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b18G \u975e\u7dda\u6027\u5ea6 \u00b10.5% \u6700\u5927\u96f6\u9ede\u504f\u79fb 30mG \u63a1\u6a23\u7387 125Hz \u78c1\u611f\u6e2c\u5668\u53c3\u6578 \u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b18Gauss \u975e\u7dda\u6027\u5ea6 \u00b10.1% \u63a1\u6a23\u7387 100Hz \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578(UART) \u53c3\u6578 \u503c \u5e8f\u5217\u57e0\u8f38\u51fa\u9b91\u7387 115200/460800/921600\u53ef\u9078 \u5e40\u8f38\u51fa\u901f\u7387 1/25/50/100Hz \u53ef\u9078 \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578(2.4G RF) \u53c3\u6578 \u503c \u7a7a\u4e2d\u9b91\u7387 2Mbps \u5e40\u901f\u7387(\u6bcf\u500b\u7bc0\u9ede\u5747\u53ef\u9054\u5230) 100Hz \u63a5\u6536\u5668\u6700\u5927\u9023\u63a5\u7bc0\u9ede\u6578 16 \u611f\u6e2c\u5668\u6821\u6e96 \u52a0\u901f\u5ea6\u8a08\u548c\u9640\u87ba\u5100\u5728\u51fa\u5ee0\u524d\u7d93\u904e\u6bd4\u4f8b\u56e0\u5b50\u8aa4\u5dee\u548c\u975e\u6b63\u4ea4\u8aa4\u5dee\u6821\u6e96\uff0c\u6821\u6e96\u53c3\u6578\u4fdd\u5b58\u5728\u6a21\u7d44\u5167\u90e8\u3002 \u9640\u87ba\u5100\u7684\u8f38\u51fa\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u6703\u6709\u4e00\u500b\u96a8\u6a5f\u7684\u4e0d\u70ba0\u7684bias\uff0c\u7a31\u4e4b\u70ba\u96f6\u504f\u91cd\u8907\u6027\u3002\u9019\u500b\u96a8\u6a5fbias\u4e0d\u80fd\u5728\u51fa\u5ee0\u524d\u88ab\u6821\u6e96\u3002\u7cfb\u7d71\u5728\u555f\u52d5\u5f8c1S\u5167\u8a8d\u70ba\u8655\u65bc\u975c\u6b62\u72c0\u614b\u4e26\u63a1\u96c61S\u7684\u9640\u87ba\u5100\u89d2\u901f\u5ea6\u4f5c\u70ba\u521d\u59cbbias\u3002\u9019\u500b\u904e\u7a0b\u7a31\u4e4b\u70ba\u9640\u87ba\u5100\u4e0a\u96fb\u81ea\u6821\u6e96\u3002\u81ea\u6821\u6e96\u5728\u4e0a\u96fb\u5f8c\u975c\u6b62\u6a21\u7d443s \u5de6\u53f3\u53ef\u7372\u5f97\u6700\u597d\u7684\u6821\u6e96\u6548\u679c\u3002 \u5982\u4e0a\u96fb1s\u5167\u6a21\u7d44\u8655\u65bc\u904b\u52d5\u72c0\u614b(\u5305\u62ec\u7de9\u6162\u8f49\u52d5\uff0c\u632f\u52d5\u7b49)\u5247\u822a\u5411\u89d2\u98c4\u79fb\u73fe\u8c61\u6703\u986f\u8457\u589e\u5927 \u3002 \u5efa\u8b70\u4f7f\u7528\u6642\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u975c\u6b62\u81f3\u5c111s\u3002 \u78c1\u611f\u6e2c\u5668(\u90e8\u5206\u578b\u865f\u652f\u63f4)\u51fa\u5ee0\u524d\u7d93\u904e\u6a62\u7403\u6821\u6e96\uff0c\u4f46\u78c1\u611f\u6e2c\u5668\u5f88\u5bb9\u6613\u53d7\u5230\u5916\u754c\u74b0\u5883\u78c1\u5834\u5e72\u64fe\uff0c\u4e00\u822c\u90fd\u9700\u8981\u5ba2\u6236\u91cd\u65b0\u6821\u6e96\uff0c\u51fa\u5ee0\u6821\u6e96\u53c3\u6578\u610f\u7fa9\u4e0d\u5927\u3002\u8a73\u898b\u5730\u78c1\u6821\u6e96\u7ae0\u7bc0\u3002 \u5730\u78c1\u6821\u6e96 \u78c1\u5e72\u64fe\u5206\u985e \u7a2e\u985e \u5b9a\u7fa9 \u5178\u578b\u5e72\u64fe\u6e90 \u5f71\u97ff \u63aa\u65bd \u7a7a\u9593\u78c1\u5834\u5e72\u64fe \u5e72\u64fe\u4e0d\u96a8\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5\uff0c\u800c\u8655\u65bc\u4e16\u754c\u5750\u6a19\u7cfb\u4e0b \u5404\u7a2e\u56fa\u5b9a\u7684\u78c1\u5e72\u64fe\u6e90\uff0c\u50a2\u4ff1\uff0c\u5bb6\u7528\u96fb\u5668\uff0c\u96fb\u7e9c\uff0c\u623f\u5c4b\u5167\u7684\u92fc\u7b4b\u7d50\u69cb\u7b49\u3002\u4e00\u5207\u4e0d\u96a8\u78c1\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5\u7684\u5e72\u64fe\u6e90 \u7121\u8ad6\u78c1\u5834\u611f\u6e2c\u5668\u662f\u5426\u6821\u6e96\u7684\u597d\uff0c\u9019\u4e9b\u7a7a\u9593\u78c1\u5834\u7684\u5e72\u64fe(\u6216\u8005\u8aaa\u74b0\u5883\u78c1\u5834\u4e0d\u5747\u52fb)\u90fd\u6703\u4f7f\u5f97\u7a7a\u9593\u5730\u78c1\u5834\u767c\u751f\u7578\u8b8a\u3002\u5730\u78c1\u88dc\u511f\u6703\u932f\u8aa4\u4e26\u4e14\u7121\u6cd5\u7372\u5f97\u6b63\u78ba\u7684\u822a\u5411\u89d2\u3002\u4ed6\u5011\u662f\u9020\u6210\u5ba4\u5167\u5730\u78c1\u878d\u5408\u96e3\u4ee5\u4f7f\u7528\u7684\u4e3b\u8981\u5143\u5147\u3002\u9019\u7a2e\u5e72\u64fe\u4e0d\u80fd\u88ab\u6821\u6e96, \u6703\u56b4\u91cd\u5f71\u97ff\u5730\u78c1\u6027\u80fd\u3002\u7a7a\u9593\u78c1\u5834\u5e72\u64fe\u5728\u5ba4\u5167\u5c24\u5176\u56b4\u91cd\u3002 \u6a21\u7d44\u5167\u7f6e\u7684\u52fb\u8cea\u78c1\u5834\u6aa2\u6e2c\u53ca\u5c4f\u853d\u975e\u52fb\u8cea\u78c1\u5834 \u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u4e0b\u7684\u5e72\u64fe \u5e72\u64fe\u6e90\u96a8\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5 \u6a21\u7d44PCB\uff0c\u8207\u6a21\u7d44\u56fa\u5b9a\u5728\u4e00\u8d77\u7684\u677f\u5b50\uff0c\u5100\u5668\u8a2d\u5099\uff0c\u7522\u54c1\u7b49\u3002\u4ed6\u5011\u548c\u78c1\u611f\u6e2c\u5668\u8996\u70ba\u540c\u4e00\u500b\u525b\u9ad4\uff0c\u96a8\u78c1\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5 \u5c0d\u611f\u6e2c\u5668\u9020\u6210\u786c\u78c1/\u8edf\u78c1\u5e72\u64fe\u3002\u9019\u4e9b\u5e72\u64fe\u53ef\u4ee5\u901a\u904e\u5730\u78c1\u6821\u6e96\u7b97\u6cd5\u52a0\u4ee5\u5f88\u597d\u7684\u6d88\u9664\u3002 \u5730\u78c1\u6821\u6e96 \u4e0b\u5716\u662f\u4e00\u500b\u5178\u578b\u7684\u5ba4\u5167\u78c1\u5834\u5206\u4f48\u5716\u3002\u53ef\u4ee5\u770b\u5230\uff1a\u4e00\u822c\u5ba4\u5167\u74b0\u5883\u7684\u7a7a\u9593\u78c1\u5834\u7578\u8b8a\u662f\u6bd4\u8f03\u56b4\u91cd\u7684\u3002 \u6ce8\u610f \u5728\u5ba4\u5167\u74b0\u5883\u4e0b\uff0c\u7a7a\u9593\u78c1\u5834\u5e72\u64fe\u5c24\u5176\u56b4\u91cd\uff0c\u800c\u4e14\u7a7a\u9593\u78c1\u5e72\u64fe\u4e26\u4e0d\u80fd\u901a\u904e\u6821\u6e96\u4f86\u6d88\u9664\u3002\u5728\u5ba4\u5167\u74b0\u5883\u4e0b\uff0c\u5118\u7ba1\u6a21\u7d44\u5167\u7f6e\u5747\u8cea\u78c1\u5834\u6aa2\u6e2c\u53ca\u5c4f\u853d\u6a5f\u5236\uff0c\u4f469\u8ef8\u6a21\u5f0f\u822a\u5411\u89d2\u7684\u6e96\u78ba\u5ea6\u5f88\u5927\u7a0b\u5ea6\u4e0a\u53d6\u6c7a\u65bc\u5ba4\u5167\u78c1\u5834\u7578\u8b8a\u7a0b\u5ea6\uff0c\u5982\u679c\u5ba4\u5167\u78c1\u5834\u74b0\u5883\u5f88\u5dee(\u5982\u96fb\u8166\u6a5f\u623f\u65c1\uff0c\u96fb\u78c1\u5be6\u9a57\u5ba4\uff0c\u8eca\u9593 \uff0c\u5730\u4e0b\u8eca\u5eab\u7b49\u7b49)\uff0c\u5373\u4f7f\u6821\u6e96\u5f8c\uff0c 9\u8ef8\u7684\u822a\u5411\u89d2\u7cbe\u5ea6\u53ef\u80fd\u9084\u4e0d\u59826\u8ef8\u751a\u81f3\u6703\u51fa\u73fe\u5927\u89d2\u5ea6\u8aa4\u5dee\u3002 6\u8ef8\u548c9\u8ef8\u6a21\u5f0f\u5340\u5225 \u6b63\u56e0\u70ba\u5730\u78c1\u5834\u975e\u5e38\u5bb9\u6613\u53d7\u5230\u7a7a\u9593\u5e72\u64fe\uff0c\u6240\u4ee5\u4f7f\u75289\u8ef8\u6a21\u5f0f\u6642\u61c9\u975e\u5e38\u6ce8\u610f\u3002\u4e0b\u8868\u5217\u8209\u4e86\u4e0d\u540c\u7684\u4f7f\u7528\u5834\u5408\u548c\u5de5\u6cc1\u4e0b\u7684\u4f7f\u7528\u5efa\u8b70 \u6a21\u5f0f \u9069\u7528\u74b0\u5883 \u5178\u578b\u61c9\u7528 \u512a\u9ede \u7f3a\u9ede \u6ce8\u610f\u4e8b\u9805 6\u8ef8\u6a21\u5f0f \u5404\u7a2e\u74b0\u5883 \u96f2\u53f0\u7b49\u4f4e\u52d5\u614b\u59ff\u614b\u6aa2\u6e2c\uff0c\u5ba4\u5167\u6a5f\u5668\u4eba 1. \u59ff\u614b\u89d2\u8f38\u51fa\u7a69\u5b9a\u6027\u597d 2. \u5b8c\u5168\u4e0d\u53d7\u78c1\u5834\u5e72\u64fe \u822a\u5411\u89d2\u96a8\u6642\u9593\u7de9\u6162\u6f02\u79fb \u822a\u5411\u89d2\u6703\u96a8\u6642\u9593\u7de9\u6162\u98c4\u79fb\u4e14\u7121\u6cd5\u88dc\u511f 9\u8ef8\u6a21\u5f0f \u7121\u78c1\u5e72\u64fe\u74b0\u5883 1.\u6307\u5357\u91dd\uff0c\u5c0b\u5317\u7cfb\u7d71 2. \u7a7a\u66e0\u4e14\u78c1\u5e72\u64fe\u8f03\u5c11\u7684\u5ba4\u5167\uff0c\u6a21\u7d44\u57fa\u672c\u4e0d\u6703\u5927\u7bc4\u570d\u5728\u5ba4\u5167\u79fb\u52d5(\u5178\u578b\u7684\u5982\u651d\u5f71\u68da\u5167\u52d5\u4f5c\u6355\u6349\uff0c\u4e14\u88ab\u6e2c\u8005\u4e0d\u6703\u505a\u5927\u7bc4\u570d\u8d70\u52d5) 1. \u822a\u5411\u89d2\u4e0d\u6703\u96a8\u6642\u9593\u6f02\u79fb 2.\u4e00\u65e6\u6aa2\u6e2c\u5230\u5730\u78c1\u5834\u53ef\u5feb\u901f\u4fee\u6b63\u822a\u5411\u89d2\u6307\u5317 \u4efb\u4f55\u78c1\u5e72\u64fe\u90fd\u6703\u51fa\u73fe\u822a\u5411\u89d2\u6e96\u78ba\u5ea6\u4e0b\u964d\u3002\u5ba4\u5167\u5e72\u64fe\u56b4\u91cd\u60c5\u6cc1\u4e0b \u822a\u5411\u89d2\u7121\u6cd5\u6307\u5411\u6b63\u78ba\u65b9\u5411\u3002\u53e6\u5916\uff0c\u79fb\u52d5\u6a5f\u5668\u4eba\u7684\u91d1\u5c6c\u7d50\u69cb\u548c\u96fb\u6a5f\u904b\u884c\u6642\u6703\u7522\u751f\u975e\u5e38\u5f37\u7684\u78c1\u5e72\u64fe\uff0c\u6240\u4ee5\u79fb\u52d5\u6a5f\u5668\u4eba\u5e73\u53f0\u4e0d\u9069\u7528\u65bc9\u8ef8\u6a21\u5f0f\u3002 \u9996\u6b21\u4f7f\u7528\u524d\u9700\u8981\u6821\u6e96\u5730\u78c1\u611f\u6e2c\u5668 \u6a21\u7d44\u7684\u81ea\u52d5\u5730\u78c1\u6821\u6e96\u7cfb\u7d71\u53ea\u80fd\u8655\u7406\u548c\u6a21\u7d44\u5b89\u88dd\u5728\u4e00\u8d77\u7684\uff0c\u56fa\u5b9a\u7684\u78c1\u5834\u5e72\u64fe\u3002\u5b89\u88dd\u74b0\u5883\u5982\u679c\u6709\u78c1\u5834\u5e72\u64fe\uff0c\u9019\u7a2e\u5e72\u64fe\u5fc5\u9808\u662f\u56fa\u5b9a\u7684\uff0c\u4e26\u4e14\u9019\u500b\u5e72\u64fe\u78c1\u5834\u8207\u6a21\u7d44 \u5b89\u88dd\u4e4b\u5f8c\u4e0d\u6703\u518d\u767c\u751f\u8ddd\u96e2\u8b8a\u5316(\u4f8b\uff1a\u6a21\u7d44\u5b89\u88dd\u5728\u4e00\u500b\u9435\u6750\u6599\u4e4b\u4e0a\uff0c\u56e0\u70ba\u9435\u6703\u6709\u78c1\u5834\u5e72\u64fe\uff0c \u9019\u6642\u5c31\u9700\u8981\u628a\u9435\u8207\u6a21\u7d44\u4e00\u8d77\u65cb\u8f49\u6821\u6e96\uff0c\u4e26\u4e14\u9019\u500b\u9435\u5728\u4f7f\u7528\u7576\u4e2d\u662f\u4e0d\u6703\u548c\u7f85\u76e4\u518d\u5206\u958b\u7684(\u767c\u751f\u76f8\u5c0d\u4f4d\u79fb)\uff0c\u4e00 \u65e6\u5206\u958b\u662f\u9700\u8981\u518d\u91cd\u65b0\u6821\u6e96\u3002\u5982\u679c\u9019\u500b\u9435\u5927\u5c0f\u662f\u4e0d\u56fa\u5b9a\u7684\uff0c\u6216\u8207\u7f85\u76e4\u7684\u8ddd\u96e2\u8b8a\u5316\u4e5f\u4e0d\u662f\u56fa\u5b9a \u7684\uff0c\u9019\u7a2e\u5e72\u64fe\u662f\u7121\u6cd5\u6821\u6e96\uff0c\u5373\u4f7f\u6821\u6e96\u6210\u529f\uff0c\u4e5f\u6703\u7cbe\u5ea6\u975e\u5e38\u5dee\uff0c\u53ea\u80fd\u907f\u800c\u9060\u4e4b\u5b89\u88dd\u3002\u5b89\u5168\u8ddd\u96e2\u63a7\u5236\u5728 40CM \u4ee5\u4e0a)\u3002 \u6821\u6e96\u65b9\u6cd5 \u672c\u6a21\u7d44\u6574\u5408\u4e86\u4e3b\u52d5\u7121\u5e72\u9810\u5730\u78c1\u6821\u6e96\u7b97\u6cd5,\u6a21\u7d44\u6703\u81ea\u52d5\u6536\u96c6\u5730\u78c1\u5834\u8cc7\u8a0a\u4e26\u9032\u884c\u786c\u78c1\u8edf\u78c1\u6821\u6e96\u53c3\u6578\u4f30\u8a08\uff0c\u6821\u6e96\u6210\u529f\u5f8c\u6821\u6e96\u8cc7\u8a0a\u6703\u4fdd\u5b58\u5728\u6a21\u7d44Flash\u4e0a\u3002 \u7528\u6236\u7121\u9808\u4efb\u4f55\u64cd\u4f5c/\u6307\u4ee4\u5373\u53ef\u5be6\u73fe\u5730\u78c1\u6821\u6e96 \u3002\u9996\u6b21\u4f7f\u7528\u6642\uff0c\u6a21\u7d44\u6703\u81ea\u52d5\u63a1\u96c6\u5468\u570d\u5730\u78c1\u5834\uff0c\u4e26\u5617\u8a66\u8a08\u7b97\u5730\u78c1\u611f\u6e2c\u5668\u6821\u6e96\u53c3\u6578\u3002\u7576\u9996\u6b21\u4f7f\u7528\u6a21\u7d44\u4e26\u4e14\u9700\u8981\u4f7f\u75289\u8ef8\u6a21\u5f0f\u6642\uff0c\u61c9\u9032\u884c\u5982\u4e0b\u6821\u6e96\u64cd\u4f5c\uff1a \u5728\u76e1\u91cf\u5c0f\u7bc4\u570d\u5167\uff0c\u7de9\u6162\u7684\u8b93\u6a21\u7d44\u904b\u52d5\u548c\u65cb\u8f49\uff0c\u6216\u8005\u9032\u884c8\u5b57\u904b\u52d5 \u6216\u8005\u5206\u5225\u7e5e\u6bcf\u500b\u8ef8360\u5ea6\uff0c\u8b93\u6a21\u7d44\u7d93\u6b77\u76e1\u91cf\u591a\u7684\u59ff\u614b\u3002\u4e00\u822c\u60c5\u6cc1\u4e0b\uff0c\u5982\u679c\u5730\u78c1\u5e72\u64fe\u5728\u53ef\u63a5\u53d7\u7684\u7bc4\u570d\u5167\uff0c\u5373\u53ef\u5b8c\u6210\u6821\u6e96\u3002\u5982\u679c\u5f8c\u9762\u5728\u540c\u6a23\u5730\u78c1\u74b0\u5883\u4e0b(\u540c\u5730\u9ede)\uff0c\u5247\u7121\u9700\u518d\u6b21\u6821\u6e96\u3002\u5982\u679c\u59cb\u7d42\u6c92\u80fd\u6210\u529f\u6821\u6e96\u6a21\u7d44\uff0c\u8aaa\u660e\u5468\u570d\u5730\u78c1\u5834\u5e72\u64fe\u6bd4\u8f03\u5927\u3002 \u5730\u78c1\u6821\u6e96\u72c0\u614b\u53ef\u4ee5\u4f7f\u7528AT\u6307\u4ee4\u4f86\u67e5\u770b\uff1a \u767c\u9001 AT+INFO=HSI \u6307\u4ee4\uff0c\u6a21\u7d44\u6703\u6253\u5370\u7576\u524d\u5730\u78c1\u6821\u6e96\u7cfb\u7d71\u72c0\u614b\uff1a \u53c3\u6578\u986f\u793a \u610f\u7fa9 \u8aaa\u660e valid \u6709\u6548\u6a19\u8a8c 0: \u4e0d\u5b58\u5728\u6709\u6548\u6821\u6e96\u53c3\u6578(\u6c92\u6709\u6821\u6e96\u6216\u8005\u5f9e\u4f86\u6c92\u6709\u6821\u6e96\u6210\u529f\u904e)\u3002\u975e0\uff1a\u5730\u78c1\u6821\u6e96\u5b8c\u6210 fiterr \u64ec\u5408\u6b98\u5dee \u6b98\u5dee\u8d8a\u5c0f\uff0c\u8aaa\u660e\u53c3\u6578\u64ec\u5408\u6548\u679c\u8d8a\u597d\uff0c\u901a\u5e38\u57280.03\u4ee5\u4e0b\u8aaa\u660e\u6821\u6e96\u7d50\u679c\u5df2\u7d93\u8db3\u5920\u597d\u3002\u5982\u679c\u64ec\u5408\u7d50\u679c\u59cb\u7d42>0.1\uff0c\u8aaa\u660e\u5730\u78c1\u5e72\u64fe\u5f88\u5927\uff0c\u6700\u597d\u518d\u6b21\u6821\u6e96\u4ee5\u671f\u5f97\u5230\u66f4\u597d\u7684\u6821\u6e96\u7d50\u679c\u3002\u64ec\u5408\u6b98\u5dee\u6703\u96a8\u8457\u6642\u9593\u7de9\u6162\u589e\u9577\u3002 flux \u7576\u5730\u78c1\u5834 \u6700\u8fd1\u4e00\u6b21\u64ec\u5408\u5668\u4f30\u8a08\u51fa\u7684\u5730\u78c1\u5834\u5f37 \uff0c\u55ae\u4f4d\u70bauT inclination \u7576\u5730\u78c1\u50be\u89d2 \u6700\u8fd1\u4e00\u6b21\u64ec\u5408\u5668\u4f30\u8a08\u51fa\u7684\u78c1\u50be\u89d2\uff0c\u55ae\u4f4d\u70ba\u00b0 \u96d6\u7136\u5730\u78c1\u53c3\u6578\u4f30\u8a08\u53ef\u4ee5\u5728\u7dda\u81ea\u52d5\u63a1\u96c6\u6578\u64da\uff0c\u81ea\u52d5\u7684\u52d5\u614b\u64ec\u5408\u5730\u78c1\u6821\u6e96\u53c3\u6578\u3002\u4f46\u662f\u5982\u679c\u5468\u570d\u5730\u78c1\u74b0\u5883\u6539\u8b8a(\u6bd4\u5982\u9700\u8981\u5230\u53e6\u5916\u623f\u9593\u6216\u8005\u5ba4\u5167\u5ba4\u5916\u5207\u63db)\uff0c\u6700\u597d\u9084\u9700\u91cd\u8907\u624b\u5de5\u6821\u6e96\u64cd\u4f5c\u3002 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6a21\u7d44\u4e0a\u96fb\u5f8c\uff0c\u9ed8\u8a8d\u6309\u51fa\u5ee0\u5e40\u7387(\u901a\u5e38\u70ba100)\u8f38\u51fa\u5e40\u6578\u64da\uff0c\u5e40\u683c\u5f0f\u5982\u4e0b\uff1a \u57df\u540d\u7a31 \u503c \u9577\u5ea6(\u5b57\u7bc0) \u8aaa\u660e PRE 0x5A 1 \u56fa\u5b9a\u70ba0x5A TYPE 0xA5 1 \u56fa\u5b9a\u70ba0xA5 LEN 1-512 2 \u5e40\u4e2d\u6578\u64da\u57df\u7684\u9577\u5ea6\uff0c\u4f4e\u5b57\u7bc0\u5728\u524d\u3002\u9577\u5ea6\u8868\u793a\u6578\u64da\u57df(PAYLOAD)\u7684\u9577\u5ea6\uff0c\u4e0d\u5305\u542b PRE , TYPE , LEN , CRC \u5b57\u6bb5\u3002 CRC - 2 \u9664CRC \u672c\u8eab\u5916\u5176\u9918\u6240\u6709\u5b57\u6bb5( PRE,TYPE,LEN, PAYLOAD )\u5e40\u6578\u64da\u768416 \u4f4dCRC \u6821\u9a57\u548c\u3002LSB(\u4f4e\u5b57\u7bc0\u5728\u524d) PAYLOAD - 1-512 \u4e00\u5e40\u651c\u5e36\u7684\u6578\u64da\u3002PAYLOAD\u57df \u7531\u82e5\u5e72\u500b**\u5b50\u6578\u64da\u5305**\u7d44\u6210\u3002\u6bcf\u500b\u6578\u64da\u5305\u5305\u542b\u6578\u64da\u5305\u6a19\u7c64\u548c\u6578\u64da\u5169\u90e8\u5206\u3002\u6a19\u7c64\u6c7a\u5b9a\u4e86\u6578\u64da\u7684\u985e\u578b\u53ca\u9577\u5ea6\u3002 CRC\u5be6\u73fe\u51fd\u6578\uff1a /* currectCrc: previous crc value, set 0 if it's first section src: source stream data lengthInBytes: length */ static void crc16_update(uint16_t *currectCrc, const uint8_t *src, uint32_t lengthInBytes) { uint32_t crc = *currectCrc; uint32_t j; for (j=0; j < lengthInBytes; ++j) { uint32_t i; uint32_t byte = src[j]; crc ^= byte << 8; for (i = 0; i < 8; ++i) { uint32_t temp = crc << 1; if (crc & 0x8000) { temp ^= 0x1021; } crc = temp; } } *currectCrc = crc; } \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd \u6578\u64da\u6a19\u7c64 \u6578\u64da\u5305\u9577\u5ea6(\u5305\u542b\u6a19\u7c641\u5b57\u7bc0) \u540d\u7a31 \u5099\u8a3b 0x91 76 IMUSOL(IMU\u6578\u64da\u96c6\u5408) HI221\u8f38\u51fa\u6578\u64da\u5305 0x62 \u8b8a\u9577 GWSOL(\u7121\u7dda\u7bc0\u9ede\u6578\u64da\u96c6\u5408) HI221Dongle\u8f38\u51fa\u6578\u64da\u5305 0X91( IMUSOL) \u517176\u5b57\u7bc0\u3002\u6574\u5408\u4e86IMU\u7684\u611f\u6e2c\u5668\u539f\u59cb\u8f38\u51fa\u548c\u59ff\u614b\u89e3\u7b97\u6578\u64da\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x91 1 uint8_t 1 - ID 2 - 6 - \u4fdd\u7559 8 uint32_t 4 ms \u6642\u9593\u6233\u8cc7\u8a0a\uff0c\u5f9e\u7cfb\u7d71\u958b\u6a5f\u958b\u59cb\u7d2f\u52a0\uff0c\u6bcf\u6beb\u79d2\u589e\u52a01 12 float 12 1G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) X,Y,Z\u8ef8\u7684\u52a0\u901f\u5ea6 24 float 12 deg/s X,Y,Z\u8ef8\u7684\u89d2\u901f\u5ea6 36 float 12 uT X,Y,Z\u8ef8\u7684\u78c1\u5834\u5f37\u5ea6 48 float 12 deg \u7bc0\u9ede\u6b50\u62c9\u89d2\u96c6\u5408, \u9806\u5e8f\u70ba\uff1a\u6a6b\u6efe\u89d2(Roll)\uff0c\u4fef\u4ef0\u89d2(Pitch)\uff0c\u822a\u5411\u89d2(Yaw) 60 float 16 - \u7bc0\u9ede\u56db\u5143\u6578\u96c6\u5408,\u9806\u5e8f\u70baWXYZ 0x62(GWSOL) \u7121\u7dda\u63a5\u6536\u6a5f\u7684\u9810\u8a2d\u6578\u64da\u5305\u3002\u6578\u64da\u5305\u524d8\u500b\u5b57\u7bc0\u70ba\u63a5\u6536\u6a5f\u8cc7\u8a0a\u3002\u5f8c\u9762\u5206\u70baN\u500b\u6578\u64da\u584a\u3002\u6bcf\u500b\u6578\u64da\u584a\u63cf\u8ff0\u4e00\u500b\u7bc0\u9ede\u7684\u59ff\u614b\u6578\u64da(\u6700\u5927\u652f\u63f416\u500b\u7bc0\u9ede)\u3002\u6bcf\u500b\u6578\u64da\u584a\u5927\u5c0f\u70ba76\u5b57\u7bc0\uff0c\u6578\u64da\u7d50\u69cb\u540c0x91\u3002 \u6b64\u5354\u8b70\u5305\u6578\u64da\u91cf\u8f03\u5927\uff0c\u5efa\u8b70\u5c07HI221Dongle\u9b91\u7387\u8abf\u6574\u81f3460800\u6216921600\u4ee5\u7372\u5f97\u6700\u9ad8\u7684\u5e40\u7387\u8f38\u51fa\u3002\u683c\u5f0f\u5982\u4e0b\uff1a \u5b57\u7bc0\u504f\u79fb \u5927\u5c0f \u985e\u578b \u55ae\u4f4d \u8aaa\u660e 0 1 uint8_t - \u6578\u64da\u5305\u6a19\u7c64:0x62 1 1 uint8_t - GWID, \u63a5\u6536\u6a5f\u7db2\u7d61ID 2 1 uint8_t - N, \u6b64\u5e40\u5305\u542b\u7bc0\u9ede\u6578\u64da\u584a\u500b\u6578 3 5 - - \u4fdd\u7559 ----\u7bc0\u9ede\u6578\u64da\u584a\u958b\u59cb---- - - - \u6578\u64da\u7d50\u69cb\u540c0x91 8+76*N(N=0-15) 1 uint8_t - \u6578\u64da\u5305\u6a19\u7c64:0x91 9+76*N(N=0-15) 1 uint8_t - \u7bc0\u9edeN\u7684ID 10+76*N 10 - - \u4fdd\u7559 20+76*N 12 float - \u7bc0\u9edeN\u4e09\u8ef8\u52a0\u901f\u5ea6 32+76*N 12 float - \u7bc0\u9edeN\u4e09\u8ef8\u89d2\u901f\u5ea6 44+76*N 12 float - \u7bc0\u9edeN\u8ef8\u78c1\u5834\u5f37\u5ea6 56+76*N 12 float - \u7bc0\u9edeN\u6b50\u62c9\u89d2 68+76*N 16 float - \u7bc0\u9edeN\u56db\u5143\u6578 ----\u7bc0\u9ede\u6578\u64da\u584a\u7d50\u675f---- - - - ----------- 0x63(GWSOL FOR RAW DATA) \u7121\u7dda\u63a5\u6536\u6a5f\u652f\u6301\u6b64\u6578\u64da\u5305\uff0c\u70ba\u9054\u6210 400Hz \u7684\u5e40\u7387\uff0c\u50c5\u7559\u4e0b\u52a0\u901f\u5ea6\u8207\u89d2\u901f\u5ea6\u3002\u6578\u64da\u5305\u524d8\u500b\u5b57\u7bc0\u70ba\u63a5\u6536\u6a5f\u8cc7\u8a0a\u3002\u5f8c\u9762\u5206\u70baN\u500b\u6578\u64da\u584a\u3002\u6bcf\u500b\u6578\u64da\u584a\u63cf\u8ff0\u4e00\u500b\u7bc0\u9ede\u7684\u59ff\u614b\u6578\u64da(\u6700\u5927\u652f\u630116\u500b\u7bc0\u9ede)\u3002\u6bcf\u500b\u6578\u64da\u584a\u5927\u5c0f\u70ba24\u5b57\u7bc0\u3002 \u6b64\u5354\u8b70\u5305\u6578\u64da\u91cf\u8f03\u5927\uff0c\u5efa\u8b70\u5c07\u9b91\u7387\u8abf\u6574\u81f3 460800 \u7372\u5f97\u7a69\u5b9a\u7684\u5e40\u7387\u8f38\u51fa\u3002\u683c\u5f0f\u5982\u4e0b\uff1a \u5b57\u7bc0\u504f\u79fb Bytes \u985e\u578b \u55ae\u4f4d \u8aaa\u660e 0 1 uint8_t - \u6578\u64da\u5305\u6a19\u7c64:0x62 1 1 uint8_t - GWID, \u63a5\u6536\u6a5f\u7db2\u7d61ID 2 1 uint8_t - N, \u6b64\u5e40\u5305\u542b\u7bc0\u9ede\u6578\u64da\u584a\u500b\u6578 3 5 - - \u4fdd\u7559 ----\u7bc0\u9ede\u6578\u64da\u584a\u958b\u59cb---- - - - \u6578\u64da\u7d50\u69cb\u540c0x91 8+24*N(N=0-15) 1 uint8_t - \u6578\u64da\u5305\u6a19\u7c64:0x91 9+24*N(N=0-15) 1 uint8_t - \u7bc0\u9edeN\u7684ID 10+24*N 10 - - \u4fdd\u7559 20+24*N 6 int16_t - \u7bc0\u9edeN\u4e09\u8ef8\u52a0\u901f\u5ea6 26+24*N 6 int16_t - \u7bc0\u9edeN\u4e09\u8ef8\u89d2\u901f\u5ea6 ----\u7bc0\u9ede\u6578\u64da\u584a\u7d50\u675f---- - - - ----------- \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u51fa\u5ee0\u9ed8\u8a8d\u4e00\u5e40\u4e2d\u651c\u5e36\u6578\u64da\u5305\u6578\u64da\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7522\u54c1 \u9ed8\u8a8d\u8f38\u51fa\u6578\u64da\u5305 HI221 0x91 HI221Dongle 0x62 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 \u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517182\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991876\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 4C 00 6C 51 91 00 A0 3B 01 A8 02 97 BD BB 04 00 9C A0 65 3E A2 26 45 3F 5C E7 30 3F E2 D4 5A C2 E5 9D A0 C1 EB 23 EE C2 78 77 99 41 AB AA D1 C1 AB 2A 0A C2 8D E1 42 42 8F 1D A8 C1 1E 0C 36 C2 E6 E5 5A 3F C1 94 9E 3E B8 C0 9E BE BE DF 8D BE \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 4C 00 : (0x00<<8) + 0x4C = 76 \u5e40CRC\u6821\u9a57\u503c: 6C 51 :(0x51<<8) + 0x6C = 0x516C \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x516C. \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da \u5f9e 0x91 \u958b\u59cb\u70ba\u6578\u64da\u5305\u7684\u6578\u64da\u57df\u3002\u5728C\u8a9e\u8a00\u4e2d\u53ef\u4ee5\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u4f86\u65b9\u4fbf\u7684\u8b80\u53d6\u6578\u64da\uff1a \u5b9a\u7fa90x91\u6578\u64da\u5305\u7d50\u69cb\u9ad4\u5982\u4e0b\uff1a __packed typedef struct { uint8_t tag; /* data packet tag */ uint8_t id; uint8_t rev[6]; /* reserved */ uint32_t ts; /* timestamp */ float acc[3]; float gyr[3]; float mag[3]; float eul[3]; /* eular angles: Roll,Pitch,Yaw */ float quat[4]; /* quaternion */ }id0x91_t; __packed \u70ba\u7de8\u8b6f\u5668\u95dc\u9375\u5b57(Keil\u4e0b)\uff0c\u8868\u793a\u7d50\u69cb\u9ad4\u6309\u5b57\u7bc0\u7dca\u5c0d\u9f4a\uff0c\u7d50\u69cb\u9ad4\u6bcf\u4e00\u500b\u5143\u7d20\u4e00\u4e00\u5c0d\u61c90x91\u6578\u64da\u5305\u7684\u7d50\u69cb\u5b9a\u7fa9\u3002\u63a5\u6536\u6578\u64da\u6642\u5c07\u63a5\u6536\u5230\u7684\u9663\u5217\u76f4\u63a5memcpy\u5230\u7d50\u69cb\u9ad4\u5373\u53ef\uff1a(\u6ce8\u610f\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u6642\u5fc5\u98084\u5b57\u7bc0\u5c0d\u9f4a), \u5176\u4e2d buf \u6307\u5411\u5e40\u982d, buf[6] \u6307\u5411\u5e40\u4e2d\u6578\u64da\u57df \u3002 /* \u63a5\u6536\u6578\u64da\u4e26\u4f7f\u75280x91\u6578\u64da\u5305\u7d50\u69cb\u5b9a\u7fa9\u4f86\u89e3\u91cb\u6578\u64da */ __align(4) id0x91_t dat; /* struct must be 4 byte aligned */ memcpy(&dat, &buf[6], sizeof(id0x91_t)); \u6700\u5f8c\u5f97\u5230dat\u6578\u64da\u7d50\u679c\uff1a id : 0 timestamp : 310205 acc : 0.224 0.770 0.691 gyr : -54.708 -20.077 -119.070 mag : 19.183 -26.208 -34.542 eul(R/P/Y) : 48.720 -21.014 -45.512 quat : 0.855 0.310 -0.310 -0.277 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x62 \u6578\u64da\u5305 \u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u5171166\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u9918160\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 A0 00 B5 DC 62 00 02 00 00 00 00 00 91 01 00 00 00 00 00 00 00 00 00 00 EC 51 B8 BD 12 83 40 3E 64 3B 8F 3F 33 33 E7 C2 CD CC 3C C1 33 33 0B C1 9A 99 99 41 9A 99 A9 40 CD CC 94 C1 80 D3 28 41 E8 CD 9B 40 B1 45 2C C0 78 97 7E 3F 83 20 BE 3D 14 5C 24 3D 32 69 DF BC 91 04 00 00 00 00 00 00 00 00 00 00 CD CC CC 3E 6F 12 83 3C 56 0E 6D 3F 9A 99 C7 C2 33 33 63 41 9A 99 35 42 00 00 94 41 33 33 63 41 00 00 D0 C1 F6 E6 A1 40 C0 93 A6 C1 FB 73 F5 C0 00 1D 7B 3F C8 E7 FF 3C DA 6C 3B BE 5E 99 6C BD \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: A0 00 : (0x00<<8) + 0xA0 = 160 \u5e40CRC\u6821\u9a57\u503c: B5 DC :(0xDC<<8) + 0xB5 = 0xDCB5 \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC, \u904e\u7a0b\u540c0x91\u6578\u64da\u5305 \u8a08\u7b97\u5f97\u5230CRC\u503c\u70ba0xDCB5. \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u7372\u5f970x62\u5e40\u7db2\u6bb5\uff0c\u7bc0\u9ede\u6578\u7b49\u8cc7\u8a0a uint8_t gwsol_tag = buf[6]; uint8_t gwid = buf[7]; /* GWID\u7db2\u6bb5 / uint8_t node_cnt = buf[8]; / \u63a5\u6536\u5230\u7684\u7bc0\u9ede\u6578 */ GWSOL\u6a19\u7c64: 0x62 = 0x62 \u63a5\u6536\u6a5f\u7db2\u6bb5: 0x00 = 0 \u672c\u5e40\u7bc0\u9ede\u6578: 0x02 = 2 \u7b2c\u56db\u6b65\uff1a\u63a5\u6536\u6bcf\u500b\u7bc0\u9ede\u6578\u64da 0x62\u6578\u64da\u5305\u5be6\u969b\u4e0a\u662f\u591a\u500b0x91\u6578\u64da\u5305\u62fc\u5728\u4e00\u8d77\uff0c\u982d\u90e8\u518d\u52a0\u63a5\u6536\u6a5f\u6d88\u606f\u7d44\u6210\u3002\u5728C\u8a9e\u8a00\u4e2d\u53ef\u4ee5\u5b9a\u7fa90x91\u7d50\u69cb\u9ad4\u4f86\u65b9\u4fbf\u7684\u8b80\u53d6\u6578\u64da\uff1a \u5b9a\u7fa90x91\u6578\u64da\u5305\u7d50\u69cb\u9ad4\u5982\u4e0b\uff1a(\u4ee5Keil\u70ba\u4f8b) __packed typedef struct { uint8_t tag; /* data packet tag */ uint8_t id; uint8_t rev[6]; /* reserved */ uint32_t ts; /* timestamp */ float acc[3]; float gyr[3]; float mag[3]; float eul[3]; /* eular angles:R/P/Y */ float quat[4]; /* quaternion */ }id0x91_t; __packed \u70ba\u7de8\u8b6f\u5668\u95dc\u9375\u5b57(Keil\u4e0b)\uff0c\u8868\u793a\u7d50\u69cb\u9ad4\u6309\u5b57\u7bc0\u7dca\u5c0d\u9f4a\uff0c\u7d50\u69cb\u9ad4\u6bcf\u4e00\u500b\u5143\u7d20\u4e00\u4e00\u5c0d\u61c90x91\u6578\u64da\u5305\u7684\u7d50\u69cb\u5b9a\u7fa9\u3002\u63a5\u6536\u6578\u64da\u6642\u5c07\u63a5\u6536\u5230\u7684\u9663\u5217\u76f4\u63a5memcpy\u5230\u7d50\u69cb\u9ad4\u5373\u53ef\uff1a(\u6ce8\u610f\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u6642\u5fc5\u98084\u5b57\u7bc0\u5c0d\u9f4a), \u5176\u4e2d buf \u6307\u5411\u6578\u64da\u982d\u3002 /* \u63a5\u6536\u6578\u64da\u4e26\u4f7f\u75280x91\u6578\u64da\u5305\u7d50\u69cb\u5b9a\u7fa9\u4f86\u89e3\u91cb\u6578\u64da */ __align(4) id0x91_t id0x91; /* struct must be 4 byte aligned */ int i; for(i=0; i<node_cnt; i++) { memcpy(&id0x91, &buf[8+6] + i*sizeof(id0x91_t), sizeof(id0x91_t)); /* 8+6: 6\u70ba\u5e40\u982d\u8cc7\u8a0a\u9577\u5ea6\uff0c8\u70ba0x62\u6578\u64da\u5305\u4e2d\u7684\u63a5\u6536\u6a5f\u5305\u982d\u9577\u5ea6 */ /*\u8655\u7406\u8a72\u5305\u6578\u64da ... printf(\"node_id:%d\\r\\n\", id0x91->id); */ } \u6700\u5f8c\u5f97\u5230\u6578\u64da\u7d50\u679c: \u9019\u5e40\u6578\u64da\u5305\u542b2\u500b\u7bc0\u9ede\uff0cID\u5206\u5225\u70ba1\u548c4\uff0c\u5177\u9ad4\u8cc7\u8a0a\u5982\u4e0b\uff1a id : 1 timestamp : 0 acc : -0.090 0.188 1.119 gyr : -115.600 -11.800 -8.700 mag : 19.200 5.300 -18.600 eul(R/P/Y) : 10.552 4.869 -2.692 quat : 0.994 0.093 0.040 -0.027 id : 4 timestamp : 0 acc : 0.400 0.016 0.926 gyr : -99.800 14.200 45.400 mag : 18.500 14.200 -26.000 eul(R/P/Y) : 5.059 -20.822 -7.670 quat : 0.981 0.031 -0.183 -0.058 AT\u6307\u4ee4 \u7576\u4f7f\u7528\u5e8f\u5217\u57e0\u8207\u6a21\u7d44\u901a\u8a0a\u6642, \u6a21\u7d44\u652f\u63f4AT \u6307\u4ee4\u96c6\u914d\u7f6e/\u67e5\u770b\u6a21\u7d44\u53c3\u6578\u3002AT \u6307\u4ee4\u7e3d\u4ee5ASCII \u78bc AT \u958b\u982d\uff0c\u5f8c\u9762\u8ddf\u63a7\u5236\u5b57\u7b26\uff0c\u6700 \u5f8c\u4ee5\u56de\u8eca\u63db\u884c \\r\\n \u7d50\u675f\u3002\u53ef\u4f7f\u7528\u5e8f\u5217\u57e0\u8abf\u8a66\u52a9\u624b\u9032\u884c\u6e2c\u8a66\uff1a \u901a\u7528\u6a21\u7d44 AT\u6307\u4ee4\u5982\u4e0b \u6307\u4ee4 \u529f\u80fd \u6389\u96fb\u4fdd\u5b58(Y) \u7acb\u5373\u751f\u6548(Y),\u5fa9\u4f4d\u751f\u6548(R) \u5099\u8a3b AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID Y R AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a N Y AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u983b\u7387 Y R AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387 Y R AT+EOUT \u6578\u64da\u8f38\u51fa\u958b\u95dc N Y AT+RST \u5fa9\u4f4d\u6a21\u7d44 N Y AT+TRG \u55ae\u6b21\u8f38\u51fa\u89f8\u767c N Y \u4e0d\u652f\u63f4 AT+SETPTL \u8a2d\u7f6e\u8f38\u51fa\u6578\u64da\u5305 Y Y \u9810\u8a2dHI221:0x91, HI221 Dongle:0x62 AT+MODE \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f Y R AT+GWID \u8a2d\u7f6e\u7121\u7dda\u63a5\u6536\u5668ID Y R AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID \u4f8b AT+ID=1 AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a\uff0c\u5305\u62ec\u7522\u54c1\u578b\u865f\uff0c\u7248\u672c\uff0c\u97cc\u9ad4\u767c\u4f48\u65e5\u671f\u7b49\u3002 AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u7387\u3002\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548 \u4f8b \u8a2d\u7f6e\u5e8f\u5217\u57e0\u8f38\u51fa\u901f\u7387\u70ba100Hz: AT+ODR=100 \u6ce8\u610f\uff1a\u7576\u8f38\u51fa\u5e40\u7387\u8a2d\u7f6e\u6bd4\u8f03\u9ad8\u6642(\u5982200),\u9ed8\u8a8d\u7684115200\u9b91\u7387\u53ef\u80fd\u4e0d\u6eff\u8db3\u8f38\u51fa\u983b\u5bec\u8981\u6c42\uff0c\u6b64\u6642\u9700\u8981\u5c07\u6a21\u7d44\u9b91\u7387\u8a2d\u9ad8(\u5982921600)\u5f8c\uff0c\u6a21\u7d44\u624d\u80fd\u7a69\u5b9a\u8f38\u51fa\u9ad8\u5e40\u7387\u3002 AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387\uff0c\u53ef\u9078\u503c\uff1a 9600/115200/460800/921600 \u7576\u9023\u63a5\u8d85\u904e2\u500b\u7bc0\u9ede\uff0c\u767c\u73fe\u5e40\u7387\u4e0d\u8db3100Hz\uff0c\u9808\u5c07BAUD\u8a2d\u5b9a\u70ba460800 \u4f8b AT+BAUD=115200 \u6ce8\u610f \u4f7f\u7528\u6b64\u6307\u4ee4\u9700\u8981\u7279\u5225\u6ce8\u610f\uff0c\u8f38\u5165\u932f\u8aa4\u9b91\u7387\u5f8c\u6703\u5c0e\u81f4\u7121\u6cd5\u548c\u6a21\u7d44\u901a\u8a0a \u9b91\u7387\u53c3\u6578\u8a2d\u7f6e\u597d\u5f8c\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548\u3002 CH-Center \u8edf\u9ad4\u7684\u9b91\u7387\u4e5f\u8981\u505a\u76f8\u61c9\u4fee\u6539\u3002 \u5347\u7d1a\u97cc\u9ad4\u6642\uff0c\u9700\u8981\u5207\u63db\u56de115200 \u9b91\u7387\u3002 AT+EOUT \u5e8f\u5217\u57e0\u8f38\u51fa\u958b\u95dc \u4f8b \u6253\u958b\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=1 \u95dc\u9589\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=0 AT+RST \u5fa9\u4f4d\u6a21\u7d44 \u4f8b AT+RST AT+GWID \u53ef\u901a\u904eAT+GWID\u6307\u4ee4\u914d\u7f6e\uff0cGWID\u5c6c\u6027\u6c7a\u5b9a\u4e86\u63a5\u6536\u5668\u548c\u7bc0\u9ede\u7684RF\u983b\u7387\uff0c\u53ea\u6709\u7bc0\u9ede\u7684GWID \u548c\u63a5\u6536\u5668\u7684 GWID\u76f8\u540c\u6642\u6a21\u7d44\u548c\u63a5\u6536\u5668\u624d\u80fd\u901a\u8a0a\u3002GWID\u76f8\u7576\u65bc\u7121\u7dda\u7db2\u6bb5\uff0c\u7576\u5728\u540c\u4e00\u5730\u9ede\u4f7f\u7528\u591a\u500b\u63a5\u6536\u6a5f\u7d44\u6210\u591a\u500b\u661f\u5f62\u7db2\u7d61\u6642\uff0c\u5fc5\u9808\u4fdd\u8b49\u6bcf\u500b\u63a5\u6536\u5668\u7684GWID(\u7db2\u6bb5)\u4e0d\u540c\u3002 \u4f8b \u4e09\u500bHI221\u7bc0\u9ede\u548c\u4e00\u500bHI221 Dongle\u63a5\u6536\u6a5f\u3002 \u5c07HI221 Dongle\u7db2\u6bb5\u8a2d\u7f6e\u70baGWID=0\uff0c \u5c073\u500bHI221\u7bc0\u9ede\u7684\u81ea\u8eabID\u5206\u5225\u8a2d\u7f6e\u70ba 0,1,2 \u4e26\u9023\u63a5\u5230HI221 Dongle\u4e0a\uff1a \u786c\u9ad4\u6e96\u5099\uff1a \u4e00\u6839USB\u7dda, \u4e00\u53f0\u5b89\u88dd\u597d CH-Center \u8edf\u9ad4\u7684PC\u3002 USB\u7dda\u9023\u63a5\u63a5\u6536\u6a5f(HI221 Dongle)\u5230PC,\u6253\u958b CH-Center \u8edf\u9ad4\u914d\u7f6e\u754c\u9762, \u4f9d\u6b21\u767c\u9001AT\u6307\u4ee4\uff1a AT+GWID=0 AT+RST USB\u7dda\u9023\u63a5\u7bc0\u9ede0(HI221)\u5230PC,\u6253\u958b CH-Center \u8edf\u9ad4\u914d\u7f6e\u754c\u9762, \u4f9d\u6b21\u767c\u9001AT\u6307\u4ee4\uff1a AT+GWID=0 AT+ID=0 AT+RST USB\u7dda\u9023\u63a5\u7bc0\u9ede1(HI221)\u5230PC,\u6253\u958b CH-Center \u8edf\u9ad4\u914d\u7f6e\u754c\u9762, \u4f9d\u6b21\u767c\u9001AT\u6307\u4ee4\uff1a AT+GWID=0 AT+ID=1 AT+RST USB\u7dda\u9023\u63a5\u7bc0\u9ede2(HI221)\u5230PC,\u6253\u958b CH-Center \u8edf\u9ad4\u914d\u7f6e\u754c\u9762, ,\u4f9d\u6b21\u767c\u9001AT\u6307\u4ee4\uff1a AT+GWID=0 AT+ID=2 AT+RST \u8a3b\uff1a \u6700\u5f8c\u767c\u9001AT+RST\u662f\u56e0\u70ba\u6240\u6709\u914d\u7f6e\u66f4\u6539\u5f8c\u5fa9\u4f4d\u624d\u80fd\u751f\u6548\uff0c\u5982\u679c\u4e0d\u767c\u9001AT+RST\uff0c\u5247\u9700\u8981\u91cd\u65b0\u4e0a\u96fb\u751f\u6548\u3002 \u9023\u63a5\u5230\u6bcf\u4e00\u500b\u7bc0\u9ede\u548c\u63a5\u6536\u6a5f\u6642\u6700\u597d\u5c07\u5176\u4ed6\u8a2d\u5099\u62d4\u6389\uff0c\u907f\u514d\u591a\u5e8f\u5217\u57e0\u9078\u64c7\u932f\u8aa4\u3002 AT+MODE \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f \u4f8b \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u57286\u8ef8\u6a21\u5f0f(\u7121\u78c1\u6821\u6e96) AT+MODE=0 \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u57289\u8ef8\u6a21\u5f0f(\u5730\u78c1\u5834\u611f\u6e2c\u5668\u53c3\u8207\u822a\u5411\u89d2\u6821\u6b63) AT+MODE=1 \u9644\u9304A - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e \u672c\u7522\u54c1\u652f\u63f4\u5347\u7d1a\u97cc\u9ad4\u3002 \u97cc\u9ad4\u5347\u7d1a\u6b65\u9a5f: \u9023\u63a5\u6a21\u7d44\uff0c\u6253\u958b CH-Center \u8edf\u9ad4\uff0c\u5c07\u6a21\u7d44\u548c CH-Center \u8edf\u9ad4\u9b91\u7387\u90fd\u8a2d\u7f6e\u70ba115200. \u6253\u958b\u97cc\u9ad4\u5347\u7d1a\u7a97\u53e3 \u9ede\u64ca\"\u9023\u63a5\"\uff0c\u5982\u51fa\u73fe\u6a21\u7d44\u9023\u63a5\u8cc7\u8a0a\u3002\u5247\u8aaa\u660e\u5347\u7d1a\u7cfb\u7d71\u6e96\u5099\u5c31\u7dd2\uff0c\u9ede\u64ca\u6587\u4ef6\u9078\u64c7\u5668(\u2026)\u9078\u64c7\u526f\u6a94\u540d\u70ba.hex \u7684\u97cc\u9ad4 \u9ede\u64ca\"\u958b\u59cb\u7de8\u7a0b\"\u3002\u4e0b\u8f09\u5b8c\u6210\u5f8c\u6703\u63d0\u793a\u7de8\u7a0b\u5b8c\u6210\uff0c\u6b64\u6642\u95dc\u9589\u5e8f\u5217\u57e0\uff0c\u91cd\u65b0\u7d66\u6a21\u7d44\u4e0a\u96fb\uff0c\u6a21\u7d44\u5347\u7d1a\u5b8c\u6210\u3002","title":"HI221/HI221 Dongle \u7528\u6236\u624b\u518a"},{"location":"hi221/hi221/#hi221hi221-dongle","text":"HI221 \u7121\u7dda\u50b3\u8f38\u6a21\u7d44\u53ca\u63a5\u6536\u5668, Rev 1.0 HI221/HI221 Dongle \u7528\u6236\u624b\u518a \u7c21\u4ecb \u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb \u786c\u9ad4\u53ca\u5c3a\u5bf8(\u7bc0\u9ede) \u786c\u9ad4\u53c3\u6578 \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u9640\u87ba\u5100 \u52a0\u901f\u5ea6\u8a08 \u78c1\u611f\u6e2c\u5668\u53c3\u6578 \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578(UART) \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578(2.4G RF) \u611f\u6e2c\u5668\u6821\u6e96 \u5730\u78c1\u6821\u6e96 \u78c1\u5e72\u64fe\u5206\u985e 6\u8ef8\u548c9\u8ef8\u6a21\u5f0f\u5340\u5225 \u6821\u6e96\u65b9\u6cd5 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd 0X91( IMUSOL) 0x62(GWSOL) 0x63(GWSOL FOR RAW DATA) \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x62 \u6578\u64da\u5305 AT\u6307\u4ee4 AT+ID AT+INFO AT+ODR AT+BAUD AT+EOUT AT+RST AT+GWID AT+MODE \u9644\u9304A - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e","title":"HI221/HI221 Dongle \u7528\u6236\u624b\u518a"},{"location":"hi221/hi221/#_1","text":"H221/HI221 Dongle\u662f\u8d85\u6838\u96fb\u5b50\u63a8\u51fa\u7684\u4e00\u6b3e\u9ad8\u6027\u80fd\u3001\u5c0f\u9ad4\u7a4d\u3001\u4f4e\u5ef6\u9072\u7684\u6163\u6027\u6e2c\u91cf\u55ae\u5143\uff08IMU\uff09\uff0c\u672c\u7522\u54c1\u6574\u5408\u4e86\u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08\u3001\u4e09\u8ef8\u9640\u87ba\u5100\u4ee5\u53ca\u4e00\u6b3e\u4f4e\u529f\u8017\u5fae\u8655\u7406\u5668\u3002\u53ef\u8f38\u51fa\u7d93\u904e\u611f\u6e2c\u5668\u878d\u5408\u7b97\u6cd5\u8a08\u7b97\u5f97\u5230\u7684\u57fa\u65bc\u7576\u5730\u5730\u7406\u5750\u6a19\u7684\u4e09\u7dad\u65b9\u4f4d\u6578\u64da\uff0c\u5305\u542b\u6a6b\u6efe\u89d2\u3001\u4fef\u4ef0\u89d2\u4ee5\u53ca\u4ee5\u76f8\u5c0d\u7684\u822a\u5411\u89d2\u3002\u540c\u6642\u4e5f\u53ef\u4ee5\u8f38\u51fa\u539f\u59cb\u7684\u611f\u6e2c\u5668\u6578\u64da\u3002HI221 \u7531**HI221 Dongle(\u63a5\u6536\u6a5f)** \u548c **HI221(\u59ff\u614b\u6a21\u7d44)**\u7d44\u6210\u3002\u4e00\u500bHI221 Dongle\u548c\u6700\u591a16\u500bHI221\u6a21\u7d44\u7d44\u6210\u661f\u5f62\u7db2\u7d61\u7d50\u69cb\u3002\u6bcf\u500bHI221\u53ef\u8f38\u51fa\u6700\u9ad8\u9054100Hz\u7684\u5373\u6642\u59ff\u614b\u6578\u64da\u3002","title":"\u7c21\u4ecb"},{"location":"hi221/hi221/#_2","text":"","title":"\u7279\u6027"},{"location":"hi221/hi221/#_3","text":"\u4e09\u8ef8\u9640\u87ba\u5100, \u6700\u5927\u91cf\u7a0b: \u00b12000\u00b0/s \u8f38\u51fa\u901f\u7387 2000Hz \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08, \u6700\u5927\u91cf\u7a0b:\u00b18g \u8f38\u51fa\u901f\u7387 125Hz \u4e09\u8ef8\u5730\u78c1\u5834\u611f\u6e2c\u5668\uff0c\u6700\u5927\u91cf\u7a0b: 800mG \u5167\u90e8\u63a1\u6a23\u7387 100Hz","title":"\u677f\u8f09\u611f\u6e2c\u5668"},{"location":"hi221/hi221/#_4","text":"\u5e8f\u5217\u57e0(\u517c\u5bb9TTL \u53ef\u76f4\u63a5\u82075V \u62163.3V \u5e8f\u5217\u57e0\u8a2d\u5099\u9023\u63a5) \u4f9b\u96fb\u96fb\u58d3\uff1a3.3 (\u00b1 100 mV) \u6700\u5927\u5cf0\u503c\u529f\u8017\uff1a120mA(RF Tx\u767c\u5c04)","title":"\u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb"},{"location":"hi221/hi221/#_5","text":"","title":"\u786c\u9ad4\u53ca\u5c3a\u5bf8(\u7bc0\u9ede)"},{"location":"hi221/hi221/#_6","text":"\u53c3\u6578 \u503c \u8f38\u51fa\u6578\u64da\u63a5\u53e3 UART(TTL 1.8V - 3.3V) \u6216\u8005 2.4RF Radio \u5de5\u4f5c\u96fb\u58d3 3.3V (\u00b1 100mV) \u5de5\u4f5c\u96fb\u6d41 30mA \u5f85\u6a5f\u96fb\u6d41 20uA \u5145\u96fb\u5f8c\u5e73\u5747\u5de5\u4f5c\u6642\u9577 8h \u6eab\u5ea6\u7bc4\u570d -20\u2103 - 85 \u2103 \u6700\u5927\u7dda\u6027\u52a0\u901f\u5ea6 0 - 115 m/s^2 m/s^2 \u5c3a\u5bf8 20 x 38 x 8.5mm (W x L x H) \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08 \u4e09\u8ef8\u9640\u87ba\u5100 \u4e09\u8ef8\u5730\u78c1\u5834\u611f\u6e2c\u5668","title":"\u786c\u9ad4\u53c3\u6578"},{"location":"hi221/hi221/#_7","text":"\u8f09\u9ad4\u7cfb\u4f7f\u7528 \u524d-\u5de6-\u4e0a(FLU)\u53f3\u624b\u5750\u6a19\u7cfb\uff0c \u5730\u7406\u5750\u6a19\u7cfb\u4f7f\u7528 \u5317-\u897f-\u5929(NWU)\u5750\u6a19\u7cfb\u3002\u5176\u4e2d\u6b50\u62c9\u89d2\u65cb\u8f49\u9806\u5e8f\u70ba ZYX(\u5148\u8f49Z\u8ef8\uff0c\u518d\u8f49Y\u8ef8\uff0c\u6700\u5f8c\u8f49X\u8ef8)\u65cb\u8f49\u9806\u5e8f\u3002\u5177\u9ad4\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7e5e Z \u8ef8\u65b9\u5411\u65cb\u8f49: \u822a\u5411\u89d2\\Yaw\\phi( \\psi \\psi ) \u7bc4\u570d: -180\u00b0 - 180\u00b0 \u7e5e Y \u8ef8\u65b9\u5411\u65cb\u8f49: \u4fef\u4ef0\u89d2\\Pitch\\theta( \\theta \\theta ) \u7bc4\u570d: -90\u00b0-90\u00b0 \u7e5e X \u8ef8\u65b9\u5411\u65cb\u8f49:\u6a6b\u6efe\u89d2\\Roll\\psi( \\phi \\phi )\u7bc4\u570d: -180\u00b0-180\u00b0 \u5982\u679c\u5c07\u6a21\u7d44\u8996\u70ba\u98db\u884c\u5668\u7684\u8a71\u3002X \u8ef8\u61c9\u8996\u70ba\u6a5f\u982d\u65b9\u5411\u3002\u7576\u611f\u6e2c\u5668\u7cfb\u8207\u6163\u6027\u7cfb\u91cd\u5408\u6642\uff0c\u6b50\u62c9\u89d2\u7684\u7406\u60f3\u8f38\u51fa\u70ba:Pitch = 0\u00b0, Roll = 0\u00b0, Yaw = 0\u00b0","title":"\u5750\u6a19\u7cfb\u5b9a\u7fa9"},{"location":"hi221/hi221/#_8","text":"","title":"\u6027\u80fd\u6307\u6a19"},{"location":"hi221/hi221/#_9","text":"\u59ff\u614b\u89d2 \u5178\u578b\u503c \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u975c\u614b 0.8\u00b0 \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u52d5\u614b 2.5\u00b0 \u904b\u52d5\u4e2d\u822a\u5411\u89d2\u7cbe\u5ea6(9\u8ef8\u6a21\u5f0f\u4e0b,\u7121\u78c1\u5e72\u64fe,\u6821\u6e96\u5f8c) 3\u00b0","title":"\u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6"},{"location":"hi221/hi221/#_10","text":"\u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b12000\u00b0/s \u975e\u7dda\u6027\u5ea6 \u00b10.1% \u63a1\u6a23\u7387 2000Hz","title":"\u9640\u87ba\u5100"},{"location":"hi221/hi221/#_11","text":"\u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b18G \u975e\u7dda\u6027\u5ea6 \u00b10.5% \u6700\u5927\u96f6\u9ede\u504f\u79fb 30mG \u63a1\u6a23\u7387 125Hz","title":"\u52a0\u901f\u5ea6\u8a08"},{"location":"hi221/hi221/#_12","text":"\u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b18Gauss \u975e\u7dda\u6027\u5ea6 \u00b10.1% \u63a1\u6a23\u7387 100Hz","title":"\u78c1\u611f\u6e2c\u5668\u53c3\u6578"},{"location":"hi221/hi221/#uart","text":"\u53c3\u6578 \u503c \u5e8f\u5217\u57e0\u8f38\u51fa\u9b91\u7387 115200/460800/921600\u53ef\u9078 \u5e40\u8f38\u51fa\u901f\u7387 1/25/50/100Hz \u53ef\u9078","title":"\u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578(UART)"},{"location":"hi221/hi221/#24g-rf","text":"\u53c3\u6578 \u503c \u7a7a\u4e2d\u9b91\u7387 2Mbps \u5e40\u901f\u7387(\u6bcf\u500b\u7bc0\u9ede\u5747\u53ef\u9054\u5230) 100Hz \u63a5\u6536\u5668\u6700\u5927\u9023\u63a5\u7bc0\u9ede\u6578 16","title":"\u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578(2.4G RF)"},{"location":"hi221/hi221/#_13","text":"\u52a0\u901f\u5ea6\u8a08\u548c\u9640\u87ba\u5100\u5728\u51fa\u5ee0\u524d\u7d93\u904e\u6bd4\u4f8b\u56e0\u5b50\u8aa4\u5dee\u548c\u975e\u6b63\u4ea4\u8aa4\u5dee\u6821\u6e96\uff0c\u6821\u6e96\u53c3\u6578\u4fdd\u5b58\u5728\u6a21\u7d44\u5167\u90e8\u3002 \u9640\u87ba\u5100\u7684\u8f38\u51fa\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u6703\u6709\u4e00\u500b\u96a8\u6a5f\u7684\u4e0d\u70ba0\u7684bias\uff0c\u7a31\u4e4b\u70ba\u96f6\u504f\u91cd\u8907\u6027\u3002\u9019\u500b\u96a8\u6a5fbias\u4e0d\u80fd\u5728\u51fa\u5ee0\u524d\u88ab\u6821\u6e96\u3002\u7cfb\u7d71\u5728\u555f\u52d5\u5f8c1S\u5167\u8a8d\u70ba\u8655\u65bc\u975c\u6b62\u72c0\u614b\u4e26\u63a1\u96c61S\u7684\u9640\u87ba\u5100\u89d2\u901f\u5ea6\u4f5c\u70ba\u521d\u59cbbias\u3002\u9019\u500b\u904e\u7a0b\u7a31\u4e4b\u70ba\u9640\u87ba\u5100\u4e0a\u96fb\u81ea\u6821\u6e96\u3002\u81ea\u6821\u6e96\u5728\u4e0a\u96fb\u5f8c\u975c\u6b62\u6a21\u7d443s \u5de6\u53f3\u53ef\u7372\u5f97\u6700\u597d\u7684\u6821\u6e96\u6548\u679c\u3002 \u5982\u4e0a\u96fb1s\u5167\u6a21\u7d44\u8655\u65bc\u904b\u52d5\u72c0\u614b(\u5305\u62ec\u7de9\u6162\u8f49\u52d5\uff0c\u632f\u52d5\u7b49)\u5247\u822a\u5411\u89d2\u98c4\u79fb\u73fe\u8c61\u6703\u986f\u8457\u589e\u5927 \u3002 \u5efa\u8b70\u4f7f\u7528\u6642\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u975c\u6b62\u81f3\u5c111s\u3002 \u78c1\u611f\u6e2c\u5668(\u90e8\u5206\u578b\u865f\u652f\u63f4)\u51fa\u5ee0\u524d\u7d93\u904e\u6a62\u7403\u6821\u6e96\uff0c\u4f46\u78c1\u611f\u6e2c\u5668\u5f88\u5bb9\u6613\u53d7\u5230\u5916\u754c\u74b0\u5883\u78c1\u5834\u5e72\u64fe\uff0c\u4e00\u822c\u90fd\u9700\u8981\u5ba2\u6236\u91cd\u65b0\u6821\u6e96\uff0c\u51fa\u5ee0\u6821\u6e96\u53c3\u6578\u610f\u7fa9\u4e0d\u5927\u3002\u8a73\u898b\u5730\u78c1\u6821\u6e96\u7ae0\u7bc0\u3002","title":"\u611f\u6e2c\u5668\u6821\u6e96"},{"location":"hi221/hi221/#_14","text":"","title":"\u5730\u78c1\u6821\u6e96"},{"location":"hi221/hi221/#_15","text":"\u7a2e\u985e \u5b9a\u7fa9 \u5178\u578b\u5e72\u64fe\u6e90 \u5f71\u97ff \u63aa\u65bd \u7a7a\u9593\u78c1\u5834\u5e72\u64fe \u5e72\u64fe\u4e0d\u96a8\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5\uff0c\u800c\u8655\u65bc\u4e16\u754c\u5750\u6a19\u7cfb\u4e0b \u5404\u7a2e\u56fa\u5b9a\u7684\u78c1\u5e72\u64fe\u6e90\uff0c\u50a2\u4ff1\uff0c\u5bb6\u7528\u96fb\u5668\uff0c\u96fb\u7e9c\uff0c\u623f\u5c4b\u5167\u7684\u92fc\u7b4b\u7d50\u69cb\u7b49\u3002\u4e00\u5207\u4e0d\u96a8\u78c1\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5\u7684\u5e72\u64fe\u6e90 \u7121\u8ad6\u78c1\u5834\u611f\u6e2c\u5668\u662f\u5426\u6821\u6e96\u7684\u597d\uff0c\u9019\u4e9b\u7a7a\u9593\u78c1\u5834\u7684\u5e72\u64fe(\u6216\u8005\u8aaa\u74b0\u5883\u78c1\u5834\u4e0d\u5747\u52fb)\u90fd\u6703\u4f7f\u5f97\u7a7a\u9593\u5730\u78c1\u5834\u767c\u751f\u7578\u8b8a\u3002\u5730\u78c1\u88dc\u511f\u6703\u932f\u8aa4\u4e26\u4e14\u7121\u6cd5\u7372\u5f97\u6b63\u78ba\u7684\u822a\u5411\u89d2\u3002\u4ed6\u5011\u662f\u9020\u6210\u5ba4\u5167\u5730\u78c1\u878d\u5408\u96e3\u4ee5\u4f7f\u7528\u7684\u4e3b\u8981\u5143\u5147\u3002\u9019\u7a2e\u5e72\u64fe\u4e0d\u80fd\u88ab\u6821\u6e96, \u6703\u56b4\u91cd\u5f71\u97ff\u5730\u78c1\u6027\u80fd\u3002\u7a7a\u9593\u78c1\u5834\u5e72\u64fe\u5728\u5ba4\u5167\u5c24\u5176\u56b4\u91cd\u3002 \u6a21\u7d44\u5167\u7f6e\u7684\u52fb\u8cea\u78c1\u5834\u6aa2\u6e2c\u53ca\u5c4f\u853d\u975e\u52fb\u8cea\u78c1\u5834 \u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u4e0b\u7684\u5e72\u64fe \u5e72\u64fe\u6e90\u96a8\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5 \u6a21\u7d44PCB\uff0c\u8207\u6a21\u7d44\u56fa\u5b9a\u5728\u4e00\u8d77\u7684\u677f\u5b50\uff0c\u5100\u5668\u8a2d\u5099\uff0c\u7522\u54c1\u7b49\u3002\u4ed6\u5011\u548c\u78c1\u611f\u6e2c\u5668\u8996\u70ba\u540c\u4e00\u500b\u525b\u9ad4\uff0c\u96a8\u78c1\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5 \u5c0d\u611f\u6e2c\u5668\u9020\u6210\u786c\u78c1/\u8edf\u78c1\u5e72\u64fe\u3002\u9019\u4e9b\u5e72\u64fe\u53ef\u4ee5\u901a\u904e\u5730\u78c1\u6821\u6e96\u7b97\u6cd5\u52a0\u4ee5\u5f88\u597d\u7684\u6d88\u9664\u3002 \u5730\u78c1\u6821\u6e96 \u4e0b\u5716\u662f\u4e00\u500b\u5178\u578b\u7684\u5ba4\u5167\u78c1\u5834\u5206\u4f48\u5716\u3002\u53ef\u4ee5\u770b\u5230\uff1a\u4e00\u822c\u5ba4\u5167\u74b0\u5883\u7684\u7a7a\u9593\u78c1\u5834\u7578\u8b8a\u662f\u6bd4\u8f03\u56b4\u91cd\u7684\u3002 \u6ce8\u610f \u5728\u5ba4\u5167\u74b0\u5883\u4e0b\uff0c\u7a7a\u9593\u78c1\u5834\u5e72\u64fe\u5c24\u5176\u56b4\u91cd\uff0c\u800c\u4e14\u7a7a\u9593\u78c1\u5e72\u64fe\u4e26\u4e0d\u80fd\u901a\u904e\u6821\u6e96\u4f86\u6d88\u9664\u3002\u5728\u5ba4\u5167\u74b0\u5883\u4e0b\uff0c\u5118\u7ba1\u6a21\u7d44\u5167\u7f6e\u5747\u8cea\u78c1\u5834\u6aa2\u6e2c\u53ca\u5c4f\u853d\u6a5f\u5236\uff0c\u4f469\u8ef8\u6a21\u5f0f\u822a\u5411\u89d2\u7684\u6e96\u78ba\u5ea6\u5f88\u5927\u7a0b\u5ea6\u4e0a\u53d6\u6c7a\u65bc\u5ba4\u5167\u78c1\u5834\u7578\u8b8a\u7a0b\u5ea6\uff0c\u5982\u679c\u5ba4\u5167\u78c1\u5834\u74b0\u5883\u5f88\u5dee(\u5982\u96fb\u8166\u6a5f\u623f\u65c1\uff0c\u96fb\u78c1\u5be6\u9a57\u5ba4\uff0c\u8eca\u9593 \uff0c\u5730\u4e0b\u8eca\u5eab\u7b49\u7b49)\uff0c\u5373\u4f7f\u6821\u6e96\u5f8c\uff0c 9\u8ef8\u7684\u822a\u5411\u89d2\u7cbe\u5ea6\u53ef\u80fd\u9084\u4e0d\u59826\u8ef8\u751a\u81f3\u6703\u51fa\u73fe\u5927\u89d2\u5ea6\u8aa4\u5dee\u3002","title":"\u78c1\u5e72\u64fe\u5206\u985e"},{"location":"hi221/hi221/#69","text":"\u6b63\u56e0\u70ba\u5730\u78c1\u5834\u975e\u5e38\u5bb9\u6613\u53d7\u5230\u7a7a\u9593\u5e72\u64fe\uff0c\u6240\u4ee5\u4f7f\u75289\u8ef8\u6a21\u5f0f\u6642\u61c9\u975e\u5e38\u6ce8\u610f\u3002\u4e0b\u8868\u5217\u8209\u4e86\u4e0d\u540c\u7684\u4f7f\u7528\u5834\u5408\u548c\u5de5\u6cc1\u4e0b\u7684\u4f7f\u7528\u5efa\u8b70 \u6a21\u5f0f \u9069\u7528\u74b0\u5883 \u5178\u578b\u61c9\u7528 \u512a\u9ede \u7f3a\u9ede \u6ce8\u610f\u4e8b\u9805 6\u8ef8\u6a21\u5f0f \u5404\u7a2e\u74b0\u5883 \u96f2\u53f0\u7b49\u4f4e\u52d5\u614b\u59ff\u614b\u6aa2\u6e2c\uff0c\u5ba4\u5167\u6a5f\u5668\u4eba 1. \u59ff\u614b\u89d2\u8f38\u51fa\u7a69\u5b9a\u6027\u597d 2. \u5b8c\u5168\u4e0d\u53d7\u78c1\u5834\u5e72\u64fe \u822a\u5411\u89d2\u96a8\u6642\u9593\u7de9\u6162\u6f02\u79fb \u822a\u5411\u89d2\u6703\u96a8\u6642\u9593\u7de9\u6162\u98c4\u79fb\u4e14\u7121\u6cd5\u88dc\u511f 9\u8ef8\u6a21\u5f0f \u7121\u78c1\u5e72\u64fe\u74b0\u5883 1.\u6307\u5357\u91dd\uff0c\u5c0b\u5317\u7cfb\u7d71 2. \u7a7a\u66e0\u4e14\u78c1\u5e72\u64fe\u8f03\u5c11\u7684\u5ba4\u5167\uff0c\u6a21\u7d44\u57fa\u672c\u4e0d\u6703\u5927\u7bc4\u570d\u5728\u5ba4\u5167\u79fb\u52d5(\u5178\u578b\u7684\u5982\u651d\u5f71\u68da\u5167\u52d5\u4f5c\u6355\u6349\uff0c\u4e14\u88ab\u6e2c\u8005\u4e0d\u6703\u505a\u5927\u7bc4\u570d\u8d70\u52d5) 1. \u822a\u5411\u89d2\u4e0d\u6703\u96a8\u6642\u9593\u6f02\u79fb 2.\u4e00\u65e6\u6aa2\u6e2c\u5230\u5730\u78c1\u5834\u53ef\u5feb\u901f\u4fee\u6b63\u822a\u5411\u89d2\u6307\u5317 \u4efb\u4f55\u78c1\u5e72\u64fe\u90fd\u6703\u51fa\u73fe\u822a\u5411\u89d2\u6e96\u78ba\u5ea6\u4e0b\u964d\u3002\u5ba4\u5167\u5e72\u64fe\u56b4\u91cd\u60c5\u6cc1\u4e0b \u822a\u5411\u89d2\u7121\u6cd5\u6307\u5411\u6b63\u78ba\u65b9\u5411\u3002\u53e6\u5916\uff0c\u79fb\u52d5\u6a5f\u5668\u4eba\u7684\u91d1\u5c6c\u7d50\u69cb\u548c\u96fb\u6a5f\u904b\u884c\u6642\u6703\u7522\u751f\u975e\u5e38\u5f37\u7684\u78c1\u5e72\u64fe\uff0c\u6240\u4ee5\u79fb\u52d5\u6a5f\u5668\u4eba\u5e73\u53f0\u4e0d\u9069\u7528\u65bc9\u8ef8\u6a21\u5f0f\u3002 \u9996\u6b21\u4f7f\u7528\u524d\u9700\u8981\u6821\u6e96\u5730\u78c1\u611f\u6e2c\u5668 \u6a21\u7d44\u7684\u81ea\u52d5\u5730\u78c1\u6821\u6e96\u7cfb\u7d71\u53ea\u80fd\u8655\u7406\u548c\u6a21\u7d44\u5b89\u88dd\u5728\u4e00\u8d77\u7684\uff0c\u56fa\u5b9a\u7684\u78c1\u5834\u5e72\u64fe\u3002\u5b89\u88dd\u74b0\u5883\u5982\u679c\u6709\u78c1\u5834\u5e72\u64fe\uff0c\u9019\u7a2e\u5e72\u64fe\u5fc5\u9808\u662f\u56fa\u5b9a\u7684\uff0c\u4e26\u4e14\u9019\u500b\u5e72\u64fe\u78c1\u5834\u8207\u6a21\u7d44 \u5b89\u88dd\u4e4b\u5f8c\u4e0d\u6703\u518d\u767c\u751f\u8ddd\u96e2\u8b8a\u5316(\u4f8b\uff1a\u6a21\u7d44\u5b89\u88dd\u5728\u4e00\u500b\u9435\u6750\u6599\u4e4b\u4e0a\uff0c\u56e0\u70ba\u9435\u6703\u6709\u78c1\u5834\u5e72\u64fe\uff0c \u9019\u6642\u5c31\u9700\u8981\u628a\u9435\u8207\u6a21\u7d44\u4e00\u8d77\u65cb\u8f49\u6821\u6e96\uff0c\u4e26\u4e14\u9019\u500b\u9435\u5728\u4f7f\u7528\u7576\u4e2d\u662f\u4e0d\u6703\u548c\u7f85\u76e4\u518d\u5206\u958b\u7684(\u767c\u751f\u76f8\u5c0d\u4f4d\u79fb)\uff0c\u4e00 \u65e6\u5206\u958b\u662f\u9700\u8981\u518d\u91cd\u65b0\u6821\u6e96\u3002\u5982\u679c\u9019\u500b\u9435\u5927\u5c0f\u662f\u4e0d\u56fa\u5b9a\u7684\uff0c\u6216\u8207\u7f85\u76e4\u7684\u8ddd\u96e2\u8b8a\u5316\u4e5f\u4e0d\u662f\u56fa\u5b9a \u7684\uff0c\u9019\u7a2e\u5e72\u64fe\u662f\u7121\u6cd5\u6821\u6e96\uff0c\u5373\u4f7f\u6821\u6e96\u6210\u529f\uff0c\u4e5f\u6703\u7cbe\u5ea6\u975e\u5e38\u5dee\uff0c\u53ea\u80fd\u907f\u800c\u9060\u4e4b\u5b89\u88dd\u3002\u5b89\u5168\u8ddd\u96e2\u63a7\u5236\u5728 40CM \u4ee5\u4e0a)\u3002","title":"6\u8ef8\u548c9\u8ef8\u6a21\u5f0f\u5340\u5225"},{"location":"hi221/hi221/#_16","text":"\u672c\u6a21\u7d44\u6574\u5408\u4e86\u4e3b\u52d5\u7121\u5e72\u9810\u5730\u78c1\u6821\u6e96\u7b97\u6cd5,\u6a21\u7d44\u6703\u81ea\u52d5\u6536\u96c6\u5730\u78c1\u5834\u8cc7\u8a0a\u4e26\u9032\u884c\u786c\u78c1\u8edf\u78c1\u6821\u6e96\u53c3\u6578\u4f30\u8a08\uff0c\u6821\u6e96\u6210\u529f\u5f8c\u6821\u6e96\u8cc7\u8a0a\u6703\u4fdd\u5b58\u5728\u6a21\u7d44Flash\u4e0a\u3002 \u7528\u6236\u7121\u9808\u4efb\u4f55\u64cd\u4f5c/\u6307\u4ee4\u5373\u53ef\u5be6\u73fe\u5730\u78c1\u6821\u6e96 \u3002\u9996\u6b21\u4f7f\u7528\u6642\uff0c\u6a21\u7d44\u6703\u81ea\u52d5\u63a1\u96c6\u5468\u570d\u5730\u78c1\u5834\uff0c\u4e26\u5617\u8a66\u8a08\u7b97\u5730\u78c1\u611f\u6e2c\u5668\u6821\u6e96\u53c3\u6578\u3002\u7576\u9996\u6b21\u4f7f\u7528\u6a21\u7d44\u4e26\u4e14\u9700\u8981\u4f7f\u75289\u8ef8\u6a21\u5f0f\u6642\uff0c\u61c9\u9032\u884c\u5982\u4e0b\u6821\u6e96\u64cd\u4f5c\uff1a \u5728\u76e1\u91cf\u5c0f\u7bc4\u570d\u5167\uff0c\u7de9\u6162\u7684\u8b93\u6a21\u7d44\u904b\u52d5\u548c\u65cb\u8f49\uff0c\u6216\u8005\u9032\u884c8\u5b57\u904b\u52d5 \u6216\u8005\u5206\u5225\u7e5e\u6bcf\u500b\u8ef8360\u5ea6\uff0c\u8b93\u6a21\u7d44\u7d93\u6b77\u76e1\u91cf\u591a\u7684\u59ff\u614b\u3002\u4e00\u822c\u60c5\u6cc1\u4e0b\uff0c\u5982\u679c\u5730\u78c1\u5e72\u64fe\u5728\u53ef\u63a5\u53d7\u7684\u7bc4\u570d\u5167\uff0c\u5373\u53ef\u5b8c\u6210\u6821\u6e96\u3002\u5982\u679c\u5f8c\u9762\u5728\u540c\u6a23\u5730\u78c1\u74b0\u5883\u4e0b(\u540c\u5730\u9ede)\uff0c\u5247\u7121\u9700\u518d\u6b21\u6821\u6e96\u3002\u5982\u679c\u59cb\u7d42\u6c92\u80fd\u6210\u529f\u6821\u6e96\u6a21\u7d44\uff0c\u8aaa\u660e\u5468\u570d\u5730\u78c1\u5834\u5e72\u64fe\u6bd4\u8f03\u5927\u3002 \u5730\u78c1\u6821\u6e96\u72c0\u614b\u53ef\u4ee5\u4f7f\u7528AT\u6307\u4ee4\u4f86\u67e5\u770b\uff1a \u767c\u9001 AT+INFO=HSI \u6307\u4ee4\uff0c\u6a21\u7d44\u6703\u6253\u5370\u7576\u524d\u5730\u78c1\u6821\u6e96\u7cfb\u7d71\u72c0\u614b\uff1a \u53c3\u6578\u986f\u793a \u610f\u7fa9 \u8aaa\u660e valid \u6709\u6548\u6a19\u8a8c 0: \u4e0d\u5b58\u5728\u6709\u6548\u6821\u6e96\u53c3\u6578(\u6c92\u6709\u6821\u6e96\u6216\u8005\u5f9e\u4f86\u6c92\u6709\u6821\u6e96\u6210\u529f\u904e)\u3002\u975e0\uff1a\u5730\u78c1\u6821\u6e96\u5b8c\u6210 fiterr \u64ec\u5408\u6b98\u5dee \u6b98\u5dee\u8d8a\u5c0f\uff0c\u8aaa\u660e\u53c3\u6578\u64ec\u5408\u6548\u679c\u8d8a\u597d\uff0c\u901a\u5e38\u57280.03\u4ee5\u4e0b\u8aaa\u660e\u6821\u6e96\u7d50\u679c\u5df2\u7d93\u8db3\u5920\u597d\u3002\u5982\u679c\u64ec\u5408\u7d50\u679c\u59cb\u7d42>0.1\uff0c\u8aaa\u660e\u5730\u78c1\u5e72\u64fe\u5f88\u5927\uff0c\u6700\u597d\u518d\u6b21\u6821\u6e96\u4ee5\u671f\u5f97\u5230\u66f4\u597d\u7684\u6821\u6e96\u7d50\u679c\u3002\u64ec\u5408\u6b98\u5dee\u6703\u96a8\u8457\u6642\u9593\u7de9\u6162\u589e\u9577\u3002 flux \u7576\u5730\u78c1\u5834 \u6700\u8fd1\u4e00\u6b21\u64ec\u5408\u5668\u4f30\u8a08\u51fa\u7684\u5730\u78c1\u5834\u5f37 \uff0c\u55ae\u4f4d\u70bauT inclination \u7576\u5730\u78c1\u50be\u89d2 \u6700\u8fd1\u4e00\u6b21\u64ec\u5408\u5668\u4f30\u8a08\u51fa\u7684\u78c1\u50be\u89d2\uff0c\u55ae\u4f4d\u70ba\u00b0 \u96d6\u7136\u5730\u78c1\u53c3\u6578\u4f30\u8a08\u53ef\u4ee5\u5728\u7dda\u81ea\u52d5\u63a1\u96c6\u6578\u64da\uff0c\u81ea\u52d5\u7684\u52d5\u614b\u64ec\u5408\u5730\u78c1\u6821\u6e96\u53c3\u6578\u3002\u4f46\u662f\u5982\u679c\u5468\u570d\u5730\u78c1\u74b0\u5883\u6539\u8b8a(\u6bd4\u5982\u9700\u8981\u5230\u53e6\u5916\u623f\u9593\u6216\u8005\u5ba4\u5167\u5ba4\u5916\u5207\u63db)\uff0c\u6700\u597d\u9084\u9700\u91cd\u8907\u624b\u5de5\u6821\u6e96\u64cd\u4f5c\u3002","title":"\u6821\u6e96\u65b9\u6cd5"},{"location":"hi221/hi221/#_17","text":"\u6a21\u7d44\u4e0a\u96fb\u5f8c\uff0c\u9ed8\u8a8d\u6309\u51fa\u5ee0\u5e40\u7387(\u901a\u5e38\u70ba100)\u8f38\u51fa\u5e40\u6578\u64da\uff0c\u5e40\u683c\u5f0f\u5982\u4e0b\uff1a \u57df\u540d\u7a31 \u503c \u9577\u5ea6(\u5b57\u7bc0) \u8aaa\u660e PRE 0x5A 1 \u56fa\u5b9a\u70ba0x5A TYPE 0xA5 1 \u56fa\u5b9a\u70ba0xA5 LEN 1-512 2 \u5e40\u4e2d\u6578\u64da\u57df\u7684\u9577\u5ea6\uff0c\u4f4e\u5b57\u7bc0\u5728\u524d\u3002\u9577\u5ea6\u8868\u793a\u6578\u64da\u57df(PAYLOAD)\u7684\u9577\u5ea6\uff0c\u4e0d\u5305\u542b PRE , TYPE , LEN , CRC \u5b57\u6bb5\u3002 CRC - 2 \u9664CRC \u672c\u8eab\u5916\u5176\u9918\u6240\u6709\u5b57\u6bb5( PRE,TYPE,LEN, PAYLOAD )\u5e40\u6578\u64da\u768416 \u4f4dCRC \u6821\u9a57\u548c\u3002LSB(\u4f4e\u5b57\u7bc0\u5728\u524d) PAYLOAD - 1-512 \u4e00\u5e40\u651c\u5e36\u7684\u6578\u64da\u3002PAYLOAD\u57df \u7531\u82e5\u5e72\u500b**\u5b50\u6578\u64da\u5305**\u7d44\u6210\u3002\u6bcf\u500b\u6578\u64da\u5305\u5305\u542b\u6578\u64da\u5305\u6a19\u7c64\u548c\u6578\u64da\u5169\u90e8\u5206\u3002\u6a19\u7c64\u6c7a\u5b9a\u4e86\u6578\u64da\u7684\u985e\u578b\u53ca\u9577\u5ea6\u3002 CRC\u5be6\u73fe\u51fd\u6578\uff1a /* currectCrc: previous crc value, set 0 if it's first section src: source stream data lengthInBytes: length */ static void crc16_update(uint16_t *currectCrc, const uint8_t *src, uint32_t lengthInBytes) { uint32_t crc = *currectCrc; uint32_t j; for (j=0; j < lengthInBytes; ++j) { uint32_t i; uint32_t byte = src[j]; crc ^= byte << 8; for (i = 0; i < 8; ++i) { uint32_t temp = crc << 1; if (crc & 0x8000) { temp ^= 0x1021; } crc = temp; } } *currectCrc = crc; }","title":"\u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70"},{"location":"hi221/hi221/#_18","text":"","title":"\u6578\u64da\u5305"},{"location":"hi221/hi221/#_19","text":"\u6578\u64da\u6a19\u7c64 \u6578\u64da\u5305\u9577\u5ea6(\u5305\u542b\u6a19\u7c641\u5b57\u7bc0) \u540d\u7a31 \u5099\u8a3b 0x91 76 IMUSOL(IMU\u6578\u64da\u96c6\u5408) HI221\u8f38\u51fa\u6578\u64da\u5305 0x62 \u8b8a\u9577 GWSOL(\u7121\u7dda\u7bc0\u9ede\u6578\u64da\u96c6\u5408) HI221Dongle\u8f38\u51fa\u6578\u64da\u5305","title":"\u6578\u64da\u5305\u7e3d\u89bd"},{"location":"hi221/hi221/#0x91-imusol","text":"\u517176\u5b57\u7bc0\u3002\u6574\u5408\u4e86IMU\u7684\u611f\u6e2c\u5668\u539f\u59cb\u8f38\u51fa\u548c\u59ff\u614b\u89e3\u7b97\u6578\u64da\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x91 1 uint8_t 1 - ID 2 - 6 - \u4fdd\u7559 8 uint32_t 4 ms \u6642\u9593\u6233\u8cc7\u8a0a\uff0c\u5f9e\u7cfb\u7d71\u958b\u6a5f\u958b\u59cb\u7d2f\u52a0\uff0c\u6bcf\u6beb\u79d2\u589e\u52a01 12 float 12 1G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) X,Y,Z\u8ef8\u7684\u52a0\u901f\u5ea6 24 float 12 deg/s X,Y,Z\u8ef8\u7684\u89d2\u901f\u5ea6 36 float 12 uT X,Y,Z\u8ef8\u7684\u78c1\u5834\u5f37\u5ea6 48 float 12 deg \u7bc0\u9ede\u6b50\u62c9\u89d2\u96c6\u5408, \u9806\u5e8f\u70ba\uff1a\u6a6b\u6efe\u89d2(Roll)\uff0c\u4fef\u4ef0\u89d2(Pitch)\uff0c\u822a\u5411\u89d2(Yaw) 60 float 16 - \u7bc0\u9ede\u56db\u5143\u6578\u96c6\u5408,\u9806\u5e8f\u70baWXYZ","title":"0X91( IMUSOL)"},{"location":"hi221/hi221/#0x62gwsol","text":"\u7121\u7dda\u63a5\u6536\u6a5f\u7684\u9810\u8a2d\u6578\u64da\u5305\u3002\u6578\u64da\u5305\u524d8\u500b\u5b57\u7bc0\u70ba\u63a5\u6536\u6a5f\u8cc7\u8a0a\u3002\u5f8c\u9762\u5206\u70baN\u500b\u6578\u64da\u584a\u3002\u6bcf\u500b\u6578\u64da\u584a\u63cf\u8ff0\u4e00\u500b\u7bc0\u9ede\u7684\u59ff\u614b\u6578\u64da(\u6700\u5927\u652f\u63f416\u500b\u7bc0\u9ede)\u3002\u6bcf\u500b\u6578\u64da\u584a\u5927\u5c0f\u70ba76\u5b57\u7bc0\uff0c\u6578\u64da\u7d50\u69cb\u540c0x91\u3002 \u6b64\u5354\u8b70\u5305\u6578\u64da\u91cf\u8f03\u5927\uff0c\u5efa\u8b70\u5c07HI221Dongle\u9b91\u7387\u8abf\u6574\u81f3460800\u6216921600\u4ee5\u7372\u5f97\u6700\u9ad8\u7684\u5e40\u7387\u8f38\u51fa\u3002\u683c\u5f0f\u5982\u4e0b\uff1a \u5b57\u7bc0\u504f\u79fb \u5927\u5c0f \u985e\u578b \u55ae\u4f4d \u8aaa\u660e 0 1 uint8_t - \u6578\u64da\u5305\u6a19\u7c64:0x62 1 1 uint8_t - GWID, \u63a5\u6536\u6a5f\u7db2\u7d61ID 2 1 uint8_t - N, \u6b64\u5e40\u5305\u542b\u7bc0\u9ede\u6578\u64da\u584a\u500b\u6578 3 5 - - \u4fdd\u7559 ----\u7bc0\u9ede\u6578\u64da\u584a\u958b\u59cb---- - - - \u6578\u64da\u7d50\u69cb\u540c0x91 8+76*N(N=0-15) 1 uint8_t - \u6578\u64da\u5305\u6a19\u7c64:0x91 9+76*N(N=0-15) 1 uint8_t - \u7bc0\u9edeN\u7684ID 10+76*N 10 - - \u4fdd\u7559 20+76*N 12 float - \u7bc0\u9edeN\u4e09\u8ef8\u52a0\u901f\u5ea6 32+76*N 12 float - \u7bc0\u9edeN\u4e09\u8ef8\u89d2\u901f\u5ea6 44+76*N 12 float - \u7bc0\u9edeN\u8ef8\u78c1\u5834\u5f37\u5ea6 56+76*N 12 float - \u7bc0\u9edeN\u6b50\u62c9\u89d2 68+76*N 16 float - \u7bc0\u9edeN\u56db\u5143\u6578 ----\u7bc0\u9ede\u6578\u64da\u584a\u7d50\u675f---- - - - -----------","title":"0x62(GWSOL)"},{"location":"hi221/hi221/#0x63gwsol-for-raw-data","text":"\u7121\u7dda\u63a5\u6536\u6a5f\u652f\u6301\u6b64\u6578\u64da\u5305\uff0c\u70ba\u9054\u6210 400Hz \u7684\u5e40\u7387\uff0c\u50c5\u7559\u4e0b\u52a0\u901f\u5ea6\u8207\u89d2\u901f\u5ea6\u3002\u6578\u64da\u5305\u524d8\u500b\u5b57\u7bc0\u70ba\u63a5\u6536\u6a5f\u8cc7\u8a0a\u3002\u5f8c\u9762\u5206\u70baN\u500b\u6578\u64da\u584a\u3002\u6bcf\u500b\u6578\u64da\u584a\u63cf\u8ff0\u4e00\u500b\u7bc0\u9ede\u7684\u59ff\u614b\u6578\u64da(\u6700\u5927\u652f\u630116\u500b\u7bc0\u9ede)\u3002\u6bcf\u500b\u6578\u64da\u584a\u5927\u5c0f\u70ba24\u5b57\u7bc0\u3002 \u6b64\u5354\u8b70\u5305\u6578\u64da\u91cf\u8f03\u5927\uff0c\u5efa\u8b70\u5c07\u9b91\u7387\u8abf\u6574\u81f3 460800 \u7372\u5f97\u7a69\u5b9a\u7684\u5e40\u7387\u8f38\u51fa\u3002\u683c\u5f0f\u5982\u4e0b\uff1a \u5b57\u7bc0\u504f\u79fb Bytes \u985e\u578b \u55ae\u4f4d \u8aaa\u660e 0 1 uint8_t - \u6578\u64da\u5305\u6a19\u7c64:0x62 1 1 uint8_t - GWID, \u63a5\u6536\u6a5f\u7db2\u7d61ID 2 1 uint8_t - N, \u6b64\u5e40\u5305\u542b\u7bc0\u9ede\u6578\u64da\u584a\u500b\u6578 3 5 - - \u4fdd\u7559 ----\u7bc0\u9ede\u6578\u64da\u584a\u958b\u59cb---- - - - \u6578\u64da\u7d50\u69cb\u540c0x91 8+24*N(N=0-15) 1 uint8_t - \u6578\u64da\u5305\u6a19\u7c64:0x91 9+24*N(N=0-15) 1 uint8_t - \u7bc0\u9edeN\u7684ID 10+24*N 10 - - \u4fdd\u7559 20+24*N 6 int16_t - \u7bc0\u9edeN\u4e09\u8ef8\u52a0\u901f\u5ea6 26+24*N 6 int16_t - \u7bc0\u9edeN\u4e09\u8ef8\u89d2\u901f\u5ea6 ----\u7bc0\u9ede\u6578\u64da\u584a\u7d50\u675f---- - - - -----------","title":"0x63(GWSOL FOR RAW DATA)"},{"location":"hi221/hi221/#_20","text":"\u51fa\u5ee0\u9ed8\u8a8d\u4e00\u5e40\u4e2d\u651c\u5e36\u6578\u64da\u5305\u6578\u64da\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7522\u54c1 \u9ed8\u8a8d\u8f38\u51fa\u6578\u64da\u5305 HI221 0x91 HI221Dongle 0x62","title":"\u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305"},{"location":"hi221/hi221/#_21","text":"","title":"\u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b"},{"location":"hi221/hi221/#0x91","text":"\u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517182\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991876\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 4C 00 6C 51 91 00 A0 3B 01 A8 02 97 BD BB 04 00 9C A0 65 3E A2 26 45 3F 5C E7 30 3F E2 D4 5A C2 E5 9D A0 C1 EB 23 EE C2 78 77 99 41 AB AA D1 C1 AB 2A 0A C2 8D E1 42 42 8F 1D A8 C1 1E 0C 36 C2 E6 E5 5A 3F C1 94 9E 3E B8 C0 9E BE BE DF 8D BE \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 4C 00 : (0x00<<8) + 0x4C = 76 \u5e40CRC\u6821\u9a57\u503c: 6C 51 :(0x51<<8) + 0x6C = 0x516C \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x516C. \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da \u5f9e 0x91 \u958b\u59cb\u70ba\u6578\u64da\u5305\u7684\u6578\u64da\u57df\u3002\u5728C\u8a9e\u8a00\u4e2d\u53ef\u4ee5\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u4f86\u65b9\u4fbf\u7684\u8b80\u53d6\u6578\u64da\uff1a \u5b9a\u7fa90x91\u6578\u64da\u5305\u7d50\u69cb\u9ad4\u5982\u4e0b\uff1a __packed typedef struct { uint8_t tag; /* data packet tag */ uint8_t id; uint8_t rev[6]; /* reserved */ uint32_t ts; /* timestamp */ float acc[3]; float gyr[3]; float mag[3]; float eul[3]; /* eular angles: Roll,Pitch,Yaw */ float quat[4]; /* quaternion */ }id0x91_t; __packed \u70ba\u7de8\u8b6f\u5668\u95dc\u9375\u5b57(Keil\u4e0b)\uff0c\u8868\u793a\u7d50\u69cb\u9ad4\u6309\u5b57\u7bc0\u7dca\u5c0d\u9f4a\uff0c\u7d50\u69cb\u9ad4\u6bcf\u4e00\u500b\u5143\u7d20\u4e00\u4e00\u5c0d\u61c90x91\u6578\u64da\u5305\u7684\u7d50\u69cb\u5b9a\u7fa9\u3002\u63a5\u6536\u6578\u64da\u6642\u5c07\u63a5\u6536\u5230\u7684\u9663\u5217\u76f4\u63a5memcpy\u5230\u7d50\u69cb\u9ad4\u5373\u53ef\uff1a(\u6ce8\u610f\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u6642\u5fc5\u98084\u5b57\u7bc0\u5c0d\u9f4a), \u5176\u4e2d buf \u6307\u5411\u5e40\u982d, buf[6] \u6307\u5411\u5e40\u4e2d\u6578\u64da\u57df \u3002 /* \u63a5\u6536\u6578\u64da\u4e26\u4f7f\u75280x91\u6578\u64da\u5305\u7d50\u69cb\u5b9a\u7fa9\u4f86\u89e3\u91cb\u6578\u64da */ __align(4) id0x91_t dat; /* struct must be 4 byte aligned */ memcpy(&dat, &buf[6], sizeof(id0x91_t)); \u6700\u5f8c\u5f97\u5230dat\u6578\u64da\u7d50\u679c\uff1a id : 0 timestamp : 310205 acc : 0.224 0.770 0.691 gyr : -54.708 -20.077 -119.070 mag : 19.183 -26.208 -34.542 eul(R/P/Y) : 48.720 -21.014 -45.512 quat : 0.855 0.310 -0.310 -0.277","title":"\u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305"},{"location":"hi221/hi221/#0x62","text":"\u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u5171166\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u9918160\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 A0 00 B5 DC 62 00 02 00 00 00 00 00 91 01 00 00 00 00 00 00 00 00 00 00 EC 51 B8 BD 12 83 40 3E 64 3B 8F 3F 33 33 E7 C2 CD CC 3C C1 33 33 0B C1 9A 99 99 41 9A 99 A9 40 CD CC 94 C1 80 D3 28 41 E8 CD 9B 40 B1 45 2C C0 78 97 7E 3F 83 20 BE 3D 14 5C 24 3D 32 69 DF BC 91 04 00 00 00 00 00 00 00 00 00 00 CD CC CC 3E 6F 12 83 3C 56 0E 6D 3F 9A 99 C7 C2 33 33 63 41 9A 99 35 42 00 00 94 41 33 33 63 41 00 00 D0 C1 F6 E6 A1 40 C0 93 A6 C1 FB 73 F5 C0 00 1D 7B 3F C8 E7 FF 3C DA 6C 3B BE 5E 99 6C BD \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: A0 00 : (0x00<<8) + 0xA0 = 160 \u5e40CRC\u6821\u9a57\u503c: B5 DC :(0xDC<<8) + 0xB5 = 0xDCB5 \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC, \u904e\u7a0b\u540c0x91\u6578\u64da\u5305 \u8a08\u7b97\u5f97\u5230CRC\u503c\u70ba0xDCB5. \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u7372\u5f970x62\u5e40\u7db2\u6bb5\uff0c\u7bc0\u9ede\u6578\u7b49\u8cc7\u8a0a uint8_t gwsol_tag = buf[6]; uint8_t gwid = buf[7]; /* GWID\u7db2\u6bb5 / uint8_t node_cnt = buf[8]; / \u63a5\u6536\u5230\u7684\u7bc0\u9ede\u6578 */ GWSOL\u6a19\u7c64: 0x62 = 0x62 \u63a5\u6536\u6a5f\u7db2\u6bb5: 0x00 = 0 \u672c\u5e40\u7bc0\u9ede\u6578: 0x02 = 2 \u7b2c\u56db\u6b65\uff1a\u63a5\u6536\u6bcf\u500b\u7bc0\u9ede\u6578\u64da 0x62\u6578\u64da\u5305\u5be6\u969b\u4e0a\u662f\u591a\u500b0x91\u6578\u64da\u5305\u62fc\u5728\u4e00\u8d77\uff0c\u982d\u90e8\u518d\u52a0\u63a5\u6536\u6a5f\u6d88\u606f\u7d44\u6210\u3002\u5728C\u8a9e\u8a00\u4e2d\u53ef\u4ee5\u5b9a\u7fa90x91\u7d50\u69cb\u9ad4\u4f86\u65b9\u4fbf\u7684\u8b80\u53d6\u6578\u64da\uff1a \u5b9a\u7fa90x91\u6578\u64da\u5305\u7d50\u69cb\u9ad4\u5982\u4e0b\uff1a(\u4ee5Keil\u70ba\u4f8b) __packed typedef struct { uint8_t tag; /* data packet tag */ uint8_t id; uint8_t rev[6]; /* reserved */ uint32_t ts; /* timestamp */ float acc[3]; float gyr[3]; float mag[3]; float eul[3]; /* eular angles:R/P/Y */ float quat[4]; /* quaternion */ }id0x91_t; __packed \u70ba\u7de8\u8b6f\u5668\u95dc\u9375\u5b57(Keil\u4e0b)\uff0c\u8868\u793a\u7d50\u69cb\u9ad4\u6309\u5b57\u7bc0\u7dca\u5c0d\u9f4a\uff0c\u7d50\u69cb\u9ad4\u6bcf\u4e00\u500b\u5143\u7d20\u4e00\u4e00\u5c0d\u61c90x91\u6578\u64da\u5305\u7684\u7d50\u69cb\u5b9a\u7fa9\u3002\u63a5\u6536\u6578\u64da\u6642\u5c07\u63a5\u6536\u5230\u7684\u9663\u5217\u76f4\u63a5memcpy\u5230\u7d50\u69cb\u9ad4\u5373\u53ef\uff1a(\u6ce8\u610f\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u6642\u5fc5\u98084\u5b57\u7bc0\u5c0d\u9f4a), \u5176\u4e2d buf \u6307\u5411\u6578\u64da\u982d\u3002 /* \u63a5\u6536\u6578\u64da\u4e26\u4f7f\u75280x91\u6578\u64da\u5305\u7d50\u69cb\u5b9a\u7fa9\u4f86\u89e3\u91cb\u6578\u64da */ __align(4) id0x91_t id0x91; /* struct must be 4 byte aligned */ int i; for(i=0; i<node_cnt; i++) { memcpy(&id0x91, &buf[8+6] + i*sizeof(id0x91_t), sizeof(id0x91_t)); /* 8+6: 6\u70ba\u5e40\u982d\u8cc7\u8a0a\u9577\u5ea6\uff0c8\u70ba0x62\u6578\u64da\u5305\u4e2d\u7684\u63a5\u6536\u6a5f\u5305\u982d\u9577\u5ea6 */ /*\u8655\u7406\u8a72\u5305\u6578\u64da ... printf(\"node_id:%d\\r\\n\", id0x91->id); */ } \u6700\u5f8c\u5f97\u5230\u6578\u64da\u7d50\u679c: \u9019\u5e40\u6578\u64da\u5305\u542b2\u500b\u7bc0\u9ede\uff0cID\u5206\u5225\u70ba1\u548c4\uff0c\u5177\u9ad4\u8cc7\u8a0a\u5982\u4e0b\uff1a id : 1 timestamp : 0 acc : -0.090 0.188 1.119 gyr : -115.600 -11.800 -8.700 mag : 19.200 5.300 -18.600 eul(R/P/Y) : 10.552 4.869 -2.692 quat : 0.994 0.093 0.040 -0.027 id : 4 timestamp : 0 acc : 0.400 0.016 0.926 gyr : -99.800 14.200 45.400 mag : 18.500 14.200 -26.000 eul(R/P/Y) : 5.059 -20.822 -7.670 quat : 0.981 0.031 -0.183 -0.058","title":"\u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x62 \u6578\u64da\u5305"},{"location":"hi221/hi221/#at","text":"\u7576\u4f7f\u7528\u5e8f\u5217\u57e0\u8207\u6a21\u7d44\u901a\u8a0a\u6642, \u6a21\u7d44\u652f\u63f4AT \u6307\u4ee4\u96c6\u914d\u7f6e/\u67e5\u770b\u6a21\u7d44\u53c3\u6578\u3002AT \u6307\u4ee4\u7e3d\u4ee5ASCII \u78bc AT \u958b\u982d\uff0c\u5f8c\u9762\u8ddf\u63a7\u5236\u5b57\u7b26\uff0c\u6700 \u5f8c\u4ee5\u56de\u8eca\u63db\u884c \\r\\n \u7d50\u675f\u3002\u53ef\u4f7f\u7528\u5e8f\u5217\u57e0\u8abf\u8a66\u52a9\u624b\u9032\u884c\u6e2c\u8a66\uff1a \u901a\u7528\u6a21\u7d44 AT\u6307\u4ee4\u5982\u4e0b \u6307\u4ee4 \u529f\u80fd \u6389\u96fb\u4fdd\u5b58(Y) \u7acb\u5373\u751f\u6548(Y),\u5fa9\u4f4d\u751f\u6548(R) \u5099\u8a3b AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID Y R AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a N Y AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u983b\u7387 Y R AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387 Y R AT+EOUT \u6578\u64da\u8f38\u51fa\u958b\u95dc N Y AT+RST \u5fa9\u4f4d\u6a21\u7d44 N Y AT+TRG \u55ae\u6b21\u8f38\u51fa\u89f8\u767c N Y \u4e0d\u652f\u63f4 AT+SETPTL \u8a2d\u7f6e\u8f38\u51fa\u6578\u64da\u5305 Y Y \u9810\u8a2dHI221:0x91, HI221 Dongle:0x62 AT+MODE \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f Y R AT+GWID \u8a2d\u7f6e\u7121\u7dda\u63a5\u6536\u5668ID Y R","title":"AT\u6307\u4ee4"},{"location":"hi221/hi221/#atid","text":"\u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID \u4f8b AT+ID=1","title":"AT+ID"},{"location":"hi221/hi221/#atinfo","text":"\u6253\u5370\u6a21\u7d44\u8cc7\u8a0a\uff0c\u5305\u62ec\u7522\u54c1\u578b\u865f\uff0c\u7248\u672c\uff0c\u97cc\u9ad4\u767c\u4f48\u65e5\u671f\u7b49\u3002","title":"AT+INFO"},{"location":"hi221/hi221/#atodr","text":"\u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u7387\u3002\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548 \u4f8b \u8a2d\u7f6e\u5e8f\u5217\u57e0\u8f38\u51fa\u901f\u7387\u70ba100Hz: AT+ODR=100 \u6ce8\u610f\uff1a\u7576\u8f38\u51fa\u5e40\u7387\u8a2d\u7f6e\u6bd4\u8f03\u9ad8\u6642(\u5982200),\u9ed8\u8a8d\u7684115200\u9b91\u7387\u53ef\u80fd\u4e0d\u6eff\u8db3\u8f38\u51fa\u983b\u5bec\u8981\u6c42\uff0c\u6b64\u6642\u9700\u8981\u5c07\u6a21\u7d44\u9b91\u7387\u8a2d\u9ad8(\u5982921600)\u5f8c\uff0c\u6a21\u7d44\u624d\u80fd\u7a69\u5b9a\u8f38\u51fa\u9ad8\u5e40\u7387\u3002","title":"AT+ODR"},{"location":"hi221/hi221/#atbaud","text":"\u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387\uff0c\u53ef\u9078\u503c\uff1a 9600/115200/460800/921600 \u7576\u9023\u63a5\u8d85\u904e2\u500b\u7bc0\u9ede\uff0c\u767c\u73fe\u5e40\u7387\u4e0d\u8db3100Hz\uff0c\u9808\u5c07BAUD\u8a2d\u5b9a\u70ba460800 \u4f8b AT+BAUD=115200 \u6ce8\u610f \u4f7f\u7528\u6b64\u6307\u4ee4\u9700\u8981\u7279\u5225\u6ce8\u610f\uff0c\u8f38\u5165\u932f\u8aa4\u9b91\u7387\u5f8c\u6703\u5c0e\u81f4\u7121\u6cd5\u548c\u6a21\u7d44\u901a\u8a0a \u9b91\u7387\u53c3\u6578\u8a2d\u7f6e\u597d\u5f8c\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548\u3002 CH-Center \u8edf\u9ad4\u7684\u9b91\u7387\u4e5f\u8981\u505a\u76f8\u61c9\u4fee\u6539\u3002 \u5347\u7d1a\u97cc\u9ad4\u6642\uff0c\u9700\u8981\u5207\u63db\u56de115200 \u9b91\u7387\u3002","title":"AT+BAUD"},{"location":"hi221/hi221/#ateout","text":"\u5e8f\u5217\u57e0\u8f38\u51fa\u958b\u95dc \u4f8b \u6253\u958b\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=1 \u95dc\u9589\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=0","title":"AT+EOUT"},{"location":"hi221/hi221/#atrst","text":"\u5fa9\u4f4d\u6a21\u7d44 \u4f8b AT+RST","title":"AT+RST"},{"location":"hi221/hi221/#atgwid","text":"\u53ef\u901a\u904eAT+GWID\u6307\u4ee4\u914d\u7f6e\uff0cGWID\u5c6c\u6027\u6c7a\u5b9a\u4e86\u63a5\u6536\u5668\u548c\u7bc0\u9ede\u7684RF\u983b\u7387\uff0c\u53ea\u6709\u7bc0\u9ede\u7684GWID \u548c\u63a5\u6536\u5668\u7684 GWID\u76f8\u540c\u6642\u6a21\u7d44\u548c\u63a5\u6536\u5668\u624d\u80fd\u901a\u8a0a\u3002GWID\u76f8\u7576\u65bc\u7121\u7dda\u7db2\u6bb5\uff0c\u7576\u5728\u540c\u4e00\u5730\u9ede\u4f7f\u7528\u591a\u500b\u63a5\u6536\u6a5f\u7d44\u6210\u591a\u500b\u661f\u5f62\u7db2\u7d61\u6642\uff0c\u5fc5\u9808\u4fdd\u8b49\u6bcf\u500b\u63a5\u6536\u5668\u7684GWID(\u7db2\u6bb5)\u4e0d\u540c\u3002 \u4f8b \u4e09\u500bHI221\u7bc0\u9ede\u548c\u4e00\u500bHI221 Dongle\u63a5\u6536\u6a5f\u3002 \u5c07HI221 Dongle\u7db2\u6bb5\u8a2d\u7f6e\u70baGWID=0\uff0c \u5c073\u500bHI221\u7bc0\u9ede\u7684\u81ea\u8eabID\u5206\u5225\u8a2d\u7f6e\u70ba 0,1,2 \u4e26\u9023\u63a5\u5230HI221 Dongle\u4e0a\uff1a \u786c\u9ad4\u6e96\u5099\uff1a \u4e00\u6839USB\u7dda, \u4e00\u53f0\u5b89\u88dd\u597d CH-Center \u8edf\u9ad4\u7684PC\u3002 USB\u7dda\u9023\u63a5\u63a5\u6536\u6a5f(HI221 Dongle)\u5230PC,\u6253\u958b CH-Center \u8edf\u9ad4\u914d\u7f6e\u754c\u9762, \u4f9d\u6b21\u767c\u9001AT\u6307\u4ee4\uff1a AT+GWID=0 AT+RST USB\u7dda\u9023\u63a5\u7bc0\u9ede0(HI221)\u5230PC,\u6253\u958b CH-Center \u8edf\u9ad4\u914d\u7f6e\u754c\u9762, \u4f9d\u6b21\u767c\u9001AT\u6307\u4ee4\uff1a AT+GWID=0 AT+ID=0 AT+RST USB\u7dda\u9023\u63a5\u7bc0\u9ede1(HI221)\u5230PC,\u6253\u958b CH-Center \u8edf\u9ad4\u914d\u7f6e\u754c\u9762, \u4f9d\u6b21\u767c\u9001AT\u6307\u4ee4\uff1a AT+GWID=0 AT+ID=1 AT+RST USB\u7dda\u9023\u63a5\u7bc0\u9ede2(HI221)\u5230PC,\u6253\u958b CH-Center \u8edf\u9ad4\u914d\u7f6e\u754c\u9762, ,\u4f9d\u6b21\u767c\u9001AT\u6307\u4ee4\uff1a AT+GWID=0 AT+ID=2 AT+RST \u8a3b\uff1a \u6700\u5f8c\u767c\u9001AT+RST\u662f\u56e0\u70ba\u6240\u6709\u914d\u7f6e\u66f4\u6539\u5f8c\u5fa9\u4f4d\u624d\u80fd\u751f\u6548\uff0c\u5982\u679c\u4e0d\u767c\u9001AT+RST\uff0c\u5247\u9700\u8981\u91cd\u65b0\u4e0a\u96fb\u751f\u6548\u3002 \u9023\u63a5\u5230\u6bcf\u4e00\u500b\u7bc0\u9ede\u548c\u63a5\u6536\u6a5f\u6642\u6700\u597d\u5c07\u5176\u4ed6\u8a2d\u5099\u62d4\u6389\uff0c\u907f\u514d\u591a\u5e8f\u5217\u57e0\u9078\u64c7\u932f\u8aa4\u3002","title":"AT+GWID"},{"location":"hi221/hi221/#atmode","text":"\u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f \u4f8b \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u57286\u8ef8\u6a21\u5f0f(\u7121\u78c1\u6821\u6e96) AT+MODE=0 \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u57289\u8ef8\u6a21\u5f0f(\u5730\u78c1\u5834\u611f\u6e2c\u5668\u53c3\u8207\u822a\u5411\u89d2\u6821\u6b63) AT+MODE=1","title":"AT+MODE"},{"location":"hi221/hi221/#a-","text":"\u672c\u7522\u54c1\u652f\u63f4\u5347\u7d1a\u97cc\u9ad4\u3002 \u97cc\u9ad4\u5347\u7d1a\u6b65\u9a5f: \u9023\u63a5\u6a21\u7d44\uff0c\u6253\u958b CH-Center \u8edf\u9ad4\uff0c\u5c07\u6a21\u7d44\u548c CH-Center \u8edf\u9ad4\u9b91\u7387\u90fd\u8a2d\u7f6e\u70ba115200. \u6253\u958b\u97cc\u9ad4\u5347\u7d1a\u7a97\u53e3 \u9ede\u64ca\"\u9023\u63a5\"\uff0c\u5982\u51fa\u73fe\u6a21\u7d44\u9023\u63a5\u8cc7\u8a0a\u3002\u5247\u8aaa\u660e\u5347\u7d1a\u7cfb\u7d71\u6e96\u5099\u5c31\u7dd2\uff0c\u9ede\u64ca\u6587\u4ef6\u9078\u64c7\u5668(\u2026)\u9078\u64c7\u526f\u6a94\u540d\u70ba.hex \u7684\u97cc\u9ad4 \u9ede\u64ca\"\u958b\u59cb\u7de8\u7a0b\"\u3002\u4e0b\u8f09\u5b8c\u6210\u5f8c\u6703\u63d0\u793a\u7de8\u7a0b\u5b8c\u6210\uff0c\u6b64\u6642\u95dc\u9589\u5e8f\u5217\u57e0\uff0c\u91cd\u65b0\u7d66\u6a21\u7d44\u4e0a\u96fb\uff0c\u6a21\u7d44\u5347\u7d1a\u5b8c\u6210\u3002","title":"\u9644\u9304A - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e"},{"location":"hi226/hi226/","text":"HI226 \u7528\u6236\u624b\u518a IMU/VRU\u59ff\u614b\u6e2c\u91cf\u6a21\u7d44, Rev 1.0 HI226 \u7528\u6236\u624b\u518a \u7c21\u4ecb \u4e3b\u8981\u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb \u786c\u9ad4\u53c3\u6578 \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u9640\u87ba\u5100 \u52a0\u901f\u5ea6\u8a08 \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578 \u611f\u6e2c\u5668\u6821\u6e96 \u5b89\u88dd\u53ca\u710a\u63a5 \u61c9\u7528\u6307\u5357 \u6a21\u7d44\u8207PC\u6a5f\u9023\u63a5 \u6a21\u7d44\u8207MCU\u9032\u884c\u9023\u63a5 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd \u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868 0x90(\u7528\u6236ID) 0xA0(\u52a0\u901f\u5ea6) 0xB0(\u89d2\u901f\u5ea6) 0xC0(\u78c1\u5834\u5f37\u5ea6) 0xD0(\u6b50\u62c9\u89d2) 0XD1(\u56db\u5143\u6578) 0XF0(\u6c23\u58d3) 0X91( IMUSOL) \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 AT\u6307\u4ee4 AT+ID AT+INFO AT+ODR AT+BAUD AT+EOUT AT+RST AT+SETPTL AT+TRG \u9644\u9304A - \u8a55\u4f30\u677f \u8a55\u4f30\u677f\u7c21\u4ecb \u5c3a\u5bf8 \u5f9e\u8a55\u4f30\u677f\u4e0a\u53d6\u4e0b\u7522\u54c1 \u9644\u9304B - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e \u7c21\u4ecb HI226\u662f\u8d85\u6838\u96fb\u5b50\u63a8\u51fa\u7684\u4e00\u6b3e\u8d85\u4f4e\u6210\u672c\u3001\u9ad8\u6027\u80fd\u3001\u5c0f\u9ad4\u7a4d\u3001\u4f4e\u5ef6\u6642\u7684\u6163\u6027\u6e2c\u91cf\u55ae\u5143(IMU)\uff0c\u672c\u7522\u54c1\u6574\u5408\u4e86\u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08\u3001\u4e09\u8ef8\u9640\u87ba\u5100\u548c\u4e00\u6b3e\u5fae\u63a7\u5236\u5668\u3002\u53ef\u8f38\u51fa\u7d93\u904e\u611f\u6e2c\u5668\u878d\u5408\u7b97\u6cd5\u8a08\u7b97\u5f97\u5230\u7684\u57fa\u65bc\u7576\u5730\u5730\u7406\u5750\u6a19\u7684\u4e09\u7dad\u65b9\u4f4d\u6578\u64da\uff0c\u5305\u542b\u7121\u7d55\u5c0d\u53c3\u8003\u7684\u76f8\u5c0d\u822a\u5411\u89d2\uff0c\u4fef\u4ef0\u89d2\u548c\u6a6b\u6efe\u89d2\u3002\u540c\u6642\u4e5f\u53ef\u4ee5\u8f38\u51fa\u6821\u6e96\u904e\u7684\u539f\u59cb\u7684\u611f\u6e2c\u5668\u6578\u64da\u3002 \u5178\u578b\u61c9\u7528: \u6383\u5730\u6a5f/\u5927\u578b\u6a5f\u5668\u4eba\u822a\u5411\u89d2\u6aa2\u6e2c/\u4f4e\u901f\u96f2\u53f0\u63a7\u5236 \u4e3b\u8981\u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u9640\u87ba\u5100, \u6700\u5927\u91cf\u7a0b: \u00b12000\u00b0/s \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08, \u6700\u5927\u91cf\u7a0b:\u00b18G \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb \u5e8f\u5217\u57e0(\u517c\u5bb9TTL \u53ef\u76f4\u63a5\u82075V \u62163.3V \u5e8f\u5217\u57e0\u8a2d\u5099\u9023\u63a5) \u4f9b\u96fb\u96fb\u58d3\uff1a3.3 (\u00b1 100 mV) \u6700\u5927\u5cf0\u503c\u529f\u8017\uff1a32mA \u786c\u9ad4\u53c3\u6578 \u53c3\u6578 \u63cf\u8ff0 \u8f38\u51fa\u6578\u64da\u63a5\u53e3 UART(TTL 1.8V - 3.3V) \u5de5\u4f5c\u96fb\u58d3 3.3V (\u00b1 100mV) \u529f\u8017 86mW @3.3V \u6eab\u5ea6\u7bc4\u570d -20\u2103 - 85 \u2103 \u6700\u5927\u7dda\u6027\u52a0\u901f\u5ea6 0 - 115 m/s^2 m/s^2 \u5c3a\u5bf8 12 x 12 x 2.6mm (W x L x H) \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08 \u4e09\u8ef8\u9640\u87ba\u5100 \u7b26\u865f \u6700\u5c0f\u503c \u5178\u578b\u503c \u6700\u5927\u503c \u55ae\u4f4d A1 - 11 - mm B - 11 - mm D - 12 - mm E - 12 - mm H 2.5 2.6 2.7 mm a - 1.5 - mm b - 0.9 - mm c - 1 - mm e - 1.27 - mm f - 1 - mm \u5f15\u8173\u865f \u540d\u7a31 \u8aaa\u660e 5 N/C \u4fdd\u7559 6 VCC \u96fb\u6e90 3.3V 7 SYNC_OUT \u6578\u64da\u8f38\u51fa\u540c\u6b65: \u6578\u64da\u8f38\u51fa\u6642\uff0c \u6b64\u5f15\u8173\u70ba\u9ad8\u96fb\u5e73\uff0c\u7a7a\u9592\u6642\u70ba\u4f4e\u96fb\u5e73\u3002 8 RXD \u6a21\u7d44\u5e8f\u5217\u57e0\u63a5\u6536 UART RXD(\u63a5 MCU \u7684 TXD) 9 TXD \u6a21\u7d44\u5e8f\u5217\u57e0\u767c\u9001 UART TXD (\u63a5 MCU \u7684 RXD) 10 SYNC_IN \u6578\u64da\u8f38\u5165\u540c\u6b65: \u5167\u90e8\u4e0b\u62c9\uff0c\u7576\u6a21\u7d44\u6aa2\u6e2c\u5230\u4e0a\u5347\u6cbf\u6642, \u8f38\u51fa\u4e00\u5e40\u6578\u64da\u3002 11 N/C \u4fdd\u7559 19 GND GND 20 RST \u5fa9\u4f4d, \u5167\u90e8\u4e0a\u62c9\u3002>10uS \u4f4e\u96fb\u5e73\u5fa9\u4f4d\u6a21\u7d44\u3002\u7121\u9700\u8981\u5916\u63a5\u963b\u5bb9\uff0c\u5efa\u8b70\u63a5\u5230MCU\u7684GPIO\u5f15\u8173\u4ee5\u5be6\u73fe\u8edf\u9ad4\u5fa9\u4f4d 21 N/C \u4fdd\u7559 22 N/C \u4fdd\u7559 23 N/C \u4fdd\u7559 24 GND GND 25 N/C \u4fdd\u7559 \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u8f09\u9ad4\u7cfb\u4f7f\u7528 \u524d-\u5de6-\u4e0a(FLU)\u53f3\u624b\u5750\u6a19\u7cfb\u3002\u5176\u4e2d\u6b50\u62c9\u89d2\u65cb\u8f49\u9806\u5e8f\u70ba ZYX(\u5148\u8f49Z\u8ef8\uff0c\u518d\u8f49Y\u8ef8\uff0c\u6700\u5f8c\u8f49X\u8ef8)\u65cb\u8f49\u9806\u5e8f\u3002\u5177\u9ad4\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7e5e Z \u8ef8\u65b9\u5411\u65cb\u8f49: \u822a\u5411\u89d2\\Yaw\\phi( \\psi \\psi ) \u7bc4\u570d: -180\u00b0 - 180\u00b0 \u7e5e Y \u8ef8\u65b9\u5411\u65cb\u8f49: \u4fef\u4ef0\u89d2\\Pitch\\theta( \\theta \\theta ) \u7bc4\u570d: -90\u00b0-90\u00b0 \u7e5e X \u8ef8\u65b9\u5411\u65cb\u8f49:\u6a6b\u6efe\u89d2\\Roll\\psi( \\phi \\phi )\u7bc4\u570d: -180\u00b0-180\u00b0 \u5982\u679c\u5c07\u6a21\u7d44\u8996\u70ba\u98db\u884c\u5668\u7684\u8a71\u3002X \u8ef8\u61c9\u8996\u70ba\u6a5f\u982d\u65b9\u5411\u3002\u7576\u611f\u6e2c\u5668\u7cfb\u8207\u6163\u6027\u7cfb\u91cd\u5408\u6642\uff0c\u6b50\u62c9\u89d2\u7684\u7406\u60f3\u8f38\u51fa\u70ba:Pitch = 0\u00b0, Roll = 0\u00b0, Yaw = 0\u00b0 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u59ff\u614b\u89d2 \u5178\u578b\u503c \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u975c\u614b\u8aa4\u5dee 0.8\u00b0 \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u52d5\u614b\u8aa4\u5dee 2.5\u00b0 \u904b\u52d5\u4e2d\u822a\u5411\u89d2\u7cbe\u5ea6(30min,\u6c34\u5e73\u5e73\u7a69\u904b\u52d5,\u985e\u6383\u5730\u6a5f\u904b\u52d5\u6a21\u5f0f) <10\u00b0 \u9640\u87ba\u5100 \u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b12000\u00b0/s \u96f6\u504f\u7a69\u5b9a\u6027 10\u00b0/h \u523b\u5ea6\u975e\u7dda\u6027\u5ea6 \u00b10.3%(\u6eff\u91cf\u7a0b\u6642) \u52a0\u901f\u5ea6\u654f\u611f\u6027 0.1\u00b0/s/g \u52a0\u901f\u5ea6\u8a08 \u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b18G (1G = 1x \u91cd\u529b\u52a0\u901f\u5ea6 ) \u975e\u7dda\u6027\u5ea6 \u00b10.5% (\u6eff\u91cf\u7a0b\u6642) \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578 \u53c3\u6578 \u503c \u5e8f\u5217\u57e0\u8f38\u51fa\u9b91\u7387 9600/115200/460800/921600\u53ef\u9078 \u5e40\u8f38\u51fa\u901f\u7387 1/25/50/100/200/400Hz \u53ef\u9078 \u611f\u6e2c\u5668\u6821\u6e96 \u52a0\u901f\u5ea6\u8a08\u548c\u9640\u87ba\u5100\u5728\u51fa\u5ee0\u524d\u7d93\u904e\u6bd4\u4f8b\u56e0\u5b50\u8aa4\u5dee\u548c\u975e\u6b63\u4ea4\u8aa4\u5dee\u6821\u6e96\uff0c\u6821\u6e96\u53c3\u6578\u4fdd\u5b58\u5728\u6a21\u7d44\u5167\u90e8\u3002 \u9640\u87ba\u5100\u7684\u8f38\u51fa\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u6703\u6709\u4e00\u500b\u96a8\u6a5f\u7684\u4e0d\u70ba0\u7684bias\uff0c\u7a31\u4e4b\u70ba\u96f6\u504f\u91cd\u8907\u6027\u3002\u9019\u500b\u96a8\u6a5fbias\u4e0d\u80fd\u5728\u51fa\u5ee0\u524d\u88ab\u6821\u6e96\u3002\u7cfb\u7d71\u5728\u555f\u52d5\u5f8c1S\u5167\u8a8d\u70ba\u8655\u65bc\u975c\u6b62\u72c0\u614b\u4e26\u63a1\u96c61S\u7684\u9640\u87ba\u5100\u89d2\u901f\u5ea6\u4f5c\u70ba\u521d\u59cbbias\u3002\u9019\u500b\u904e\u7a0b\u7a31\u4e4b\u70ba\u9640\u87ba\u5100\u4e0a\u96fb\u81ea\u6821\u6e96\u3002\u81ea\u6821\u6e96\u5728\u4e0a\u96fb\u5f8c\u975c\u6b62\u6a21\u7d443s \u5de6\u53f3\u53ef\u7372\u5f97\u6700\u597d\u7684\u6821\u6e96\u6548\u679c\u3002 \u5982\u4e0a\u96fb1s\u5167\u6a21\u7d44\u8655\u65bc\u904b\u52d5\u72c0\u614b(\u5305\u62ec\u7de9\u6162\u8f49\u52d5\uff0c\u632f\u52d5\u7b49)\u5247\u822a\u5411\u89d2\u98c4\u79fb\u73fe\u8c61\u6703\u986f\u8457\u589e\u5927 \u3002 \u5efa\u8b70\u4f7f\u7528\u6642\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u975c\u6b62\u81f3\u5c111s\u3002 \u78c1\u611f\u6e2c\u5668(\u90e8\u5206\u578b\u865f\u652f\u63f4)\u51fa\u5ee0\u524d\u7d93\u904e\u6a62\u7403\u6821\u6e96\uff0c\u4f46\u78c1\u611f\u6e2c\u5668\u5f88\u5bb9\u6613\u53d7\u5230\u5916\u754c\u74b0\u5883\u78c1\u5834\u5e72\u64fe\uff0c\u4e00\u822c\u90fd\u9700\u8981\u5ba2\u6236\u91cd\u65b0\u6821\u6e96\uff0c\u51fa\u5ee0\u6821\u6e96\u53c3\u6578\u610f\u7fa9\u4e0d\u5927\u3002\u8a73\u898b\u5730\u78c1\u6821\u6e96\u7ae0\u7bc0\u3002 \u5b89\u88dd\u53ca\u710a\u63a5 \u5b89\u88dd\u4f4d\u7f6e\u8acb\u9060\u96e2PCB\u5bb9\u6613\u5f62\u8b8a\u9ede\uff0c\u76e1\u91cf\u9060\u96e2PCB\u908a\u7de3(>30mm)\uff0c\u9060\u96e2PCB\u5b9a\u4f4d\u87ba\u7d72\u5b54(>10mm)\u7b49\u3002 \u5b89\u88dd\u4f4d\u7f6e\u8acb\u9060\u96e2\u5f37\u78c1\u8a2d\u5099\uff0c\u5982\u96fb\u6a5f\uff0c\u5587\u53ed\u7b49\u5f37\u78c1\u5668\u4ef6\u3002 \u7d44\u88dd\u597d\u7684PCB\u4e0d\u5f97\u4f7f\u7528\u8d85\u8072\u6ce2\u6e05\u6f54\u5100\u9032\u884c\u6e05\u6f54\u3002 \u672c\u7522\u54c1\u4e0d\u53ef\u4f7f\u7528\u5851\u5c01\u6216\u5674\u5857\u4e09\u9632\u6f06\uff0c\u5674\u6f06\u6216\u5851\u5c01\u6703\u9020\u6210\u611f\u6e2c\u5668\u61c9\u529b\u6539\u8b8a\u9032\u800c\u5f71\u97ff\u6027\u80fd\u3002 \u63a8\u85a6\u56de\u6d41\u710a\u7684\u7210\u6eab\u66f2\u7dda\u5716\u5982\u4e0b\uff1a \u6ce8\u610f \u56de\u6d41\u710a\u6700\u5f8c\u968e\u6bb5\u9700\u8981\u81ea\u7136\u51b7\u537b\uff0c\u4e0d\u80fd\u958b\u555f\u7210\u5b50\u5f37\u5236\u98a8\u51b7\u537b\uff0c\u5426\u5247\u56b4\u91cd\u5f71\u97ff\u7522\u54c1\u6027\u80fd\u3002 \u61c9\u7528\u6307\u5357 \u6a21\u7d44\u8207PC\u6a5f\u9023\u63a5 \u5efa\u8b70\u4f7f\u7528\u8a55\u4f30\u677f\u8207PC\u6a5f\u9032\u884c\u9023\u63a5\uff0c\u8a55\u4f30\u677f\u677f\u8f09USB\u4f9b\u96fb\u53caUSB\u8f49\u5e8f\u5217\u57e0\u529f\u80fd\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u914d\u5408PC\u6a5f\u4e0a\u7684\u8a55\u4f30\u8edf\u9ad4\u9032\u884c\u6027\u80fd\u6e2c\u8a66\u3002\u5177\u9ad4\u8acb\u53c3\u898b\u9644\u9304\u4e2d\u7684\u8a55\u4f30\u677f\u4e00\u7bc0\u3002 \u6a21\u7d44\u8207MCU\u9032\u884c\u9023\u63a5 \u6a21\u7d44\u8207MCU\u901a\u904eTTL\u96fb\u5e73\u7684\u5e8f\u5217\u57e0\u9032\u884c\u9023\u63a5\uff0c\u5efa\u8b70\u6a21\u7d44\u7684RST\u5f15\u8173\u5efa\u8b70\u63a5\u5230MCU\u7684GPIO\u4e0a\u3002\u65b9\u4fbfMCU\u5f37\u5236\u5fa9\u4f4d\u6a21\u7d44\u3002 \u6ce8\u610f \u5982\u4e0d\u4f7f\u7528\u540c\u6b65\u8f38\u5165(SYNC_IN) \u548c\u540c\u6b65\u8f38\u51fa\u529f\u80fd(SYNC_OUT) \u53ef\u4e0d\u63a5SYNC_IN \u548c SYNC_OUT\u3002 120\u6b50\u96fb\u963b\u7684\u4f5c\u7528\u662f\u70ba\u4e86\u65b9\u4fbf\u8abf\u8a66\uff0c\u4e26\u9632\u6b62MCU\u548c\u6a21\u7d44\u96fb\u5e73\u4e0d\u5339\u914d\uff0c\u53ef\u4ee5\u53bb\u6389\uff0c\u5efa\u8b70\u4fdd\u7559\u3002 VCC\u7684\u96fb\u58d3\u7bc4\u570d\u5177\u9ad4\u53c3\u52a0\u624b\u518a\u8aaa\u660e \u6a21\u7d44\u5167\u7f6e\u4e0a\u96fb\u5fa9\u4f4d\u96fb\u8def\uff0cRST\u53ef\u4ee5\u4e0d\u63a5\uff0c\u4f46\u662f\u5efa\u8b70\u63a5\u5230\u4e3b\u6a5f\u4e00\u500bGPIO\u4e0a\u4f86\u5be6\u73fe\u8edf\u9ad4\u5fa9\u4f4d\u3002 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6a21\u7d44\u4e0a\u96fb\u5f8c\uff0c\u9ed8\u8a8d\u6309\u51fa\u5ee0\u5e40\u7387(\u901a\u5e38\u70ba100)\u8f38\u51fa\u5e40\u6578\u64da\uff0c\u5e40\u683c\u5f0f\u5982\u4e0b\uff1a \u57df\u540d\u7a31 \u503c \u9577\u5ea6(\u5b57\u7bc0) \u8aaa\u660e PRE 0x5A 1 \u56fa\u5b9a\u70ba0x5A TYPE 0xA5 1 \u56fa\u5b9a\u70ba0xA5 LEN 1-512 2 \u5e40\u4e2d\u6578\u64da\u57df\u7684\u9577\u5ea6\uff0c\u4f4e\u5b57\u7bc0\u5728\u524d\u3002\u9577\u5ea6\u8868\u793a\u6578\u64da\u57df(PAYLOAD)\u7684\u9577\u5ea6\uff0c\u4e0d\u5305\u542b PRE , TYPE , LEN , CRC \u5b57\u6bb5\u3002 CRC - 2 \u9664CRC \u672c\u8eab\u5916\u5176\u9918\u6240\u6709\u5b57\u6bb5( PRE,TYPE,LEN, PAYLOAD )\u5e40\u6578\u64da\u768416 \u4f4dCRC \u6821\u9a57\u548c\u3002LSB(\u4f4e\u5b57\u7bc0\u5728\u524d) PAYLOAD - 1-512 \u4e00\u5e40\u651c\u5e36\u7684\u6578\u64da\u3002PAYLOAD\u57df \u7531\u82e5\u5e72\u500b**\u5b50\u6578\u64da\u5305**\u7d44\u6210\u3002\u6bcf\u500b\u6578\u64da\u5305\u5305\u542b\u6578\u64da\u5305\u6a19\u7c64\u548c\u6578\u64da\u5169\u90e8\u5206\u3002\u6a19\u7c64\u6c7a\u5b9a\u4e86\u6578\u64da\u7684\u985e\u578b\u53ca\u9577\u5ea6\u3002 CRC\u5be6\u73fe\u51fd\u6578\uff1a /* currectCrc: previous crc value, set 0 if it's first section src: source stream data lengthInBytes: length */ static void crc16_update(uint16_t *currectCrc, const uint8_t *src, uint32_t lengthInBytes) { uint32_t crc = *currectCrc; uint32_t j; for (j=0; j < lengthInBytes; ++j) { uint32_t i; uint32_t byte = src[j]; crc ^= byte << 8; for (i = 0; i < 8; ++i) { uint32_t temp = crc << 1; if (crc & 0x8000) { temp ^= 0x1021; } crc = temp; } } *currectCrc = crc; } \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd \u6578\u64da\u5305\u6a19\u7c64(DATA_ID) \u6578\u64da\u5305\u9577\u5ea6(\u5305\u542b\u6a19\u7c641\u5b57\u7bc0) \u540d\u7a31 \u5099\u8a3b 0x90 2 \u7528\u6236ID 0xA0 7 \u52a0\u901f\u5ea6 0xB0 7 \u89d2\u901f\u5ea6 0xC0 7 \u78c1\u5834\u5f37\u5ea6 0xD0 7 \u6b50\u62c9\u89d2 0xD1 17 \u56db\u5143\u6578 0xF0 5 \u6c23\u58d3 \u8f38\u51fa0 0x91 76 IMUSOL(IMU\u6578\u64da\u96c6\u5408) \u63a8\u85a6\u4f7f\u7528 \u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868 0x90(\u7528\u6236ID) \u51712\u5b57\u7bc0\uff0c\u7528\u6236\u8a2d\u7f6e\u7684ID\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x90 1 uint8_t 1 - \u7528\u6236ID 0xA0(\u52a0\u901f\u5ea6) \u51717 \u500b\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u52a0\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xA0 1 int16_t 2 0.001G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) X\u8ef8\u52a0\u901f\u5ea6 3 int16_t 2 0.001G Y\u8ef8\u52a0\u901f\u5ea6 5 int16_t 2 0.001G Z\u8ef8\u52a0\u901f\u5ea6 0xB0(\u89d2\u901f\u5ea6) \u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u89d2\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64\uff1a0xB0 1 int16_t 2 0.1\u00b0/s X\u8ef8\u89d2\u901f\u5ea6 3 int16_t 2 0.1\u00b0/s Y\u8ef8\u89d2\u901f\u5ea6 5 int16_t 2 0.1\u00b0/s Z\u8ef8\u89d2\u901f\u5ea6 0xC0(\u78c1\u5834\u5f37\u5ea6) \u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u78c1\u5834\u5f37\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xC0 1 int16_t 2 0.001Gauss X\u8ef8\u78c1\u5834\u5f37\u5ea6 3 int16_t 2 0.001Gauss Y\u8ef8\u78c1\u5834\u5f37\u5ea6 5 int16_t 2 0.001Gauss Z\u8ef8\u78c1\u5834\u5f37\u5ea6 0xD0(\u6b50\u62c9\u89d2) \u51717\u5b57\u7bc0\uff0cLSB\u3002\u683c\u5f0f\u70baint16\uff0c\u5171\u4e09\u500b\u8ef8\uff0c\u6bcf\u500b\u8ef8\u53602 \u500b\u5b57\u7bc0\uff0c\u9806\u5e8f\u70baPitch/Roll/Yaw\u3002\u63a5\u6536\u5230Roll, Pitch \u70ba\u7269\u7406\u503c\u4e58\u4ee5100 \u5f8c\u5f97\u5230\u7684\u6578\u503c\uff0cYaw \u70ba\u4e58\u4ee510 \u5f97\u5230\u7684\u6578\u503c\u3002 \u4f8b\uff1a\u7576\u63a5\u6536\u5230\u7684Yaw = 100 \u6642\uff0c\u8868\u793a\u822a\u5411\u89d2\u70ba10\u00b0 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD0 1 int16_t 2 0.01\u00b0 Pitch(\u4fef\u4ef0\u89d2) 3 int16_t 2 0.01\u00b0 Roll(\u6a6b\u6efe\u89d2) 5 int16_t 2 0.1\u00b0 Yaw(\u822a\u5411\u89d2) 0XD1(\u56db\u5143\u6578) \u517117\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\uff0c\u51714\u500b\u503c\uff0c\u9806\u5e8f\u70ba:W X Y Z.\u3002\u6bcf\u500b\u503c\u53604 \u5b57\u7bc0(float)\uff0c\u6574\u500b\u56db\u5143\u6578\u70ba4\u500bfloat\uff0cLSB\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD1 1 float 4 - W 5 float 4 - X 9 float 4 - Y 13 float 4 - Z 0XF0(\u6c23\u58d3) \u51715\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\u3002(\u53ea\u91dd\u5c0d\u6709\u6c23\u58d3\u611f\u6e2c\u5668\u7684\u7522\u54c1) \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xF0 1 float 4 Pa \u5927\u6c23\u58d3 0X91( IMUSOL) \u517176\u5b57\u7bc0\uff0c\u65b0\u52a0\u5165\u7684\u6578\u64da\u5305\uff0c\u7528\u65bc\u66ff\u4ee3A0,B0,C0,D0,D1\u7b49\u6578\u64da\u5305\u3002\u6574\u5408\u4e86IMU\u7684\u611f\u6e2c\u5668\u539f\u59cb\u8f38\u51fa\u548c\u59ff\u614b\u89e3\u7b97\u6578\u64da\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x91 1 uint8_t 1 - ID 2 - 6 - \u4fdd\u7559 8 uint32_t 4 ms \u6642\u9593\u6233\u8cc7\u8a0a\uff0c\u5f9e\u7cfb\u7d71\u958b\u6a5f\u958b\u59cb\u7d2f\u52a0\uff0c\u6bcf\u6beb\u79d2\u589e\u52a01 12 float 12 1G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) X,Y,Z\u8ef8\u7684\u52a0\u901f\u5ea6\uff0c\u6ce8\u610f\u55ae\u4f4d\u548c0xA0\u4e0d\u540c 24 float 12 deg/s X,Y,Z\u8ef8\u7684\u89d2\u901f\u5ea6\uff0c\u6ce8\u610f\u55ae\u4f4d\u548c0xB0\u4e0d\u540c 36 float 12 uT X,Y,Z\u8ef8\u7684\u78c1\u5834\u5f37\u5ea6(HI229\u652f\u63f4,\u6ce8\u610f\u55ae\u4f4d\u548c0xC0\u4e0d\u540c) 48 float 12 deg \u7bc0\u9ede\u6b50\u62c9\u89d2\u96c6\u5408, \u9806\u5e8f\u70ba\uff1a\u6a6b\u6efe\u89d2(Roll)\uff0c\u4fef\u4ef0\u89d2(Pitch)\uff0c\u822a\u5411\u89d2(Yaw)(\u6ce8\u610f\u9806\u5e8f\u548c\u55ae\u4f4d\u82070xD0\u6578\u64da\u5305\u4e0d\u540c) 60 float 16 - \u7bc0\u9ede\u56db\u5143\u6578\u96c6\u5408,\u9806\u5e8f\u70baWXYZ \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u51fa\u5ee0\u9ed8\u8a8d\u4e00\u5e40\u4e2d\u651c\u5e36\u6578\u64da\u5305\u6578\u64da\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7522\u54c1 \u9ed8\u8a8d\u8f38\u51fa\u6578\u64da\u5305 HI226 0x91 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305 \u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517141\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991835\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 23 00 FD 61 90 00 A0 55 02 3D 01 E2 02 B0 FE FF 17 00 44 00 C0 80 FF 60 FF 32 FF D0 64 F2 6C 0E BB 01 F0 00 00 00 00 \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 23 00 : (0x00<<8) + 0x23 = 35 \u5e40CRC\u6821\u9a57\u503c: FD 61 :(0x61<<8) + 0xFD = 0x61FD \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x61FD, \u8207\u5e40\u651c\u5e36\u7684CRC\u503c\u76f8\u540c, \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da 90 00 \uff1aID \u6578\u64da\u5305, 0x90\u70ba\u6578\u64da\u5305\u6a19\u7c64, ID = 0x00. A0 55 02 3D 01 E2 02 :\u52a0\u901f\u5ea6\u6578\u64da\u5305,0xA0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u52a0\u901f\u5ea6\u70ba\uff1a X\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0x55) = 597(\u55ae\u4f4d\u70bamG) Y\u8ef8\u52a0\u901f\u5ea6 = (int16_t)((0x01<<8)+ 0x3D) = 317 Z\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0xE2) = 738 B0 FE FF 17 00 44 00 :\u89d2\u901f\u5ea6\u6578\u64da\u5305,0xB0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u89d2\u901f\u5ea6\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0xFE) = -2(\u55ae\u4f4d\u70ba0.1\u00b0/s) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0x00<<8)+ 0x17) = 23 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0x00<<8)+ 0x44) = 68 C0 80 FF 60 FF 32 FF :\u78c1\u5834\u6578\u64da\u5305,0xC0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u78c1\u5834\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x80) = -128 (\u55ae\u4f4d\u70ba0.001Gauss) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0xFF<<8)+ 0x60) = -160 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x32) = -206 D0 64 F2 6C 0E BB 01 \u6b50\u62c9\u89d2\u6578\u64da\u5305, 0xD0\u70ba\u6578\u64da\u5305\u6a19\u7c64 Pitch= (int16_t)((0xF2<<8)+ 0x64) / 100 = -3484 / 100 = -34.84 \u00b0 Roll= (int16_t)((0x0E<<8)+ 0x6C) / 100 = 3692 / 100 = 36.92\u00b0 Yaw = (int16_t)((0x01<<8)+ 0xBB) / 10 = 443 /10 = 44.3\u00b0 F0 00 00 00 00 \u6c23\u58d3\u6578\u64da\u5305\uff0c0xF0\u70ba\u6578\u64da\u5305\u6a19\u7c64 float prs; prs = memcpy(&prs, &buf[37], 4); \u6700\u5f8c\u5f97\u5230\u7d50\u679c\uff1a id : 0 acc(G) : 0.597 0.317 0.738 gyr(deg/s) : -0.200 2.300 6.800 mag(uT) : -12.800 -16.000 -20.600 eul(R/P/Y) : 36.920 -34.840 44.300 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 \u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517182\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991876\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 4C 00 6C 51 91 00 A0 3B 01 A8 02 97 BD BB 04 00 9C A0 65 3E A2 26 45 3F 5C E7 30 3F E2 D4 5A C2 E5 9D A0 C1 EB 23 EE C2 78 77 99 41 AB AA D1 C1 AB 2A 0A C2 8D E1 42 42 8F 1D A8 C1 1E 0C 36 C2 E6 E5 5A 3F C1 94 9E 3E B8 C0 9E BE BE DF 8D BE \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 4C 00 : (0x00<<8) + 0x4C = 76 \u5e40CRC\u6821\u9a57\u503c: 6C 51 :(0x51<<8) + 0x6C = 0x516C \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x516C. \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da \u5f9e 0x91 \u958b\u59cb\u70ba\u6578\u64da\u5305\u7684\u6578\u64da\u57df\u3002\u5728C\u8a9e\u8a00\u4e2d\u53ef\u4ee5\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u4f86\u65b9\u4fbf\u7684\u8b80\u53d6\u6578\u64da\uff1a \u5b9a\u7fa90x91\u6578\u64da\u5305\u7d50\u69cb\u9ad4\u5982\u4e0b\uff1a __packed typedef struct { uint8_t tag; /* data packet tag */ uint8_t id; uint8_t rev[6]; /* reserved */ uint32_t ts; /* timestamp */ float acc[3]; float gyr[3]; float mag[3]; float eul[3]; /* eular angles: Roll,Pitch,Yaw */ float quat[4]; /* quaternion */ }id0x91_t; __packed \u70ba\u7de8\u8b6f\u5668\u95dc\u9375\u5b57(Keil\u4e0b)\uff0c\u8868\u793a\u7d50\u69cb\u9ad4\u6309\u5b57\u7bc0\u7dca\u5c0d\u9f4a\uff0c\u7d50\u69cb\u9ad4\u6bcf\u4e00\u500b\u5143\u7d20\u4e00\u4e00\u5c0d\u61c90x91\u6578\u64da\u5305\u7684\u7d50\u69cb\u5b9a\u7fa9\u3002\u63a5\u6536\u6578\u64da\u6642\u5c07\u63a5\u6536\u5230\u7684\u9663\u5217\u76f4\u63a5memcpy\u5230\u7d50\u69cb\u9ad4\u5373\u53ef\uff1a(\u6ce8\u610f\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u6642\u5fc5\u98084\u5b57\u7bc0\u5c0d\u9f4a), \u5176\u4e2d buf \u6307\u5411\u5e40\u982d, buf[6] \u6307\u5411\u5e40\u4e2d\u6578\u64da\u57df \u3002 /* \u63a5\u6536\u6578\u64da\u4e26\u4f7f\u75280x91\u6578\u64da\u5305\u7d50\u69cb\u5b9a\u7fa9\u4f86\u89e3\u91cb\u6578\u64da */ __align(4) id0x91_t dat; /* struct must be 4 byte aligned */ memcpy(&dat, &buf[6], sizeof(id0x91_t)); \u6700\u5f8c\u5f97\u5230dat\u6578\u64da\u7d50\u679c\uff1a id : 0 timestamp : 310205 acc : 0.224 0.770 0.691 gyr : -54.708 -20.077 -119.070 mag : 19.183 -26.208 -34.542 eul(R/P/Y) : 48.720 -21.014 -45.512 quat : 0.855 0.310 -0.310 -0.277 AT\u6307\u4ee4 \u7576\u4f7f\u7528\u5e8f\u5217\u57e0\u8207\u6a21\u7d44\u901a\u8a0a\u6642, \u6a21\u7d44\u652f\u63f4AT \u6307\u4ee4\u96c6\u914d\u7f6e/\u67e5\u770b\u6a21\u7d44\u53c3\u6578\u3002AT \u6307\u4ee4\u7e3d\u4ee5ASCII \u78bc AT \u958b\u982d\uff0c\u5f8c\u9762\u8ddf\u63a7\u5236\u5b57\u7b26\uff0c\u6700 \u5f8c\u4ee5\u56de\u8eca\u63db\u884c \\r\\n \u7d50\u675f\u3002\u53ef\u4f7f\u7528\u5e8f\u5217\u57e0\u8abf\u8a66\u52a9\u624b\u9032\u884c\u6e2c\u8a66\uff1a \u901a\u7528\u6a21\u7d44 AT\u6307\u4ee4\u5982\u4e0b \u6307\u4ee4 \u529f\u80fd \u6389\u96fb\u4fdd\u5b58(Y) \u7acb\u5373\u751f\u6548(Y),\u5fa9\u4f4d\u751f\u6548(R) \u5099\u8a3b AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID Y R AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a N Y AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u983b\u7387 Y R AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387 Y R AT+EOUT \u6578\u64da\u8f38\u51fa\u958b\u95dc N Y AT+RST \u5fa9\u4f4d\u6a21\u7d44 N Y AT+TRG \u55ae\u6b21\u8f38\u51fa\u89f8\u767c N Y AT+SETPTL \u8a2d\u7f6e\u8f38\u51fa\u6578\u64da\u5305 Y Y AT+MODE \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f Y R \u4e0d\u652f\u63f4(\u50c5\u516d\u8ef8) AT+GWID \u8a2d\u7f6e\u7121\u7dda\u63a5\u6536\u6a5fID Y R \u4e0d\u652f\u63f4 AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID \u4f8b AT+ID=1 AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a\uff0c\u5305\u62ec\u7522\u54c1\u578b\u865f\uff0c\u7248\u672c\uff0c\u97cc\u9ad4\u767c\u4f48\u65e5\u671f\u7b49\u3002 AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u7387\u3002\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548 \u4f8b \u8a2d\u7f6e\u5e8f\u5217\u57e0\u8f38\u51fa\u901f\u7387\u70ba100Hz: AT+ODR=100 \u6ce8\u610f\uff1a\u7576\u8f38\u51fa\u5e40\u7387\u8a2d\u7f6e\u6bd4\u8f03\u9ad8\u6642(\u5982200),\u9ed8\u8a8d\u7684115200\u9b91\u7387\u53ef\u80fd\u4e0d\u6eff\u8db3\u8f38\u51fa\u983b\u5bec\u8981\u6c42\uff0c\u6b64\u6642\u9700\u8981\u5c07\u6a21\u7d44\u9b91\u7387\u8a2d\u9ad8(\u5982921600)\u5f8c\uff0c\u6a21\u7d44\u624d\u80fd\u7a69\u5b9a\u8f38\u51fa\u9ad8\u5e40\u7387\u3002 AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387\uff0c\u53ef\u9078\u503c\uff1a 9600/115200/460800/921600 \u4f8b AT+BAUD=115200 \u6ce8\u610f \u4f7f\u7528\u6b64\u6307\u4ee4\u9700\u8981\u7279\u5225\u6ce8\u610f\uff0c\u8f38\u5165\u932f\u8aa4\u9b91\u7387\u5f8c\u6703\u5c0e\u81f4\u7121\u6cd5\u548c\u6a21\u7d44\u901a\u8a0a \u9b91\u7387\u53c3\u6578\u8a2d\u7f6e\u597d\u5f8c\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548\u3002 CH-Center \u8edf\u9ad4\u7684\u9b91\u7387\u4e5f\u8981\u505a\u76f8\u61c9\u4fee\u6539\u3002 \u5347\u7d1a\u97cc\u9ad4\u6642\uff0c\u9700\u8981\u5207\u63db\u56de115200 \u9b91\u7387\u3002 AT+EOUT \u5e8f\u5217\u57e0\u8f38\u51fa\u958b\u95dc \u4f8b \u6253\u958b\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=1 \u95dc\u9589\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=0 AT+RST \u5fa9\u4f4d\u6a21\u7d44 \u4f8b AT+RST AT+SETPTL \u8a2d\u7f6e\u8f38\u51fa\u5354\u8b70: \u6a21\u7d44\u6578\u64da\u5e40\u4e2d\u7684\u6578\u64da\u5305\u7d44\u6210\u53ef\u4f7f\u7528AT\u6307\u4ee4\u914d\u7f6e\uff0c\u683c\u5f0f\u70ba AT+SETPTL=<ITEM_ID>,<ITEM_ID>... \u4f8b \u914d\u7f6e\u6a21\u7d44\u8f38\u51fa\u52a0\u901f\u5ea6\uff0c\u89d2\u901f\u5ea6, \u6574\u5f62\u683c\u5f0f\u6b50\u62c9\u89d2\u548c\u56db\u5143\u6578\u7684\u6307\u4ee4\u70ba\uff1a AT+SETPTL=A0,B0,D0,D1 AT+TRG \u89f8\u767c\u6a21\u7d44\u8f38\u51fa\u4e00\u5e40\u6578\u64da\uff0c\u53ef\u4ee5\u914d\u5408AT+ODR=0\u4f86\u5be6\u73fe\u55ae\u6b21\u89f8\u767c\u8f38\u51fa\u3002 \u4f8b AT+TRG \u9644\u9304A - \u8a55\u4f30\u677f \u8a55\u4f30\u677f\u7c21\u4ecb \u8a55\u4f30\u677f\u63d0\u4f9b\u4e86\u5feb\u901f\u8a55\u4f30\u672c\u7522\u54c1\u7684\u65b9\u6cd5\u3002\u677f\u8f09USB-UART\u82af\u7247(CP2104)\u4ee5\u53ca\u4f9b\u96fbLDO\uff0c\u4e26\u5c07\u6a21\u7d44\u63a5\u53e3\u5f15\u51fa\u65b9\u4fbf\u8abf\u8a66\u8a55\u4f30\u3002 \u5b89\u88dd\u8cc7\u6599\u5305\u4e2d\u7684CP2104 USB-UART \u9a45\u52d5\u7a0b\u5e8f, \u5c07USB\u7dda\u9023\u63a5\u96fb\u8166\u548c\u6a21\u7d44\uff0c\u6253\u958b CH-Center \u8edf\u9ad4\uff0c\u9023\u63a5\u5e8f\u5217\u57e0\uff0c\u9ed8\u8a8d\u72c0\u614b\u4e0b\uff0c\u6a21\u7d44\u6703\u4ee5115200-N-8-N-1 \u8f38\u51fa\u51fa\u5ee0\u9ed8\u8a8d\u7684\u6578\u64da\u5305\u3002 \u5c3a\u5bf8 \u5f9e\u8a55\u4f30\u677f\u4e0a\u53d6\u4e0b\u7522\u54c1 \u6a21\u7d44\u9ed8\u8a8d\u88ab\u5d4c\u5165\u8a55\u4f30\u677f\u7684PLCC28 \u63d2\u69fd\u4e2d\uff0c\u5982\u9700\u53d6\u51fa\u6a21\u7d44\uff0c\u8acb\u6309\u5982\u4e0b\u6b65\u9a5f\u64cd\u4f5c\uff1a - \u65b7\u96fb\uff0c\u6e96\u5099\u597d\u7d30\u87ba\u7d72\u5200\u6216\u9477\u5b50 - \u5f9ePLCC \u63d2\u5ea7\u6216\u8005\u80cc\u9762\u5713\u5f62\u7a7a\u6d1e\u5167\u5c07\u6a21\u7d44\u64ac\u51fa\u6216\u9802\u51fa\u3002 \u6ce8\u610f \u8a55\u4f30\u677f\u7684\u4e3b\u8981\u4f5c\u7528\u50c5\u50c5\u662f\u5feb\u901f\u8a55\u4f30\u6a21\u7d44\u6027\u80fd, USB \u63a5\u53e3\u672c\u8eab\u4e0d\u9069\u5408\u65bc\u5de5\u696d\u7d1a\u5834\u666f\u6216\u8005\u9ad8\u904b\u52d5\u5834\u5408\u7684\u96fb\u6c23\u9023\u63a5\uff0c\u5982\u679c\u60a8\u7684\u61c9\u7528\u70ba\u9ad8\u904b\u52d5\u74b0\u5883(\u52d5\u4f5c\u6355\u6349\u7b49)\uff0c\u5247\u4e0d\u5efa\u8b70\u5728\u60a8\u7684\u7522\u54c1\u4e2d\u76f4\u63a5\u4f7f\u7528\u8a55\u4f30\u677f\u3002 \u9644\u9304B - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e \u672c\u7522\u54c1\u652f\u63f4\u5347\u7d1a\u97cc\u9ad4\u3002 \u97cc\u9ad4\u5347\u7d1a\u6b65\u9a5f: \u9023\u63a5\u6a21\u7d44\uff0c\u6253\u958b CH-Center \u8edf\u9ad4\uff0c\u5c07\u6a21\u7d44\u548c CH-Center \u8edf\u9ad4\u9b91\u7387\u90fd\u8a2d\u7f6e\u70ba115200. \u6253\u958b\u97cc\u9ad4\u5347\u7d1a\u7a97\u53e3 \u9ede\u64ca\"\u9023\u63a5\"\uff0c\u5982\u51fa\u73fe\u6a21\u7d44\u9023\u63a5\u8cc7\u8a0a\u3002\u5247\u8aaa\u660e\u5347\u7d1a\u7cfb\u7d71\u6e96\u5099\u5c31\u7dd2\uff0c\u9ede\u64ca\u6587\u4ef6\u9078\u64c7\u5668(\u2026)\u9078\u64c7\u526f\u6a94\u540d\u70ba.hex \u7684\u97cc\u9ad4 \u9ede\u64ca\"\u958b\u59cb\u7de8\u7a0b\"\u3002\u4e0b\u8f09\u5b8c\u6210\u5f8c\u6703\u63d0\u793a\u7de8\u7a0b\u5b8c\u6210\uff0c\u6b64\u6642\u95dc\u9589\u5e8f\u5217\u57e0\uff0c\u91cd\u65b0\u7d66\u6a21\u7d44\u4e0a\u96fb\uff0c\u6a21\u7d44\u5347\u7d1a\u5b8c\u6210\u3002","title":"HI226 \u7528\u6236\u624b\u518a"},{"location":"hi226/hi226/#hi226","text":"IMU/VRU\u59ff\u614b\u6e2c\u91cf\u6a21\u7d44, Rev 1.0 HI226 \u7528\u6236\u624b\u518a \u7c21\u4ecb \u4e3b\u8981\u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb \u786c\u9ad4\u53c3\u6578 \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u9640\u87ba\u5100 \u52a0\u901f\u5ea6\u8a08 \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578 \u611f\u6e2c\u5668\u6821\u6e96 \u5b89\u88dd\u53ca\u710a\u63a5 \u61c9\u7528\u6307\u5357 \u6a21\u7d44\u8207PC\u6a5f\u9023\u63a5 \u6a21\u7d44\u8207MCU\u9032\u884c\u9023\u63a5 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd \u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868 0x90(\u7528\u6236ID) 0xA0(\u52a0\u901f\u5ea6) 0xB0(\u89d2\u901f\u5ea6) 0xC0(\u78c1\u5834\u5f37\u5ea6) 0xD0(\u6b50\u62c9\u89d2) 0XD1(\u56db\u5143\u6578) 0XF0(\u6c23\u58d3) 0X91( IMUSOL) \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 AT\u6307\u4ee4 AT+ID AT+INFO AT+ODR AT+BAUD AT+EOUT AT+RST AT+SETPTL AT+TRG \u9644\u9304A - \u8a55\u4f30\u677f \u8a55\u4f30\u677f\u7c21\u4ecb \u5c3a\u5bf8 \u5f9e\u8a55\u4f30\u677f\u4e0a\u53d6\u4e0b\u7522\u54c1 \u9644\u9304B - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e","title":"HI226 \u7528\u6236\u624b\u518a"},{"location":"hi226/hi226/#_1","text":"HI226\u662f\u8d85\u6838\u96fb\u5b50\u63a8\u51fa\u7684\u4e00\u6b3e\u8d85\u4f4e\u6210\u672c\u3001\u9ad8\u6027\u80fd\u3001\u5c0f\u9ad4\u7a4d\u3001\u4f4e\u5ef6\u6642\u7684\u6163\u6027\u6e2c\u91cf\u55ae\u5143(IMU)\uff0c\u672c\u7522\u54c1\u6574\u5408\u4e86\u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08\u3001\u4e09\u8ef8\u9640\u87ba\u5100\u548c\u4e00\u6b3e\u5fae\u63a7\u5236\u5668\u3002\u53ef\u8f38\u51fa\u7d93\u904e\u611f\u6e2c\u5668\u878d\u5408\u7b97\u6cd5\u8a08\u7b97\u5f97\u5230\u7684\u57fa\u65bc\u7576\u5730\u5730\u7406\u5750\u6a19\u7684\u4e09\u7dad\u65b9\u4f4d\u6578\u64da\uff0c\u5305\u542b\u7121\u7d55\u5c0d\u53c3\u8003\u7684\u76f8\u5c0d\u822a\u5411\u89d2\uff0c\u4fef\u4ef0\u89d2\u548c\u6a6b\u6efe\u89d2\u3002\u540c\u6642\u4e5f\u53ef\u4ee5\u8f38\u51fa\u6821\u6e96\u904e\u7684\u539f\u59cb\u7684\u611f\u6e2c\u5668\u6578\u64da\u3002 \u5178\u578b\u61c9\u7528: \u6383\u5730\u6a5f/\u5927\u578b\u6a5f\u5668\u4eba\u822a\u5411\u89d2\u6aa2\u6e2c/\u4f4e\u901f\u96f2\u53f0\u63a7\u5236","title":"\u7c21\u4ecb"},{"location":"hi226/hi226/#_2","text":"","title":"\u4e3b\u8981\u7279\u6027"},{"location":"hi226/hi226/#_3","text":"\u4e09\u8ef8\u9640\u87ba\u5100, \u6700\u5927\u91cf\u7a0b: \u00b12000\u00b0/s \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08, \u6700\u5927\u91cf\u7a0b:\u00b18G","title":"\u677f\u8f09\u611f\u6e2c\u5668"},{"location":"hi226/hi226/#_4","text":"\u5e8f\u5217\u57e0(\u517c\u5bb9TTL \u53ef\u76f4\u63a5\u82075V \u62163.3V \u5e8f\u5217\u57e0\u8a2d\u5099\u9023\u63a5) \u4f9b\u96fb\u96fb\u58d3\uff1a3.3 (\u00b1 100 mV) \u6700\u5927\u5cf0\u503c\u529f\u8017\uff1a32mA","title":"\u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb"},{"location":"hi226/hi226/#_5","text":"\u53c3\u6578 \u63cf\u8ff0 \u8f38\u51fa\u6578\u64da\u63a5\u53e3 UART(TTL 1.8V - 3.3V) \u5de5\u4f5c\u96fb\u58d3 3.3V (\u00b1 100mV) \u529f\u8017 86mW @3.3V \u6eab\u5ea6\u7bc4\u570d -20\u2103 - 85 \u2103 \u6700\u5927\u7dda\u6027\u52a0\u901f\u5ea6 0 - 115 m/s^2 m/s^2 \u5c3a\u5bf8 12 x 12 x 2.6mm (W x L x H) \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08 \u4e09\u8ef8\u9640\u87ba\u5100 \u7b26\u865f \u6700\u5c0f\u503c \u5178\u578b\u503c \u6700\u5927\u503c \u55ae\u4f4d A1 - 11 - mm B - 11 - mm D - 12 - mm E - 12 - mm H 2.5 2.6 2.7 mm a - 1.5 - mm b - 0.9 - mm c - 1 - mm e - 1.27 - mm f - 1 - mm \u5f15\u8173\u865f \u540d\u7a31 \u8aaa\u660e 5 N/C \u4fdd\u7559 6 VCC \u96fb\u6e90 3.3V 7 SYNC_OUT \u6578\u64da\u8f38\u51fa\u540c\u6b65: \u6578\u64da\u8f38\u51fa\u6642\uff0c \u6b64\u5f15\u8173\u70ba\u9ad8\u96fb\u5e73\uff0c\u7a7a\u9592\u6642\u70ba\u4f4e\u96fb\u5e73\u3002 8 RXD \u6a21\u7d44\u5e8f\u5217\u57e0\u63a5\u6536 UART RXD(\u63a5 MCU \u7684 TXD) 9 TXD \u6a21\u7d44\u5e8f\u5217\u57e0\u767c\u9001 UART TXD (\u63a5 MCU \u7684 RXD) 10 SYNC_IN \u6578\u64da\u8f38\u5165\u540c\u6b65: \u5167\u90e8\u4e0b\u62c9\uff0c\u7576\u6a21\u7d44\u6aa2\u6e2c\u5230\u4e0a\u5347\u6cbf\u6642, \u8f38\u51fa\u4e00\u5e40\u6578\u64da\u3002 11 N/C \u4fdd\u7559 19 GND GND 20 RST \u5fa9\u4f4d, \u5167\u90e8\u4e0a\u62c9\u3002>10uS \u4f4e\u96fb\u5e73\u5fa9\u4f4d\u6a21\u7d44\u3002\u7121\u9700\u8981\u5916\u63a5\u963b\u5bb9\uff0c\u5efa\u8b70\u63a5\u5230MCU\u7684GPIO\u5f15\u8173\u4ee5\u5be6\u73fe\u8edf\u9ad4\u5fa9\u4f4d 21 N/C \u4fdd\u7559 22 N/C \u4fdd\u7559 23 N/C \u4fdd\u7559 24 GND GND 25 N/C \u4fdd\u7559","title":"\u786c\u9ad4\u53c3\u6578"},{"location":"hi226/hi226/#_6","text":"\u8f09\u9ad4\u7cfb\u4f7f\u7528 \u524d-\u5de6-\u4e0a(FLU)\u53f3\u624b\u5750\u6a19\u7cfb\u3002\u5176\u4e2d\u6b50\u62c9\u89d2\u65cb\u8f49\u9806\u5e8f\u70ba ZYX(\u5148\u8f49Z\u8ef8\uff0c\u518d\u8f49Y\u8ef8\uff0c\u6700\u5f8c\u8f49X\u8ef8)\u65cb\u8f49\u9806\u5e8f\u3002\u5177\u9ad4\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7e5e Z \u8ef8\u65b9\u5411\u65cb\u8f49: \u822a\u5411\u89d2\\Yaw\\phi( \\psi \\psi ) \u7bc4\u570d: -180\u00b0 - 180\u00b0 \u7e5e Y \u8ef8\u65b9\u5411\u65cb\u8f49: \u4fef\u4ef0\u89d2\\Pitch\\theta( \\theta \\theta ) \u7bc4\u570d: -90\u00b0-90\u00b0 \u7e5e X \u8ef8\u65b9\u5411\u65cb\u8f49:\u6a6b\u6efe\u89d2\\Roll\\psi( \\phi \\phi )\u7bc4\u570d: -180\u00b0-180\u00b0 \u5982\u679c\u5c07\u6a21\u7d44\u8996\u70ba\u98db\u884c\u5668\u7684\u8a71\u3002X \u8ef8\u61c9\u8996\u70ba\u6a5f\u982d\u65b9\u5411\u3002\u7576\u611f\u6e2c\u5668\u7cfb\u8207\u6163\u6027\u7cfb\u91cd\u5408\u6642\uff0c\u6b50\u62c9\u89d2\u7684\u7406\u60f3\u8f38\u51fa\u70ba:Pitch = 0\u00b0, Roll = 0\u00b0, Yaw = 0\u00b0","title":"\u5750\u6a19\u7cfb\u5b9a\u7fa9"},{"location":"hi226/hi226/#_7","text":"","title":"\u6027\u80fd\u6307\u6a19"},{"location":"hi226/hi226/#_8","text":"\u59ff\u614b\u89d2 \u5178\u578b\u503c \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u975c\u614b\u8aa4\u5dee 0.8\u00b0 \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u52d5\u614b\u8aa4\u5dee 2.5\u00b0 \u904b\u52d5\u4e2d\u822a\u5411\u89d2\u7cbe\u5ea6(30min,\u6c34\u5e73\u5e73\u7a69\u904b\u52d5,\u985e\u6383\u5730\u6a5f\u904b\u52d5\u6a21\u5f0f) <10\u00b0","title":"\u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6"},{"location":"hi226/hi226/#_9","text":"\u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b12000\u00b0/s \u96f6\u504f\u7a69\u5b9a\u6027 10\u00b0/h \u523b\u5ea6\u975e\u7dda\u6027\u5ea6 \u00b10.3%(\u6eff\u91cf\u7a0b\u6642) \u52a0\u901f\u5ea6\u654f\u611f\u6027 0.1\u00b0/s/g","title":"\u9640\u87ba\u5100"},{"location":"hi226/hi226/#_10","text":"\u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b18G (1G = 1x \u91cd\u529b\u52a0\u901f\u5ea6 ) \u975e\u7dda\u6027\u5ea6 \u00b10.5% (\u6eff\u91cf\u7a0b\u6642)","title":"\u52a0\u901f\u5ea6\u8a08"},{"location":"hi226/hi226/#_11","text":"\u53c3\u6578 \u503c \u5e8f\u5217\u57e0\u8f38\u51fa\u9b91\u7387 9600/115200/460800/921600\u53ef\u9078 \u5e40\u8f38\u51fa\u901f\u7387 1/25/50/100/200/400Hz \u53ef\u9078","title":"\u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578"},{"location":"hi226/hi226/#_12","text":"\u52a0\u901f\u5ea6\u8a08\u548c\u9640\u87ba\u5100\u5728\u51fa\u5ee0\u524d\u7d93\u904e\u6bd4\u4f8b\u56e0\u5b50\u8aa4\u5dee\u548c\u975e\u6b63\u4ea4\u8aa4\u5dee\u6821\u6e96\uff0c\u6821\u6e96\u53c3\u6578\u4fdd\u5b58\u5728\u6a21\u7d44\u5167\u90e8\u3002 \u9640\u87ba\u5100\u7684\u8f38\u51fa\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u6703\u6709\u4e00\u500b\u96a8\u6a5f\u7684\u4e0d\u70ba0\u7684bias\uff0c\u7a31\u4e4b\u70ba\u96f6\u504f\u91cd\u8907\u6027\u3002\u9019\u500b\u96a8\u6a5fbias\u4e0d\u80fd\u5728\u51fa\u5ee0\u524d\u88ab\u6821\u6e96\u3002\u7cfb\u7d71\u5728\u555f\u52d5\u5f8c1S\u5167\u8a8d\u70ba\u8655\u65bc\u975c\u6b62\u72c0\u614b\u4e26\u63a1\u96c61S\u7684\u9640\u87ba\u5100\u89d2\u901f\u5ea6\u4f5c\u70ba\u521d\u59cbbias\u3002\u9019\u500b\u904e\u7a0b\u7a31\u4e4b\u70ba\u9640\u87ba\u5100\u4e0a\u96fb\u81ea\u6821\u6e96\u3002\u81ea\u6821\u6e96\u5728\u4e0a\u96fb\u5f8c\u975c\u6b62\u6a21\u7d443s \u5de6\u53f3\u53ef\u7372\u5f97\u6700\u597d\u7684\u6821\u6e96\u6548\u679c\u3002 \u5982\u4e0a\u96fb1s\u5167\u6a21\u7d44\u8655\u65bc\u904b\u52d5\u72c0\u614b(\u5305\u62ec\u7de9\u6162\u8f49\u52d5\uff0c\u632f\u52d5\u7b49)\u5247\u822a\u5411\u89d2\u98c4\u79fb\u73fe\u8c61\u6703\u986f\u8457\u589e\u5927 \u3002 \u5efa\u8b70\u4f7f\u7528\u6642\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u975c\u6b62\u81f3\u5c111s\u3002 \u78c1\u611f\u6e2c\u5668(\u90e8\u5206\u578b\u865f\u652f\u63f4)\u51fa\u5ee0\u524d\u7d93\u904e\u6a62\u7403\u6821\u6e96\uff0c\u4f46\u78c1\u611f\u6e2c\u5668\u5f88\u5bb9\u6613\u53d7\u5230\u5916\u754c\u74b0\u5883\u78c1\u5834\u5e72\u64fe\uff0c\u4e00\u822c\u90fd\u9700\u8981\u5ba2\u6236\u91cd\u65b0\u6821\u6e96\uff0c\u51fa\u5ee0\u6821\u6e96\u53c3\u6578\u610f\u7fa9\u4e0d\u5927\u3002\u8a73\u898b\u5730\u78c1\u6821\u6e96\u7ae0\u7bc0\u3002","title":"\u611f\u6e2c\u5668\u6821\u6e96"},{"location":"hi226/hi226/#_13","text":"\u5b89\u88dd\u4f4d\u7f6e\u8acb\u9060\u96e2PCB\u5bb9\u6613\u5f62\u8b8a\u9ede\uff0c\u76e1\u91cf\u9060\u96e2PCB\u908a\u7de3(>30mm)\uff0c\u9060\u96e2PCB\u5b9a\u4f4d\u87ba\u7d72\u5b54(>10mm)\u7b49\u3002 \u5b89\u88dd\u4f4d\u7f6e\u8acb\u9060\u96e2\u5f37\u78c1\u8a2d\u5099\uff0c\u5982\u96fb\u6a5f\uff0c\u5587\u53ed\u7b49\u5f37\u78c1\u5668\u4ef6\u3002 \u7d44\u88dd\u597d\u7684PCB\u4e0d\u5f97\u4f7f\u7528\u8d85\u8072\u6ce2\u6e05\u6f54\u5100\u9032\u884c\u6e05\u6f54\u3002 \u672c\u7522\u54c1\u4e0d\u53ef\u4f7f\u7528\u5851\u5c01\u6216\u5674\u5857\u4e09\u9632\u6f06\uff0c\u5674\u6f06\u6216\u5851\u5c01\u6703\u9020\u6210\u611f\u6e2c\u5668\u61c9\u529b\u6539\u8b8a\u9032\u800c\u5f71\u97ff\u6027\u80fd\u3002 \u63a8\u85a6\u56de\u6d41\u710a\u7684\u7210\u6eab\u66f2\u7dda\u5716\u5982\u4e0b\uff1a \u6ce8\u610f \u56de\u6d41\u710a\u6700\u5f8c\u968e\u6bb5\u9700\u8981\u81ea\u7136\u51b7\u537b\uff0c\u4e0d\u80fd\u958b\u555f\u7210\u5b50\u5f37\u5236\u98a8\u51b7\u537b\uff0c\u5426\u5247\u56b4\u91cd\u5f71\u97ff\u7522\u54c1\u6027\u80fd\u3002","title":"\u5b89\u88dd\u53ca\u710a\u63a5"},{"location":"hi226/hi226/#_14","text":"","title":"\u61c9\u7528\u6307\u5357"},{"location":"hi226/hi226/#pc","text":"\u5efa\u8b70\u4f7f\u7528\u8a55\u4f30\u677f\u8207PC\u6a5f\u9032\u884c\u9023\u63a5\uff0c\u8a55\u4f30\u677f\u677f\u8f09USB\u4f9b\u96fb\u53caUSB\u8f49\u5e8f\u5217\u57e0\u529f\u80fd\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u914d\u5408PC\u6a5f\u4e0a\u7684\u8a55\u4f30\u8edf\u9ad4\u9032\u884c\u6027\u80fd\u6e2c\u8a66\u3002\u5177\u9ad4\u8acb\u53c3\u898b\u9644\u9304\u4e2d\u7684\u8a55\u4f30\u677f\u4e00\u7bc0\u3002","title":"\u6a21\u7d44\u8207PC\u6a5f\u9023\u63a5"},{"location":"hi226/hi226/#mcu","text":"\u6a21\u7d44\u8207MCU\u901a\u904eTTL\u96fb\u5e73\u7684\u5e8f\u5217\u57e0\u9032\u884c\u9023\u63a5\uff0c\u5efa\u8b70\u6a21\u7d44\u7684RST\u5f15\u8173\u5efa\u8b70\u63a5\u5230MCU\u7684GPIO\u4e0a\u3002\u65b9\u4fbfMCU\u5f37\u5236\u5fa9\u4f4d\u6a21\u7d44\u3002 \u6ce8\u610f \u5982\u4e0d\u4f7f\u7528\u540c\u6b65\u8f38\u5165(SYNC_IN) \u548c\u540c\u6b65\u8f38\u51fa\u529f\u80fd(SYNC_OUT) \u53ef\u4e0d\u63a5SYNC_IN \u548c SYNC_OUT\u3002 120\u6b50\u96fb\u963b\u7684\u4f5c\u7528\u662f\u70ba\u4e86\u65b9\u4fbf\u8abf\u8a66\uff0c\u4e26\u9632\u6b62MCU\u548c\u6a21\u7d44\u96fb\u5e73\u4e0d\u5339\u914d\uff0c\u53ef\u4ee5\u53bb\u6389\uff0c\u5efa\u8b70\u4fdd\u7559\u3002 VCC\u7684\u96fb\u58d3\u7bc4\u570d\u5177\u9ad4\u53c3\u52a0\u624b\u518a\u8aaa\u660e \u6a21\u7d44\u5167\u7f6e\u4e0a\u96fb\u5fa9\u4f4d\u96fb\u8def\uff0cRST\u53ef\u4ee5\u4e0d\u63a5\uff0c\u4f46\u662f\u5efa\u8b70\u63a5\u5230\u4e3b\u6a5f\u4e00\u500bGPIO\u4e0a\u4f86\u5be6\u73fe\u8edf\u9ad4\u5fa9\u4f4d\u3002","title":"\u6a21\u7d44\u8207MCU\u9032\u884c\u9023\u63a5"},{"location":"hi226/hi226/#_15","text":"\u6a21\u7d44\u4e0a\u96fb\u5f8c\uff0c\u9ed8\u8a8d\u6309\u51fa\u5ee0\u5e40\u7387(\u901a\u5e38\u70ba100)\u8f38\u51fa\u5e40\u6578\u64da\uff0c\u5e40\u683c\u5f0f\u5982\u4e0b\uff1a \u57df\u540d\u7a31 \u503c \u9577\u5ea6(\u5b57\u7bc0) \u8aaa\u660e PRE 0x5A 1 \u56fa\u5b9a\u70ba0x5A TYPE 0xA5 1 \u56fa\u5b9a\u70ba0xA5 LEN 1-512 2 \u5e40\u4e2d\u6578\u64da\u57df\u7684\u9577\u5ea6\uff0c\u4f4e\u5b57\u7bc0\u5728\u524d\u3002\u9577\u5ea6\u8868\u793a\u6578\u64da\u57df(PAYLOAD)\u7684\u9577\u5ea6\uff0c\u4e0d\u5305\u542b PRE , TYPE , LEN , CRC \u5b57\u6bb5\u3002 CRC - 2 \u9664CRC \u672c\u8eab\u5916\u5176\u9918\u6240\u6709\u5b57\u6bb5( PRE,TYPE,LEN, PAYLOAD )\u5e40\u6578\u64da\u768416 \u4f4dCRC \u6821\u9a57\u548c\u3002LSB(\u4f4e\u5b57\u7bc0\u5728\u524d) PAYLOAD - 1-512 \u4e00\u5e40\u651c\u5e36\u7684\u6578\u64da\u3002PAYLOAD\u57df \u7531\u82e5\u5e72\u500b**\u5b50\u6578\u64da\u5305**\u7d44\u6210\u3002\u6bcf\u500b\u6578\u64da\u5305\u5305\u542b\u6578\u64da\u5305\u6a19\u7c64\u548c\u6578\u64da\u5169\u90e8\u5206\u3002\u6a19\u7c64\u6c7a\u5b9a\u4e86\u6578\u64da\u7684\u985e\u578b\u53ca\u9577\u5ea6\u3002 CRC\u5be6\u73fe\u51fd\u6578\uff1a /* currectCrc: previous crc value, set 0 if it's first section src: source stream data lengthInBytes: length */ static void crc16_update(uint16_t *currectCrc, const uint8_t *src, uint32_t lengthInBytes) { uint32_t crc = *currectCrc; uint32_t j; for (j=0; j < lengthInBytes; ++j) { uint32_t i; uint32_t byte = src[j]; crc ^= byte << 8; for (i = 0; i < 8; ++i) { uint32_t temp = crc << 1; if (crc & 0x8000) { temp ^= 0x1021; } crc = temp; } } *currectCrc = crc; }","title":"\u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70"},{"location":"hi226/hi226/#_16","text":"","title":"\u6578\u64da\u5305"},{"location":"hi226/hi226/#_17","text":"\u6578\u64da\u5305\u6a19\u7c64(DATA_ID) \u6578\u64da\u5305\u9577\u5ea6(\u5305\u542b\u6a19\u7c641\u5b57\u7bc0) \u540d\u7a31 \u5099\u8a3b 0x90 2 \u7528\u6236ID 0xA0 7 \u52a0\u901f\u5ea6 0xB0 7 \u89d2\u901f\u5ea6 0xC0 7 \u78c1\u5834\u5f37\u5ea6 0xD0 7 \u6b50\u62c9\u89d2 0xD1 17 \u56db\u5143\u6578 0xF0 5 \u6c23\u58d3 \u8f38\u51fa0 0x91 76 IMUSOL(IMU\u6578\u64da\u96c6\u5408) \u63a8\u85a6\u4f7f\u7528","title":"\u6578\u64da\u5305\u7e3d\u89bd"},{"location":"hi226/hi226/#_18","text":"","title":"\u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868"},{"location":"hi226/hi226/#0x90id","text":"\u51712\u5b57\u7bc0\uff0c\u7528\u6236\u8a2d\u7f6e\u7684ID\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x90 1 uint8_t 1 - \u7528\u6236ID","title":"0x90(\u7528\u6236ID)"},{"location":"hi226/hi226/#0xa0","text":"\u51717 \u500b\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u52a0\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xA0 1 int16_t 2 0.001G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) X\u8ef8\u52a0\u901f\u5ea6 3 int16_t 2 0.001G Y\u8ef8\u52a0\u901f\u5ea6 5 int16_t 2 0.001G Z\u8ef8\u52a0\u901f\u5ea6","title":"0xA0(\u52a0\u901f\u5ea6)"},{"location":"hi226/hi226/#0xb0","text":"\u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u89d2\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64\uff1a0xB0 1 int16_t 2 0.1\u00b0/s X\u8ef8\u89d2\u901f\u5ea6 3 int16_t 2 0.1\u00b0/s Y\u8ef8\u89d2\u901f\u5ea6 5 int16_t 2 0.1\u00b0/s Z\u8ef8\u89d2\u901f\u5ea6","title":"0xB0(\u89d2\u901f\u5ea6)"},{"location":"hi226/hi226/#0xc0","text":"\u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u78c1\u5834\u5f37\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xC0 1 int16_t 2 0.001Gauss X\u8ef8\u78c1\u5834\u5f37\u5ea6 3 int16_t 2 0.001Gauss Y\u8ef8\u78c1\u5834\u5f37\u5ea6 5 int16_t 2 0.001Gauss Z\u8ef8\u78c1\u5834\u5f37\u5ea6","title":"0xC0(\u78c1\u5834\u5f37\u5ea6)"},{"location":"hi226/hi226/#0xd0","text":"\u51717\u5b57\u7bc0\uff0cLSB\u3002\u683c\u5f0f\u70baint16\uff0c\u5171\u4e09\u500b\u8ef8\uff0c\u6bcf\u500b\u8ef8\u53602 \u500b\u5b57\u7bc0\uff0c\u9806\u5e8f\u70baPitch/Roll/Yaw\u3002\u63a5\u6536\u5230Roll, Pitch \u70ba\u7269\u7406\u503c\u4e58\u4ee5100 \u5f8c\u5f97\u5230\u7684\u6578\u503c\uff0cYaw \u70ba\u4e58\u4ee510 \u5f97\u5230\u7684\u6578\u503c\u3002 \u4f8b\uff1a\u7576\u63a5\u6536\u5230\u7684Yaw = 100 \u6642\uff0c\u8868\u793a\u822a\u5411\u89d2\u70ba10\u00b0 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD0 1 int16_t 2 0.01\u00b0 Pitch(\u4fef\u4ef0\u89d2) 3 int16_t 2 0.01\u00b0 Roll(\u6a6b\u6efe\u89d2) 5 int16_t 2 0.1\u00b0 Yaw(\u822a\u5411\u89d2)","title":"0xD0(\u6b50\u62c9\u89d2)"},{"location":"hi226/hi226/#0xd1","text":"\u517117\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\uff0c\u51714\u500b\u503c\uff0c\u9806\u5e8f\u70ba:W X Y Z.\u3002\u6bcf\u500b\u503c\u53604 \u5b57\u7bc0(float)\uff0c\u6574\u500b\u56db\u5143\u6578\u70ba4\u500bfloat\uff0cLSB\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD1 1 float 4 - W 5 float 4 - X 9 float 4 - Y 13 float 4 - Z","title":"0XD1(\u56db\u5143\u6578)"},{"location":"hi226/hi226/#0xf0","text":"\u51715\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\u3002(\u53ea\u91dd\u5c0d\u6709\u6c23\u58d3\u611f\u6e2c\u5668\u7684\u7522\u54c1) \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xF0 1 float 4 Pa \u5927\u6c23\u58d3","title":"0XF0(\u6c23\u58d3)"},{"location":"hi226/hi226/#0x91-imusol","text":"\u517176\u5b57\u7bc0\uff0c\u65b0\u52a0\u5165\u7684\u6578\u64da\u5305\uff0c\u7528\u65bc\u66ff\u4ee3A0,B0,C0,D0,D1\u7b49\u6578\u64da\u5305\u3002\u6574\u5408\u4e86IMU\u7684\u611f\u6e2c\u5668\u539f\u59cb\u8f38\u51fa\u548c\u59ff\u614b\u89e3\u7b97\u6578\u64da\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x91 1 uint8_t 1 - ID 2 - 6 - \u4fdd\u7559 8 uint32_t 4 ms \u6642\u9593\u6233\u8cc7\u8a0a\uff0c\u5f9e\u7cfb\u7d71\u958b\u6a5f\u958b\u59cb\u7d2f\u52a0\uff0c\u6bcf\u6beb\u79d2\u589e\u52a01 12 float 12 1G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) X,Y,Z\u8ef8\u7684\u52a0\u901f\u5ea6\uff0c\u6ce8\u610f\u55ae\u4f4d\u548c0xA0\u4e0d\u540c 24 float 12 deg/s X,Y,Z\u8ef8\u7684\u89d2\u901f\u5ea6\uff0c\u6ce8\u610f\u55ae\u4f4d\u548c0xB0\u4e0d\u540c 36 float 12 uT X,Y,Z\u8ef8\u7684\u78c1\u5834\u5f37\u5ea6(HI229\u652f\u63f4,\u6ce8\u610f\u55ae\u4f4d\u548c0xC0\u4e0d\u540c) 48 float 12 deg \u7bc0\u9ede\u6b50\u62c9\u89d2\u96c6\u5408, \u9806\u5e8f\u70ba\uff1a\u6a6b\u6efe\u89d2(Roll)\uff0c\u4fef\u4ef0\u89d2(Pitch)\uff0c\u822a\u5411\u89d2(Yaw)(\u6ce8\u610f\u9806\u5e8f\u548c\u55ae\u4f4d\u82070xD0\u6578\u64da\u5305\u4e0d\u540c) 60 float 16 - \u7bc0\u9ede\u56db\u5143\u6578\u96c6\u5408,\u9806\u5e8f\u70baWXYZ","title":"0X91( IMUSOL)"},{"location":"hi226/hi226/#_19","text":"\u51fa\u5ee0\u9ed8\u8a8d\u4e00\u5e40\u4e2d\u651c\u5e36\u6578\u64da\u5305\u6578\u64da\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7522\u54c1 \u9ed8\u8a8d\u8f38\u51fa\u6578\u64da\u5305 HI226 0x91","title":"\u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305"},{"location":"hi226/hi226/#_20","text":"","title":"\u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b"},{"location":"hi226/hi226/#0x900xa00xb00xc00xd00xf0","text":"\u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517141\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991835\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 23 00 FD 61 90 00 A0 55 02 3D 01 E2 02 B0 FE FF 17 00 44 00 C0 80 FF 60 FF 32 FF D0 64 F2 6C 0E BB 01 F0 00 00 00 00 \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 23 00 : (0x00<<8) + 0x23 = 35 \u5e40CRC\u6821\u9a57\u503c: FD 61 :(0x61<<8) + 0xFD = 0x61FD \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x61FD, \u8207\u5e40\u651c\u5e36\u7684CRC\u503c\u76f8\u540c, \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da 90 00 \uff1aID \u6578\u64da\u5305, 0x90\u70ba\u6578\u64da\u5305\u6a19\u7c64, ID = 0x00. A0 55 02 3D 01 E2 02 :\u52a0\u901f\u5ea6\u6578\u64da\u5305,0xA0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u52a0\u901f\u5ea6\u70ba\uff1a X\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0x55) = 597(\u55ae\u4f4d\u70bamG) Y\u8ef8\u52a0\u901f\u5ea6 = (int16_t)((0x01<<8)+ 0x3D) = 317 Z\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0xE2) = 738 B0 FE FF 17 00 44 00 :\u89d2\u901f\u5ea6\u6578\u64da\u5305,0xB0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u89d2\u901f\u5ea6\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0xFE) = -2(\u55ae\u4f4d\u70ba0.1\u00b0/s) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0x00<<8)+ 0x17) = 23 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0x00<<8)+ 0x44) = 68 C0 80 FF 60 FF 32 FF :\u78c1\u5834\u6578\u64da\u5305,0xC0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u78c1\u5834\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x80) = -128 (\u55ae\u4f4d\u70ba0.001Gauss) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0xFF<<8)+ 0x60) = -160 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x32) = -206 D0 64 F2 6C 0E BB 01 \u6b50\u62c9\u89d2\u6578\u64da\u5305, 0xD0\u70ba\u6578\u64da\u5305\u6a19\u7c64 Pitch= (int16_t)((0xF2<<8)+ 0x64) / 100 = -3484 / 100 = -34.84 \u00b0 Roll= (int16_t)((0x0E<<8)+ 0x6C) / 100 = 3692 / 100 = 36.92\u00b0 Yaw = (int16_t)((0x01<<8)+ 0xBB) / 10 = 443 /10 = 44.3\u00b0 F0 00 00 00 00 \u6c23\u58d3\u6578\u64da\u5305\uff0c0xF0\u70ba\u6578\u64da\u5305\u6a19\u7c64 float prs; prs = memcpy(&prs, &buf[37], 4); \u6700\u5f8c\u5f97\u5230\u7d50\u679c\uff1a id : 0 acc(G) : 0.597 0.317 0.738 gyr(deg/s) : -0.200 2.300 6.800 mag(uT) : -12.800 -16.000 -20.600 eul(R/P/Y) : 36.920 -34.840 44.300","title":"\u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305"},{"location":"hi226/hi226/#0x91","text":"\u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517182\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991876\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 4C 00 6C 51 91 00 A0 3B 01 A8 02 97 BD BB 04 00 9C A0 65 3E A2 26 45 3F 5C E7 30 3F E2 D4 5A C2 E5 9D A0 C1 EB 23 EE C2 78 77 99 41 AB AA D1 C1 AB 2A 0A C2 8D E1 42 42 8F 1D A8 C1 1E 0C 36 C2 E6 E5 5A 3F C1 94 9E 3E B8 C0 9E BE BE DF 8D BE \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 4C 00 : (0x00<<8) + 0x4C = 76 \u5e40CRC\u6821\u9a57\u503c: 6C 51 :(0x51<<8) + 0x6C = 0x516C \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x516C. \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da \u5f9e 0x91 \u958b\u59cb\u70ba\u6578\u64da\u5305\u7684\u6578\u64da\u57df\u3002\u5728C\u8a9e\u8a00\u4e2d\u53ef\u4ee5\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u4f86\u65b9\u4fbf\u7684\u8b80\u53d6\u6578\u64da\uff1a \u5b9a\u7fa90x91\u6578\u64da\u5305\u7d50\u69cb\u9ad4\u5982\u4e0b\uff1a __packed typedef struct { uint8_t tag; /* data packet tag */ uint8_t id; uint8_t rev[6]; /* reserved */ uint32_t ts; /* timestamp */ float acc[3]; float gyr[3]; float mag[3]; float eul[3]; /* eular angles: Roll,Pitch,Yaw */ float quat[4]; /* quaternion */ }id0x91_t; __packed \u70ba\u7de8\u8b6f\u5668\u95dc\u9375\u5b57(Keil\u4e0b)\uff0c\u8868\u793a\u7d50\u69cb\u9ad4\u6309\u5b57\u7bc0\u7dca\u5c0d\u9f4a\uff0c\u7d50\u69cb\u9ad4\u6bcf\u4e00\u500b\u5143\u7d20\u4e00\u4e00\u5c0d\u61c90x91\u6578\u64da\u5305\u7684\u7d50\u69cb\u5b9a\u7fa9\u3002\u63a5\u6536\u6578\u64da\u6642\u5c07\u63a5\u6536\u5230\u7684\u9663\u5217\u76f4\u63a5memcpy\u5230\u7d50\u69cb\u9ad4\u5373\u53ef\uff1a(\u6ce8\u610f\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u6642\u5fc5\u98084\u5b57\u7bc0\u5c0d\u9f4a), \u5176\u4e2d buf \u6307\u5411\u5e40\u982d, buf[6] \u6307\u5411\u5e40\u4e2d\u6578\u64da\u57df \u3002 /* \u63a5\u6536\u6578\u64da\u4e26\u4f7f\u75280x91\u6578\u64da\u5305\u7d50\u69cb\u5b9a\u7fa9\u4f86\u89e3\u91cb\u6578\u64da */ __align(4) id0x91_t dat; /* struct must be 4 byte aligned */ memcpy(&dat, &buf[6], sizeof(id0x91_t)); \u6700\u5f8c\u5f97\u5230dat\u6578\u64da\u7d50\u679c\uff1a id : 0 timestamp : 310205 acc : 0.224 0.770 0.691 gyr : -54.708 -20.077 -119.070 mag : 19.183 -26.208 -34.542 eul(R/P/Y) : 48.720 -21.014 -45.512 quat : 0.855 0.310 -0.310 -0.277","title":"\u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305"},{"location":"hi226/hi226/#at","text":"\u7576\u4f7f\u7528\u5e8f\u5217\u57e0\u8207\u6a21\u7d44\u901a\u8a0a\u6642, \u6a21\u7d44\u652f\u63f4AT \u6307\u4ee4\u96c6\u914d\u7f6e/\u67e5\u770b\u6a21\u7d44\u53c3\u6578\u3002AT \u6307\u4ee4\u7e3d\u4ee5ASCII \u78bc AT \u958b\u982d\uff0c\u5f8c\u9762\u8ddf\u63a7\u5236\u5b57\u7b26\uff0c\u6700 \u5f8c\u4ee5\u56de\u8eca\u63db\u884c \\r\\n \u7d50\u675f\u3002\u53ef\u4f7f\u7528\u5e8f\u5217\u57e0\u8abf\u8a66\u52a9\u624b\u9032\u884c\u6e2c\u8a66\uff1a \u901a\u7528\u6a21\u7d44 AT\u6307\u4ee4\u5982\u4e0b \u6307\u4ee4 \u529f\u80fd \u6389\u96fb\u4fdd\u5b58(Y) \u7acb\u5373\u751f\u6548(Y),\u5fa9\u4f4d\u751f\u6548(R) \u5099\u8a3b AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID Y R AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a N Y AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u983b\u7387 Y R AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387 Y R AT+EOUT \u6578\u64da\u8f38\u51fa\u958b\u95dc N Y AT+RST \u5fa9\u4f4d\u6a21\u7d44 N Y AT+TRG \u55ae\u6b21\u8f38\u51fa\u89f8\u767c N Y AT+SETPTL \u8a2d\u7f6e\u8f38\u51fa\u6578\u64da\u5305 Y Y AT+MODE \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f Y R \u4e0d\u652f\u63f4(\u50c5\u516d\u8ef8) AT+GWID \u8a2d\u7f6e\u7121\u7dda\u63a5\u6536\u6a5fID Y R \u4e0d\u652f\u63f4","title":"AT\u6307\u4ee4"},{"location":"hi226/hi226/#atid","text":"\u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID \u4f8b AT+ID=1","title":"AT+ID"},{"location":"hi226/hi226/#atinfo","text":"\u6253\u5370\u6a21\u7d44\u8cc7\u8a0a\uff0c\u5305\u62ec\u7522\u54c1\u578b\u865f\uff0c\u7248\u672c\uff0c\u97cc\u9ad4\u767c\u4f48\u65e5\u671f\u7b49\u3002","title":"AT+INFO"},{"location":"hi226/hi226/#atodr","text":"\u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u7387\u3002\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548 \u4f8b \u8a2d\u7f6e\u5e8f\u5217\u57e0\u8f38\u51fa\u901f\u7387\u70ba100Hz: AT+ODR=100 \u6ce8\u610f\uff1a\u7576\u8f38\u51fa\u5e40\u7387\u8a2d\u7f6e\u6bd4\u8f03\u9ad8\u6642(\u5982200),\u9ed8\u8a8d\u7684115200\u9b91\u7387\u53ef\u80fd\u4e0d\u6eff\u8db3\u8f38\u51fa\u983b\u5bec\u8981\u6c42\uff0c\u6b64\u6642\u9700\u8981\u5c07\u6a21\u7d44\u9b91\u7387\u8a2d\u9ad8(\u5982921600)\u5f8c\uff0c\u6a21\u7d44\u624d\u80fd\u7a69\u5b9a\u8f38\u51fa\u9ad8\u5e40\u7387\u3002","title":"AT+ODR"},{"location":"hi226/hi226/#atbaud","text":"\u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387\uff0c\u53ef\u9078\u503c\uff1a 9600/115200/460800/921600 \u4f8b AT+BAUD=115200 \u6ce8\u610f \u4f7f\u7528\u6b64\u6307\u4ee4\u9700\u8981\u7279\u5225\u6ce8\u610f\uff0c\u8f38\u5165\u932f\u8aa4\u9b91\u7387\u5f8c\u6703\u5c0e\u81f4\u7121\u6cd5\u548c\u6a21\u7d44\u901a\u8a0a \u9b91\u7387\u53c3\u6578\u8a2d\u7f6e\u597d\u5f8c\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548\u3002 CH-Center \u8edf\u9ad4\u7684\u9b91\u7387\u4e5f\u8981\u505a\u76f8\u61c9\u4fee\u6539\u3002 \u5347\u7d1a\u97cc\u9ad4\u6642\uff0c\u9700\u8981\u5207\u63db\u56de115200 \u9b91\u7387\u3002","title":"AT+BAUD"},{"location":"hi226/hi226/#ateout","text":"\u5e8f\u5217\u57e0\u8f38\u51fa\u958b\u95dc \u4f8b \u6253\u958b\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=1 \u95dc\u9589\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=0","title":"AT+EOUT"},{"location":"hi226/hi226/#atrst","text":"\u5fa9\u4f4d\u6a21\u7d44 \u4f8b AT+RST","title":"AT+RST"},{"location":"hi226/hi226/#atsetptl","text":"\u8a2d\u7f6e\u8f38\u51fa\u5354\u8b70: \u6a21\u7d44\u6578\u64da\u5e40\u4e2d\u7684\u6578\u64da\u5305\u7d44\u6210\u53ef\u4f7f\u7528AT\u6307\u4ee4\u914d\u7f6e\uff0c\u683c\u5f0f\u70ba AT+SETPTL=<ITEM_ID>,<ITEM_ID>... \u4f8b \u914d\u7f6e\u6a21\u7d44\u8f38\u51fa\u52a0\u901f\u5ea6\uff0c\u89d2\u901f\u5ea6, \u6574\u5f62\u683c\u5f0f\u6b50\u62c9\u89d2\u548c\u56db\u5143\u6578\u7684\u6307\u4ee4\u70ba\uff1a AT+SETPTL=A0,B0,D0,D1","title":"AT+SETPTL"},{"location":"hi226/hi226/#attrg","text":"\u89f8\u767c\u6a21\u7d44\u8f38\u51fa\u4e00\u5e40\u6578\u64da\uff0c\u53ef\u4ee5\u914d\u5408AT+ODR=0\u4f86\u5be6\u73fe\u55ae\u6b21\u89f8\u767c\u8f38\u51fa\u3002 \u4f8b AT+TRG","title":"AT+TRG"},{"location":"hi226/hi226/#a-","text":"","title":"\u9644\u9304A - \u8a55\u4f30\u677f"},{"location":"hi226/hi226/#_21","text":"\u8a55\u4f30\u677f\u63d0\u4f9b\u4e86\u5feb\u901f\u8a55\u4f30\u672c\u7522\u54c1\u7684\u65b9\u6cd5\u3002\u677f\u8f09USB-UART\u82af\u7247(CP2104)\u4ee5\u53ca\u4f9b\u96fbLDO\uff0c\u4e26\u5c07\u6a21\u7d44\u63a5\u53e3\u5f15\u51fa\u65b9\u4fbf\u8abf\u8a66\u8a55\u4f30\u3002 \u5b89\u88dd\u8cc7\u6599\u5305\u4e2d\u7684CP2104 USB-UART \u9a45\u52d5\u7a0b\u5e8f, \u5c07USB\u7dda\u9023\u63a5\u96fb\u8166\u548c\u6a21\u7d44\uff0c\u6253\u958b CH-Center \u8edf\u9ad4\uff0c\u9023\u63a5\u5e8f\u5217\u57e0\uff0c\u9ed8\u8a8d\u72c0\u614b\u4e0b\uff0c\u6a21\u7d44\u6703\u4ee5115200-N-8-N-1 \u8f38\u51fa\u51fa\u5ee0\u9ed8\u8a8d\u7684\u6578\u64da\u5305\u3002","title":"\u8a55\u4f30\u677f\u7c21\u4ecb"},{"location":"hi226/hi226/#_22","text":"","title":"\u5c3a\u5bf8"},{"location":"hi226/hi226/#_23","text":"\u6a21\u7d44\u9ed8\u8a8d\u88ab\u5d4c\u5165\u8a55\u4f30\u677f\u7684PLCC28 \u63d2\u69fd\u4e2d\uff0c\u5982\u9700\u53d6\u51fa\u6a21\u7d44\uff0c\u8acb\u6309\u5982\u4e0b\u6b65\u9a5f\u64cd\u4f5c\uff1a - \u65b7\u96fb\uff0c\u6e96\u5099\u597d\u7d30\u87ba\u7d72\u5200\u6216\u9477\u5b50 - \u5f9ePLCC \u63d2\u5ea7\u6216\u8005\u80cc\u9762\u5713\u5f62\u7a7a\u6d1e\u5167\u5c07\u6a21\u7d44\u64ac\u51fa\u6216\u9802\u51fa\u3002 \u6ce8\u610f \u8a55\u4f30\u677f\u7684\u4e3b\u8981\u4f5c\u7528\u50c5\u50c5\u662f\u5feb\u901f\u8a55\u4f30\u6a21\u7d44\u6027\u80fd, USB \u63a5\u53e3\u672c\u8eab\u4e0d\u9069\u5408\u65bc\u5de5\u696d\u7d1a\u5834\u666f\u6216\u8005\u9ad8\u904b\u52d5\u5834\u5408\u7684\u96fb\u6c23\u9023\u63a5\uff0c\u5982\u679c\u60a8\u7684\u61c9\u7528\u70ba\u9ad8\u904b\u52d5\u74b0\u5883(\u52d5\u4f5c\u6355\u6349\u7b49)\uff0c\u5247\u4e0d\u5efa\u8b70\u5728\u60a8\u7684\u7522\u54c1\u4e2d\u76f4\u63a5\u4f7f\u7528\u8a55\u4f30\u677f\u3002","title":"\u5f9e\u8a55\u4f30\u677f\u4e0a\u53d6\u4e0b\u7522\u54c1"},{"location":"hi226/hi226/#b-","text":"\u672c\u7522\u54c1\u652f\u63f4\u5347\u7d1a\u97cc\u9ad4\u3002 \u97cc\u9ad4\u5347\u7d1a\u6b65\u9a5f: \u9023\u63a5\u6a21\u7d44\uff0c\u6253\u958b CH-Center \u8edf\u9ad4\uff0c\u5c07\u6a21\u7d44\u548c CH-Center \u8edf\u9ad4\u9b91\u7387\u90fd\u8a2d\u7f6e\u70ba115200. \u6253\u958b\u97cc\u9ad4\u5347\u7d1a\u7a97\u53e3 \u9ede\u64ca\"\u9023\u63a5\"\uff0c\u5982\u51fa\u73fe\u6a21\u7d44\u9023\u63a5\u8cc7\u8a0a\u3002\u5247\u8aaa\u660e\u5347\u7d1a\u7cfb\u7d71\u6e96\u5099\u5c31\u7dd2\uff0c\u9ede\u64ca\u6587\u4ef6\u9078\u64c7\u5668(\u2026)\u9078\u64c7\u526f\u6a94\u540d\u70ba.hex \u7684\u97cc\u9ad4 \u9ede\u64ca\"\u958b\u59cb\u7de8\u7a0b\"\u3002\u4e0b\u8f09\u5b8c\u6210\u5f8c\u6703\u63d0\u793a\u7de8\u7a0b\u5b8c\u6210\uff0c\u6b64\u6642\u95dc\u9589\u5e8f\u5217\u57e0\uff0c\u91cd\u65b0\u7d66\u6a21\u7d44\u4e0a\u96fb\uff0c\u6a21\u7d44\u5347\u7d1a\u5b8c\u6210\u3002","title":"\u9644\u9304B - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e"},{"location":"hi229/hi229/","text":"HI229 \u7528\u6236\u624b\u518a IMU/VRU/AHRS\u59ff\u614b\u6e2c\u91cf\u6a21\u7d44, Rev 1.0 HI229 \u7528\u6236\u624b\u518a \u7c21\u4ecb \u4e3b\u8981\u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb \u786c\u9ad4\u53c3\u6578 \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u9640\u87ba\u5100 \u52a0\u901f\u5ea6\u8a08 \u78c1\u611f\u6e2c\u5668\u53c3\u6578 \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578 \u611f\u6e2c\u5668\u6821\u6e96 \u5730\u78c1\u6821\u6e96 \u78c1\u5e72\u64fe\u5206\u985e 6\u8ef8\u548c9\u8ef8\u6a21\u5f0f\u5340\u5225 \u6821\u6e96\u65b9\u6cd5 \u5b89\u88dd\u53ca\u710a\u63a5 \u61c9\u7528\u6307\u5357 \u6a21\u7d44\u8207PC\u6a5f\u9023\u63a5 \u6a21\u7d44\u8207MCU\u9032\u884c\u9023\u63a5 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd \u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868 0x90(\u7528\u6236ID) 0xA0(\u52a0\u901f\u5ea6) 0xB0(\u89d2\u901f\u5ea6) 0xC0(\u78c1\u5834\u5f37\u5ea6) 0xD0(\u6b50\u62c9\u89d2) 0XD1(\u56db\u5143\u6578) 0XF0(\u6c23\u58d3) 0X91( IMUSOL) \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 AT\u6307\u4ee4 AT+ID AT+INFO AT+ODR AT+BAUD AT+EOUT AT+RST AT+MODE AT+SETPTL AT+TRG \u9644\u9304A - \u8a55\u4f30\u677f \u8a55\u4f30\u677f\u7c21\u4ecb \u5c3a\u5bf8 \u5f9e\u8a55\u4f30\u677f\u4e0a\u53d6\u4e0b\u7522\u54c1 \u9644\u9304B - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e \u7c21\u4ecb HI229\u662f\u8d85\u6838\u96fb\u5b50\u63a8\u51fa\u7684\u4e00\u6b3e\u4f4e\u6210\u672c\u3001\u9ad8\u6027\u80fd\u3001\u5c0f\u9ad4\u7a4d\u3001\u4f4e\u5ef6\u6642\u7684\u822a\u59ff\u53c3\u8003\u55ae\u5143\uff08AHRS\uff09\uff0c\u672c\u7522\u54c1\u6574\u5408\u4e86\u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08\u3001\u4e09\u8ef8\u9640\u87ba\u5100\u3001\u4e09\u8ef8\u78c1\u5834\u611f\u6e2c\u5668\u548c\u4e00\u6b3e\u5fae\u63a7\u5236\u5668\u3002\u53ef\u8f38\u51fa\u7d93\u904e\u611f\u6e2c\u5668\u878d\u5408\u7b97\u6cd5\u8a08\u7b97\u5f97\u5230\u7684\u57fa\u65bc\u7576\u5730\u5730\u7406\u5750\u6a19\u7684\u4e09\u7dad\u65b9\u4f4d\u6578\u64da\uff0c\u5305\u542b\u822a\u5411\u89d2\uff0c\u4fef\u4ef0\u89d2\u548c\u6a6b\u6efe\u89d2\u3002\u540c\u6642\u4e5f\u53ef\u4ee5\u8f38\u51fa\u6821\u6e96\u904e\u7684\u539f\u59cb\u7684\u611f\u6e2c\u5668\u6578\u64da\u3002\u672c\u7522\u54c1\u5177\u6709\u4e00\u5b9a\u7684\u5ba4\u5167\u5730\u78c1\u6297\u5e72\u64fe\u6027\u80fd\uff0c\u5728\u4e00\u5b9a\u5f37\u5ea6\u7684\u5730\u78c1\u5834\u5e72\u64fe\u74b0\u5883\u4e0b\u4ecd\u53ef\u6b63\u5e38\u5de5\u4f5c\u3002 \u5178\u578b\u61c9\u7528: VR\\\u52d5\u4f5c\u6355\u6349 \u9ad8\u52d5\u614b\u74b0\u5883\u4e0b\u59ff\u614b\u6e2c\u91cf\\\u904b\u52d5\u6027\u80fd\u8a55\u4f30 \u7121\u4eba\u6a5f\u63a7\u5236 \u4e3b\u8981\u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u9640\u87ba\u5100, \u6700\u5927\u91cf\u7a0b: \u00b12000\u00b0/s \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08, \u6700\u5927\u91cf\u7a0b:\u00b18G \u4e09\u8ef8\u78c1\u5834\u611f\u6e2c\u5668\uff0c\u6700\u5927\u91cf\u7a0b: 800mG (\u6beb\u9ad8\u65af) \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb \u5e8f\u5217\u57e0(\u517c\u5bb9TTL \u53ef\u76f4\u63a5\u82075V \u62163.3V \u5e8f\u5217\u57e0\u8a2d\u5099\u9023\u63a5) \u4f9b\u96fb\u96fb\u58d3\uff1a3.3 (\u00b1 100 mV) \u6700\u5927\u5cf0\u503c\u529f\u8017\uff1a32mA \u786c\u9ad4\u53c3\u6578 \u53c3\u6578 \u63cf\u8ff0 \u8f38\u51fa\u6578\u64da\u63a5\u53e3 UART(TTL 1.8V - 3.3V) \u5de5\u4f5c\u96fb\u58d3 3.3V (\u00b1 100mV) \u529f\u8017 86mW @3.3V \u6eab\u5ea6\u7bc4\u570d -20\u2103 - 85 \u2103 \u6700\u5927\u7dda\u6027\u52a0\u901f\u5ea6 0 - 115 m/s^2 m/s^2 \u5c3a\u5bf8 12 x 12 x 2.6mm (W x L x H) \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08 \u4e09\u8ef8\u9640\u87ba\u5100 \u4e09\u8ef8\u78c1\u5834\u611f\u6e2c\u5668(\u53ef\u9078) \u7b26\u865f \u6700\u5c0f\u503c \u5178\u578b\u503c \u6700\u5927\u503c \u55ae\u4f4d A1 - 11 - mm B - 11 - mm D - 12 - mm E - 12 - mm H 2.5 2.6 2.7 mm a - 1.5 - mm b - 0.9 - mm c - 1 - mm e - 1.27 - mm f - 1 - mm \u5f15\u8173\u865f \u540d\u7a31 \u8aaa\u660e 5 N/C \u4fdd\u7559 6 VCC \u96fb\u6e90 3.3V 7 SYNC_OUT \u6578\u64da\u8f38\u51fa\u540c\u6b65: \u6578\u64da\u8f38\u51fa\u6642\uff0c \u6b64\u5f15\u8173\u70ba\u9ad8\u96fb\u5e73\uff0c\u7a7a\u9592\u6642\u70ba\u4f4e\u96fb\u5e73\u3002 8 RXD \u6a21\u7d44\u5e8f\u5217\u57e0\u63a5\u6536 UART RXD(\u63a5 MCU \u7684 TXD) 9 TXD \u6a21\u7d44\u5e8f\u5217\u57e0\u767c\u9001 UART TXD (\u63a5 MCU \u7684 RXD) 10 SYNC_IN \u6578\u64da\u8f38\u5165\u540c\u6b65: \u5167\u90e8\u4e0b\u62c9\uff0c\u7576\u6a21\u7d44\u6aa2\u6e2c\u5230\u4e0a\u5347\u6cbf\u6642, \u8f38\u51fa\u4e00\u5e40\u6578\u64da\u3002 11 N/C \u4fdd\u7559 19 GND GND 20 RST \u5fa9\u4f4d, \u5167\u90e8\u4e0a\u62c9\u3002>10uS \u4f4e\u96fb\u5e73\u5fa9\u4f4d\u6a21\u7d44\u3002\u7121\u9700\u8981\u5916\u63a5\u963b\u5bb9\uff0c\u5efa\u8b70\u63a5\u5230MCU\u7684GPIO\u5f15\u8173\u4ee5\u5be6\u73fe\u8edf\u9ad4\u5fa9\u4f4d 21 N/C \u4fdd\u7559 22 N/C \u4fdd\u7559 23 N/C \u4fdd\u7559 24 GND GND 25 N/C \u4fdd\u7559 \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u8f09\u9ad4\u7cfb\u4f7f\u7528 \u524d-\u5de6-\u4e0a(FLU)\u53f3\u624b\u5750\u6a19\u7cfb\uff0c \u5730\u7406\u5750\u6a19\u7cfb\u4f7f\u7528 \u5317-\u897f-\u5929(NWU)\u5750\u6a19\u7cfb\u3002\u5176\u4e2d\u6b50\u62c9\u89d2\u65cb\u8f49\u9806\u5e8f\u70ba ZYX(\u5148\u8f49Z\u8ef8\uff0c\u518d\u8f49Y\u8ef8\uff0c\u6700\u5f8c\u8f49X\u8ef8)\u65cb\u8f49\u9806\u5e8f\u3002\u5177\u9ad4\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7e5e Z \u8ef8\u65b9\u5411\u65cb\u8f49: \u822a\u5411\u89d2\\Yaw\\phi( \\psi \\psi ) \u7bc4\u570d: -180\u00b0 - 180\u00b0 \u7e5e Y \u8ef8\u65b9\u5411\u65cb\u8f49: \u4fef\u4ef0\u89d2\\Pitch\\theta( \\theta \\theta ) \u7bc4\u570d: -90\u00b0-90\u00b0 \u7e5e X \u8ef8\u65b9\u5411\u65cb\u8f49:\u6a6b\u6efe\u89d2\\Roll\\psi( \\phi \\phi )\u7bc4\u570d: -180\u00b0-180\u00b0 \u5982\u679c\u5c07\u6a21\u7d44\u8996\u70ba\u98db\u884c\u5668\u7684\u8a71\u3002X \u8ef8\u61c9\u8996\u70ba\u6a5f\u982d\u65b9\u5411\u3002\u7576\u611f\u6e2c\u5668\u7cfb\u8207\u6163\u6027\u7cfb\u91cd\u5408\u6642\uff0c\u6b50\u62c9\u89d2\u7684\u7406\u60f3\u8f38\u51fa\u70ba:Pitch = 0\u00b0, Roll = 0\u00b0, Yaw = 0\u00b0 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u59ff\u614b\u89d2 \u5178\u578b\u503c \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u975c\u614b\u8aa4\u5dee 0.8\u00b0 \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u52d5\u614b\u8aa4\u5dee 2.5\u00b0 \u904b\u52d5\u4e2d\u822a\u5411\u89d2\u7cbe\u5ea6(6\u8ef8\u6a21\u5f0f,30min,\u6c34\u5e73\u5e73\u7a69\u904b\u52d5,\u985e\u6383\u5730\u6a5f\u904b\u52d5\u6a21\u5f0f) <10\u00b0 \u904b\u52d5\u4e2d\u822a\u5411\u89d2\u7cbe\u5ea6(9\u8ef8\u6a21\u5f0f\u4e0b,\u7121\u78c1\u5e72\u64fe,\u6821\u6e96\u5f8c) 3\u00b0 \u9640\u87ba\u5100 \u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b12000\u00b0/s \u96f6\u504f\u7a69\u5b9a\u6027 10\u00b0/h \u523b\u5ea6\u975e\u7dda\u6027\u5ea6 \u00b10.3%(\u6eff\u91cf\u7a0b\u6642) \u52a0\u901f\u5ea6\u654f\u611f\u6027 0.1\u00b0/s/g \u52a0\u901f\u5ea6\u8a08 \u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b18G (1G = 1x \u91cd\u529b\u52a0\u901f\u5ea6 ) \u975e\u7dda\u6027\u5ea6 \u00b10.5% (\u6eff\u91cf\u7a0b\u6642) \u78c1\u611f\u6e2c\u5668\u53c3\u6578 \u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b18G(Gauss) \u975e\u7dda\u6027\u5ea6 \u00b10.1% \u5206\u8fa8\u7387 0.25mG \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578 \u53c3\u6578 \u503c \u5e8f\u5217\u57e0\u8f38\u51fa\u9b91\u7387 9600/115200/460800/921600\u53ef\u9078 \u5e40\u8f38\u51fa\u901f\u7387 1/25/50/100/200/400Hz \u53ef\u9078 \u611f\u6e2c\u5668\u6821\u6e96 \u52a0\u901f\u5ea6\u8a08\u548c\u9640\u87ba\u5100\u5728\u51fa\u5ee0\u524d\u7d93\u904e\u6bd4\u4f8b\u56e0\u5b50\u8aa4\u5dee\u548c\u975e\u6b63\u4ea4\u8aa4\u5dee\u6821\u6e96\uff0c\u6821\u6e96\u53c3\u6578\u4fdd\u5b58\u5728\u6a21\u7d44\u5167\u90e8\u3002 \u9640\u87ba\u5100\u7684\u8f38\u51fa\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u6703\u6709\u4e00\u500b\u96a8\u6a5f\u7684\u4e0d\u70ba0\u7684bias\uff0c\u7a31\u4e4b\u70ba\u96f6\u504f\u91cd\u8907\u6027\u3002\u9019\u500b\u96a8\u6a5fbias\u4e0d\u80fd\u5728\u51fa\u5ee0\u524d\u88ab\u6821\u6e96\u3002\u7cfb\u7d71\u5728\u555f\u52d5\u5f8c1S\u5167\u8a8d\u70ba\u8655\u65bc\u975c\u6b62\u72c0\u614b\u4e26\u63a1\u96c61S\u7684\u9640\u87ba\u5100\u89d2\u901f\u5ea6\u4f5c\u70ba\u521d\u59cbbias\u3002\u9019\u500b\u904e\u7a0b\u7a31\u4e4b\u70ba\u9640\u87ba\u5100\u4e0a\u96fb\u81ea\u6821\u6e96\u3002\u81ea\u6821\u6e96\u5728\u4e0a\u96fb\u5f8c\u975c\u6b62\u6a21\u7d443s \u5de6\u53f3\u53ef\u7372\u5f97\u6700\u597d\u7684\u6821\u6e96\u6548\u679c\u3002 \u5982\u4e0a\u96fb1s\u5167\u6a21\u7d44\u8655\u65bc\u904b\u52d5\u72c0\u614b(\u5305\u62ec\u7de9\u6162\u8f49\u52d5\uff0c\u632f\u52d5\u7b49)\u5247\u822a\u5411\u89d2\u98c4\u79fb\u73fe\u8c61\u6703\u986f\u8457\u589e\u5927 \u3002 \u5efa\u8b70\u4f7f\u7528\u6642\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u975c\u6b62\u81f3\u5c111s\u3002 \u78c1\u611f\u6e2c\u5668(\u90e8\u5206\u578b\u865f\u652f\u63f4)\u51fa\u5ee0\u524d\u7d93\u904e\u6a62\u7403\u6821\u6e96\uff0c\u4f46\u78c1\u611f\u6e2c\u5668\u5f88\u5bb9\u6613\u53d7\u5230\u5916\u754c\u74b0\u5883\u78c1\u5834\u5e72\u64fe\uff0c\u4e00\u822c\u90fd\u9700\u8981\u5ba2\u6236\u91cd\u65b0\u6821\u6e96\uff0c\u51fa\u5ee0\u6821\u6e96\u53c3\u6578\u610f\u7fa9\u4e0d\u5927\u3002\u8a73\u898b\u5730\u78c1\u6821\u6e96\u7ae0\u7bc0\u3002 \u5730\u78c1\u6821\u6e96 \u78c1\u5e72\u64fe\u5206\u985e \u7a2e\u985e \u5b9a\u7fa9 \u5178\u578b\u5e72\u64fe\u6e90 \u5f71\u97ff \u63aa\u65bd \u7a7a\u9593\u78c1\u5834\u5e72\u64fe \u5e72\u64fe\u4e0d\u96a8\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5\uff0c\u800c\u8655\u65bc\u4e16\u754c\u5750\u6a19\u7cfb\u4e0b \u5404\u7a2e\u56fa\u5b9a\u7684\u78c1\u5e72\u64fe\u6e90\uff0c\u50a2\u4ff1\uff0c\u5bb6\u7528\u96fb\u5668\uff0c\u96fb\u7e9c\uff0c\u623f\u5c4b\u5167\u7684\u92fc\u7b4b\u7d50\u69cb\u7b49\u3002\u4e00\u5207\u4e0d\u96a8\u78c1\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5\u7684\u5e72\u64fe\u6e90 \u7121\u8ad6\u78c1\u5834\u611f\u6e2c\u5668\u662f\u5426\u6821\u6e96\u7684\u597d\uff0c\u9019\u4e9b\u7a7a\u9593\u78c1\u5834\u7684\u5e72\u64fe(\u6216\u8005\u8aaa\u74b0\u5883\u78c1\u5834\u4e0d\u5747\u52fb)\u90fd\u6703\u4f7f\u5f97\u7a7a\u9593\u5730\u78c1\u5834\u767c\u751f\u7578\u8b8a\u3002\u5730\u78c1\u88dc\u511f\u6703\u932f\u8aa4\u4e26\u4e14\u7121\u6cd5\u7372\u5f97\u6b63\u78ba\u7684\u822a\u5411\u89d2\u3002\u4ed6\u5011\u662f\u9020\u6210\u5ba4\u5167\u5730\u78c1\u878d\u5408\u96e3\u4ee5\u4f7f\u7528\u7684\u4e3b\u8981\u5143\u5147\u3002\u9019\u7a2e\u5e72\u64fe\u4e0d\u80fd\u88ab\u6821\u6e96, \u6703\u56b4\u91cd\u5f71\u97ff\u5730\u78c1\u6027\u80fd\u3002\u7a7a\u9593\u78c1\u5834\u5e72\u64fe\u5728\u5ba4\u5167\u5c24\u5176\u56b4\u91cd\u3002 \u6a21\u7d44\u5167\u7f6e\u7684\u52fb\u8cea\u78c1\u5834\u6aa2\u6e2c\u53ca\u5c4f\u853d\u975e\u52fb\u8cea\u78c1\u5834 \u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u4e0b\u7684\u5e72\u64fe \u5e72\u64fe\u6e90\u96a8\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5 \u6a21\u7d44PCB\uff0c\u8207\u6a21\u7d44\u56fa\u5b9a\u5728\u4e00\u8d77\u7684\u677f\u5b50\uff0c\u5100\u5668\u8a2d\u5099\uff0c\u7522\u54c1\u7b49\u3002\u4ed6\u5011\u548c\u78c1\u611f\u6e2c\u5668\u8996\u70ba\u540c\u4e00\u500b\u525b\u9ad4\uff0c\u96a8\u78c1\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5 \u5c0d\u611f\u6e2c\u5668\u9020\u6210\u786c\u78c1/\u8edf\u78c1\u5e72\u64fe\u3002\u9019\u4e9b\u5e72\u64fe\u53ef\u4ee5\u901a\u904e\u5730\u78c1\u6821\u6e96\u7b97\u6cd5\u52a0\u4ee5\u5f88\u597d\u7684\u6d88\u9664\u3002 \u5730\u78c1\u6821\u6e96 \u4e0b\u5716\u662f\u4e00\u500b\u5178\u578b\u7684\u5ba4\u5167\u78c1\u5834\u5206\u4f48\u5716\u3002\u53ef\u4ee5\u770b\u5230\uff1a\u4e00\u822c\u5ba4\u5167\u74b0\u5883\u7684\u7a7a\u9593\u78c1\u5834\u7578\u8b8a\u662f\u6bd4\u8f03\u56b4\u91cd\u7684\u3002 \u6ce8\u610f \u5728\u5ba4\u5167\u74b0\u5883\u4e0b\uff0c\u7a7a\u9593\u78c1\u5834\u5e72\u64fe\u5c24\u5176\u56b4\u91cd\uff0c\u800c\u4e14\u7a7a\u9593\u78c1\u5e72\u64fe\u4e26\u4e0d\u80fd\u901a\u904e\u6821\u6e96\u4f86\u6d88\u9664\u3002\u5728\u5ba4\u5167\u74b0\u5883\u4e0b\uff0c\u5118\u7ba1\u6a21\u7d44\u5167\u7f6e\u5747\u8cea\u78c1\u5834\u6aa2\u6e2c\u53ca\u5c4f\u853d\u6a5f\u5236\uff0c\u4f469\u8ef8\u6a21\u5f0f\u822a\u5411\u89d2\u7684\u6e96\u78ba\u5ea6\u5f88\u5927\u7a0b\u5ea6\u4e0a\u53d6\u6c7a\u65bc\u5ba4\u5167\u78c1\u5834\u7578\u8b8a\u7a0b\u5ea6\uff0c\u5982\u679c\u5ba4\u5167\u78c1\u5834\u74b0\u5883\u5f88\u5dee(\u5982\u96fb\u8166\u6a5f\u623f\u65c1\uff0c\u96fb\u78c1\u5be6\u9a57\u5ba4\uff0c\u8eca\u9593 \uff0c\u5730\u4e0b\u8eca\u5eab\u7b49\u7b49)\uff0c\u5373\u4f7f\u6821\u6e96\u5f8c\uff0c 9\u8ef8\u7684\u822a\u5411\u89d2\u7cbe\u5ea6\u53ef\u80fd\u9084\u4e0d\u59826\u8ef8\u751a\u81f3\u6703\u51fa\u73fe\u5927\u89d2\u5ea6\u8aa4\u5dee\u3002 6\u8ef8\u548c9\u8ef8\u6a21\u5f0f\u5340\u5225 \u6b63\u56e0\u70ba\u5730\u78c1\u5834\u975e\u5e38\u5bb9\u6613\u53d7\u5230\u7a7a\u9593\u5e72\u64fe\uff0c\u6240\u4ee5\u4f7f\u75289\u8ef8\u6a21\u5f0f\u6642\u61c9\u975e\u5e38\u6ce8\u610f\u3002\u4e0b\u8868\u5217\u8209\u4e86\u4e0d\u540c\u7684\u4f7f\u7528\u5834\u5408\u548c\u5de5\u6cc1\u4e0b\u7684\u4f7f\u7528\u5efa\u8b70 \u6a21\u5f0f \u9069\u7528\u74b0\u5883 \u5178\u578b\u61c9\u7528 \u512a\u9ede \u7f3a\u9ede \u6ce8\u610f\u4e8b\u9805 6\u8ef8\u6a21\u5f0f \u5404\u7a2e\u74b0\u5883 \u96f2\u53f0\u7b49\u4f4e\u52d5\u614b\u59ff\u614b\u6aa2\u6e2c\uff0c\u5ba4\u5167\u6a5f\u5668\u4eba 1. \u59ff\u614b\u89d2\u8f38\u51fa\u7a69\u5b9a\u6027\u597d 2. \u5b8c\u5168\u4e0d\u53d7\u78c1\u5834\u5e72\u64fe \u822a\u5411\u89d2\u96a8\u6642\u9593\u7de9\u6162\u6f02\u79fb \u822a\u5411\u89d2\u6703\u96a8\u6642\u9593\u7de9\u6162\u98c4\u79fb\u4e14\u7121\u6cd5\u88dc\u511f 9\u8ef8\u6a21\u5f0f \u7121\u78c1\u5e72\u64fe\u74b0\u5883 1.\u6307\u5357\u91dd\uff0c\u5c0b\u5317\u7cfb\u7d71 2. \u7a7a\u66e0\u4e14\u78c1\u5e72\u64fe\u8f03\u5c11\u7684\u5ba4\u5167\uff0c\u6a21\u7d44\u57fa\u672c\u4e0d\u6703\u5927\u7bc4\u570d\u5728\u5ba4\u5167\u79fb\u52d5(\u5178\u578b\u7684\u5982\u651d\u5f71\u68da\u5167\u52d5\u4f5c\u6355\u6349\uff0c\u4e14\u88ab\u6e2c\u8005\u4e0d\u6703\u505a\u5927\u7bc4\u570d\u8d70\u52d5) 1. \u822a\u5411\u89d2\u4e0d\u6703\u96a8\u6642\u9593\u6f02\u79fb 2.\u4e00\u65e6\u6aa2\u6e2c\u5230\u5730\u78c1\u5834\u53ef\u5feb\u901f\u4fee\u6b63\u822a\u5411\u89d2\u6307\u5317 \u4efb\u4f55\u78c1\u5e72\u64fe\u90fd\u6703\u51fa\u73fe\u822a\u5411\u89d2\u6e96\u78ba\u5ea6\u4e0b\u964d\u3002\u5ba4\u5167\u5e72\u64fe\u56b4\u91cd\u60c5\u6cc1\u4e0b \u822a\u5411\u89d2\u7121\u6cd5\u6307\u5411\u6b63\u78ba\u65b9\u5411\u3002\u53e6\u5916\uff0c\u79fb\u52d5\u6a5f\u5668\u4eba\u7684\u91d1\u5c6c\u7d50\u69cb\u548c\u96fb\u6a5f\u904b\u884c\u6642\u6703\u7522\u751f\u975e\u5e38\u5f37\u7684\u78c1\u5e72\u64fe\uff0c\u6240\u4ee5\u79fb\u52d5\u6a5f\u5668\u4eba\u5e73\u53f0\u4e0d\u9069\u7528\u65bc9\u8ef8\u6a21\u5f0f\u3002 \u9996\u6b21\u4f7f\u7528\u524d\u9700\u8981\u6821\u6e96\u5730\u78c1\u611f\u6e2c\u5668 \u6a21\u7d44\u7684\u81ea\u52d5\u5730\u78c1\u6821\u6e96\u7cfb\u7d71\u53ea\u80fd\u8655\u7406\u548c\u6a21\u7d44\u5b89\u88dd\u5728\u4e00\u8d77\u7684\uff0c\u56fa\u5b9a\u7684\u78c1\u5834\u5e72\u64fe\u3002\u5b89\u88dd\u74b0\u5883\u5982\u679c\u6709\u78c1\u5834\u5e72\u64fe\uff0c\u9019\u7a2e\u5e72\u64fe\u5fc5\u9808\u662f\u56fa\u5b9a\u7684\uff0c\u4e26\u4e14\u9019\u500b\u5e72\u64fe\u78c1\u5834\u8207\u6a21\u7d44 \u5b89\u88dd\u4e4b\u5f8c\u4e0d\u6703\u518d\u767c\u751f\u8ddd\u96e2\u8b8a\u5316(\u4f8b\uff1a\u6a21\u7d44\u5b89\u88dd\u5728\u4e00\u500b\u9435\u6750\u6599\u4e4b\u4e0a\uff0c\u56e0\u70ba\u9435\u6703\u6709\u78c1\u5834\u5e72\u64fe\uff0c \u9019\u6642\u5c31\u9700\u8981\u628a\u9435\u8207\u6a21\u7d44\u4e00\u8d77\u65cb\u8f49\u6821\u6e96\uff0c\u4e26\u4e14\u9019\u500b\u9435\u5728\u4f7f\u7528\u7576\u4e2d\u662f\u4e0d\u6703\u548c\u7f85\u76e4\u518d\u5206\u958b\u7684(\u767c\u751f\u76f8\u5c0d\u4f4d\u79fb)\uff0c\u4e00 \u65e6\u5206\u958b\u662f\u9700\u8981\u518d\u91cd\u65b0\u6821\u6e96\u3002\u5982\u679c\u9019\u500b\u9435\u5927\u5c0f\u662f\u4e0d\u56fa\u5b9a\u7684\uff0c\u6216\u8207\u7f85\u76e4\u7684\u8ddd\u96e2\u8b8a\u5316\u4e5f\u4e0d\u662f\u56fa\u5b9a \u7684\uff0c\u9019\u7a2e\u5e72\u64fe\u662f\u7121\u6cd5\u6821\u6e96\uff0c\u5373\u4f7f\u6821\u6e96\u6210\u529f\uff0c\u4e5f\u6703\u7cbe\u5ea6\u975e\u5e38\u5dee\uff0c\u53ea\u80fd\u907f\u800c\u9060\u4e4b\u5b89\u88dd\u3002\u5b89\u5168\u8ddd\u96e2\u63a7\u5236\u5728 40CM \u4ee5\u4e0a)\u3002 \u6821\u6e96\u65b9\u6cd5 \u672c\u6a21\u7d44\u6574\u5408\u4e86\u4e3b\u52d5\u7121\u5e72\u9810\u5730\u78c1\u6821\u6e96\u7b97\u6cd5,\u6a21\u7d44\u6703\u81ea\u52d5\u6536\u96c6\u5730\u78c1\u5834\u8cc7\u8a0a\u4e26\u9032\u884c\u786c\u78c1\u8edf\u78c1\u6821\u6e96\u53c3\u6578\u4f30\u8a08\uff0c\u6821\u6e96\u6210\u529f\u5f8c\u6821\u6e96\u8cc7\u8a0a\u6703\u4fdd\u5b58\u5728\u6a21\u7d44Flash\u4e0a\u3002 \u7528\u6236\u7121\u9808\u4efb\u4f55\u64cd\u4f5c/\u6307\u4ee4\u5373\u53ef\u5be6\u73fe\u5730\u78c1\u6821\u6e96 \u3002\u9996\u6b21\u4f7f\u7528\u6642\uff0c\u6a21\u7d44\u6703\u81ea\u52d5\u63a1\u96c6\u5468\u570d\u5730\u78c1\u5834\uff0c\u4e26\u5617\u8a66\u8a08\u7b97\u5730\u78c1\u611f\u6e2c\u5668\u6821\u6e96\u53c3\u6578\u3002\u7576\u9996\u6b21\u4f7f\u7528\u6a21\u7d44\u4e26\u4e14\u9700\u8981\u4f7f\u75289\u8ef8\u6a21\u5f0f\u6642\uff0c\u61c9\u9032\u884c\u5982\u4e0b\u6821\u6e96\u64cd\u4f5c\uff1a \u5728\u76e1\u91cf\u5c0f\u7bc4\u570d\u5167\uff0c\u7de9\u6162\u7684\u8b93\u6a21\u7d44\u904b\u52d5\u548c\u65cb\u8f49\uff0c\u6216\u8005\u9032\u884c8\u5b57\u904b\u52d5 \u6216\u8005\u5206\u5225\u7e5e\u6bcf\u500b\u8ef8360\u5ea6\uff0c\u8b93\u6a21\u7d44\u7d93\u6b77\u76e1\u91cf\u591a\u7684\u59ff\u614b\u3002\u4e00\u822c\u60c5\u6cc1\u4e0b\uff0c\u5982\u679c\u5730\u78c1\u5e72\u64fe\u5728\u53ef\u63a5\u53d7\u7684\u7bc4\u570d\u5167\uff0c\u5373\u53ef\u5b8c\u6210\u6821\u6e96\u3002\u5982\u679c\u5f8c\u9762\u5728\u540c\u6a23\u5730\u78c1\u74b0\u5883\u4e0b(\u540c\u5730\u9ede)\uff0c\u5247\u7121\u9700\u518d\u6b21\u6821\u6e96\u3002\u5982\u679c\u59cb\u7d42\u6c92\u80fd\u6210\u529f\u6821\u6e96\u6a21\u7d44\uff0c\u8aaa\u660e\u5468\u570d\u5730\u78c1\u5834\u5e72\u64fe\u6bd4\u8f03\u5927\u3002 \u5730\u78c1\u6821\u6e96\u72c0\u614b\u53ef\u4ee5\u4f7f\u7528AT\u6307\u4ee4\u4f86\u67e5\u770b\uff1a \u767c\u9001 AT+INFO=HSI \u6307\u4ee4\uff0c\u6a21\u7d44\u6703\u6253\u5370\u7576\u524d\u5730\u78c1\u6821\u6e96\u7cfb\u7d71\u72c0\u614b\uff1a \u53c3\u6578\u986f\u793a \u610f\u7fa9 \u8aaa\u660e valid \u6709\u6548\u6a19\u8a8c 0: \u4e0d\u5b58\u5728\u6709\u6548\u6821\u6e96\u53c3\u6578(\u6c92\u6709\u6821\u6e96\u6216\u8005\u5f9e\u4f86\u6c92\u6709\u6821\u6e96\u6210\u529f\u904e)\u3002\u975e0\uff1a\u5730\u78c1\u6821\u6e96\u5b8c\u6210 fiterr \u64ec\u5408\u6b98\u5dee \u6b98\u5dee\u8d8a\u5c0f\uff0c\u8aaa\u660e\u53c3\u6578\u64ec\u5408\u6548\u679c\u8d8a\u597d\uff0c\u901a\u5e38\u57280.03\u4ee5\u4e0b\u8aaa\u660e\u6821\u6e96\u7d50\u679c\u5df2\u7d93\u8db3\u5920\u597d\u3002\u5982\u679c\u64ec\u5408\u7d50\u679c\u59cb\u7d42>0.1\uff0c\u8aaa\u660e\u5730\u78c1\u5e72\u64fe\u5f88\u5927\uff0c\u6700\u597d\u518d\u6b21\u6821\u6e96\u4ee5\u671f\u5f97\u5230\u66f4\u597d\u7684\u6821\u6e96\u7d50\u679c\u3002\u64ec\u5408\u6b98\u5dee\u6703\u96a8\u8457\u6642\u9593\u7de9\u6162\u589e\u9577\u3002 flux \u7576\u5730\u78c1\u5834 \u6700\u8fd1\u4e00\u6b21\u64ec\u5408\u5668\u4f30\u8a08\u51fa\u7684\u5730\u78c1\u5834\u5f37 \uff0c\u55ae\u4f4d\u70bauT inclination \u7576\u5730\u78c1\u50be\u89d2 \u6700\u8fd1\u4e00\u6b21\u64ec\u5408\u5668\u4f30\u8a08\u51fa\u7684\u78c1\u50be\u89d2\uff0c\u55ae\u4f4d\u70ba\u00b0 \u96d6\u7136\u5730\u78c1\u53c3\u6578\u4f30\u8a08\u53ef\u4ee5\u5728\u7dda\u81ea\u52d5\u63a1\u96c6\u6578\u64da\uff0c\u81ea\u52d5\u7684\u52d5\u614b\u64ec\u5408\u5730\u78c1\u6821\u6e96\u53c3\u6578\u3002\u4f46\u662f\u5982\u679c\u5468\u570d\u5730\u78c1\u74b0\u5883\u6539\u8b8a(\u6bd4\u5982\u9700\u8981\u5230\u53e6\u5916\u623f\u9593\u6216\u8005\u5ba4\u5167\u5ba4\u5916\u5207\u63db)\uff0c\u6700\u597d\u9084\u9700\u91cd\u8907\u624b\u5de5\u6821\u6e96\u64cd\u4f5c\u3002 \u5b89\u88dd\u53ca\u710a\u63a5 \u5b89\u88dd\u4f4d\u7f6e\u8acb\u9060\u96e2PCB\u5bb9\u6613\u5f62\u8b8a\u9ede\uff0c\u76e1\u91cf\u9060\u96e2PCB\u908a\u7de3(>30mm)\uff0c\u9060\u96e2PCB\u5b9a\u4f4d\u87ba\u7d72\u5b54(>10mm)\u7b49\u3002 \u5b89\u88dd\u4f4d\u7f6e\u8acb\u9060\u96e2\u5f37\u78c1\u8a2d\u5099\uff0c\u5982\u96fb\u6a5f\uff0c\u5587\u53ed\u7b49\u5f37\u78c1\u5668\u4ef6\u3002 \u7d44\u88dd\u597d\u7684PCB\u4e0d\u5f97\u4f7f\u7528\u8d85\u8072\u6ce2\u6e05\u6f54\u5100\u9032\u884c\u6e05\u6f54\u3002 \u672c\u7522\u54c1\u4e0d\u53ef\u4f7f\u7528\u5851\u5c01\u6216\u5674\u5857\u4e09\u9632\u6f06\uff0c\u5674\u6f06\u6216\u5851\u5c01\u6703\u9020\u6210\u611f\u6e2c\u5668\u61c9\u529b\u6539\u8b8a\u9032\u800c\u5f71\u97ff\u6027\u80fd\u3002 \u63a8\u85a6\u56de\u6d41\u710a\u7684\u7210\u6eab\u66f2\u7dda\u5716\u5982\u4e0b\uff1a \u6ce8\u610f \u56de\u6d41\u710a\u6700\u5f8c\u968e\u6bb5\u9700\u8981\u81ea\u7136\u51b7\u537b\uff0c\u4e0d\u80fd\u958b\u555f\u7210\u5b50\u5f37\u5236\u98a8\u51b7\u537b\uff0c\u5426\u5247\u56b4\u91cd\u5f71\u97ff\u7522\u54c1\u6027\u80fd\u3002 \u61c9\u7528\u6307\u5357 \u6a21\u7d44\u8207PC\u6a5f\u9023\u63a5 \u5efa\u8b70\u4f7f\u7528\u8a55\u4f30\u677f\u8207PC\u6a5f\u9032\u884c\u9023\u63a5\uff0c\u8a55\u4f30\u677f\u677f\u8f09USB\u4f9b\u96fb\u53caUSB\u8f49\u5e8f\u5217\u57e0\u529f\u80fd\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u914d\u5408PC\u6a5f\u4e0a\u7684\u8a55\u4f30\u8edf\u9ad4\u9032\u884c\u6027\u80fd\u6e2c\u8a66\u3002\u5177\u9ad4\u8acb\u53c3\u898b\u9644\u9304\u4e2d\u7684\u8a55\u4f30\u677f\u4e00\u7bc0\u3002 \u6a21\u7d44\u8207MCU\u9032\u884c\u9023\u63a5 \u6a21\u7d44\u8207MCU\u901a\u904eTTL\u96fb\u5e73\u7684\u5e8f\u5217\u57e0\u9032\u884c\u9023\u63a5\uff0c\u5efa\u8b70\u6a21\u7d44\u7684RST\u5f15\u8173\u5efa\u8b70\u63a5\u5230MCU\u7684GPIO\u4e0a\u3002\u65b9\u4fbfMCU\u5f37\u5236\u5fa9\u4f4d\u6a21\u7d44\u3002 \u6ce8\u610f \u5982\u4e0d\u4f7f\u7528\u540c\u6b65\u8f38\u5165(SYNC_IN) \u548c\u540c\u6b65\u8f38\u51fa\u529f\u80fd(SYNC_OUT) \u53ef\u4e0d\u63a5SYNC_IN \u548c SYNC_OUT\u3002 120\u6b50\u96fb\u963b\u7684\u4f5c\u7528\u662f\u70ba\u4e86\u65b9\u4fbf\u8abf\u8a66\uff0c\u4e26\u9632\u6b62MCU\u548c\u6a21\u7d44\u96fb\u5e73\u4e0d\u5339\u914d\uff0c\u53ef\u4ee5\u53bb\u6389\uff0c\u5efa\u8b70\u4fdd\u7559\u3002 VCC\u7684\u96fb\u58d3\u7bc4\u570d\u5177\u9ad4\u53c3\u52a0\u624b\u518a\u8aaa\u660e \u6a21\u7d44\u5167\u7f6e\u4e0a\u96fb\u5fa9\u4f4d\u96fb\u8def\uff0cRST\u53ef\u4ee5\u4e0d\u63a5\uff0c\u4f46\u662f\u5efa\u8b70\u63a5\u5230\u4e3b\u6a5f\u4e00\u500bGPIO\u4e0a\u4f86\u5be6\u73fe\u8edf\u9ad4\u5fa9\u4f4d\u3002 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6a21\u7d44\u4e0a\u96fb\u5f8c\uff0c\u9ed8\u8a8d\u6309\u51fa\u5ee0\u5e40\u7387(\u901a\u5e38\u70ba100)\u8f38\u51fa\u5e40\u6578\u64da\uff0c\u5e40\u683c\u5f0f\u5982\u4e0b\uff1a \u57df\u540d\u7a31 \u503c \u9577\u5ea6(\u5b57\u7bc0) \u8aaa\u660e PRE 0x5A 1 \u56fa\u5b9a\u70ba0x5A TYPE 0xA5 1 \u56fa\u5b9a\u70ba0xA5 LEN 1-512 2 \u5e40\u4e2d\u6578\u64da\u57df\u7684\u9577\u5ea6\uff0c\u4f4e\u5b57\u7bc0\u5728\u524d\u3002\u9577\u5ea6\u8868\u793a\u6578\u64da\u57df(PAYLOAD)\u7684\u9577\u5ea6\uff0c\u4e0d\u5305\u542b PRE , TYPE , LEN , CRC \u5b57\u6bb5\u3002 CRC - 2 \u9664CRC \u672c\u8eab\u5916\u5176\u9918\u6240\u6709\u5b57\u6bb5( PRE,TYPE,LEN, PAYLOAD )\u5e40\u6578\u64da\u768416 \u4f4dCRC \u6821\u9a57\u548c\u3002LSB(\u4f4e\u5b57\u7bc0\u5728\u524d) PAYLOAD - 1-512 \u4e00\u5e40\u651c\u5e36\u7684\u6578\u64da\u3002PAYLOAD\u57df \u7531\u82e5\u5e72\u500b**\u5b50\u6578\u64da\u5305**\u7d44\u6210\u3002\u6bcf\u500b\u6578\u64da\u5305\u5305\u542b\u6578\u64da\u5305\u6a19\u7c64\u548c\u6578\u64da\u5169\u90e8\u5206\u3002\u6a19\u7c64\u6c7a\u5b9a\u4e86\u6578\u64da\u7684\u985e\u578b\u53ca\u9577\u5ea6\u3002 CRC\u5be6\u73fe\u51fd\u6578\uff1a /* currectCrc: previous crc value, set 0 if it's first section src: source stream data lengthInBytes: length */ static void crc16_update(uint16_t *currectCrc, const uint8_t *src, uint32_t lengthInBytes) { uint32_t crc = *currectCrc; uint32_t j; for (j=0; j < lengthInBytes; ++j) { uint32_t i; uint32_t byte = src[j]; crc ^= byte << 8; for (i = 0; i < 8; ++i) { uint32_t temp = crc << 1; if (crc & 0x8000) { temp ^= 0x1021; } crc = temp; } } *currectCrc = crc; } \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd \u6578\u64da\u5305\u6a19\u7c64(DATA_ID) \u6578\u64da\u5305\u9577\u5ea6(\u5305\u542b\u6a19\u7c641\u5b57\u7bc0) \u540d\u7a31 \u5099\u8a3b 0x90 2 \u7528\u6236ID 0xA0 7 \u52a0\u901f\u5ea6 0xB0 7 \u89d2\u901f\u5ea6 0xC0 7 \u78c1\u5834\u5f37\u5ea6 0xD0 7 \u6b50\u62c9\u89d2 0xD1 17 \u56db\u5143\u6578 0xF0 5 \u6c23\u58d3 \u8f38\u51fa0 0x91 76 IMUSOL(IMU\u6578\u64da\u96c6\u5408) \u63a8\u85a6\u4f7f\u7528 \u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868 0x90(\u7528\u6236ID) \u51712\u5b57\u7bc0\uff0c\u7528\u6236\u8a2d\u7f6e\u7684ID\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x90 1 uint8_t 1 - \u7528\u6236ID 0xA0(\u52a0\u901f\u5ea6) \u51717 \u500b\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u52a0\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xA0 1 int16_t 2 0.001G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) X\u8ef8\u52a0\u901f\u5ea6 3 int16_t 2 0.001G Y\u8ef8\u52a0\u901f\u5ea6 5 int16_t 2 0.001G Z\u8ef8\u52a0\u901f\u5ea6 0xB0(\u89d2\u901f\u5ea6) \u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u89d2\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64\uff1a0xB0 1 int16_t 2 0.1\u00b0/s X\u8ef8\u89d2\u901f\u5ea6 3 int16_t 2 0.1\u00b0/s Y\u8ef8\u89d2\u901f\u5ea6 5 int16_t 2 0.1\u00b0/s Z\u8ef8\u89d2\u901f\u5ea6 0xC0(\u78c1\u5834\u5f37\u5ea6) \u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u78c1\u5834\u5f37\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xC0 1 int16_t 2 0.001Gauss X\u8ef8\u78c1\u5834\u5f37\u5ea6 3 int16_t 2 0.001Gauss Y\u8ef8\u78c1\u5834\u5f37\u5ea6 5 int16_t 2 0.001Gauss Z\u8ef8\u78c1\u5834\u5f37\u5ea6 0xD0(\u6b50\u62c9\u89d2) \u51717\u5b57\u7bc0\uff0cLSB\u3002\u683c\u5f0f\u70baint16\uff0c\u5171\u4e09\u500b\u8ef8\uff0c\u6bcf\u500b\u8ef8\u53602 \u500b\u5b57\u7bc0\uff0c\u9806\u5e8f\u70baPitch/Roll/Yaw\u3002\u63a5\u6536\u5230Roll, Pitch \u70ba\u7269\u7406\u503c\u4e58\u4ee5100 \u5f8c\u5f97\u5230\u7684\u6578\u503c\uff0cYaw \u70ba\u4e58\u4ee510 \u5f97\u5230\u7684\u6578\u503c\u3002 \u4f8b\uff1a\u7576\u63a5\u6536\u5230\u7684Yaw = 100 \u6642\uff0c\u8868\u793a\u822a\u5411\u89d2\u70ba10\u00b0 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD0 1 int16_t 2 0.01\u00b0 Pitch(\u4fef\u4ef0\u89d2) 3 int16_t 2 0.01\u00b0 Roll(\u6a6b\u6efe\u89d2) 5 int16_t 2 0.1\u00b0 Yaw(\u822a\u5411\u89d2) 0XD1(\u56db\u5143\u6578) \u517117\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\uff0c\u51714\u500b\u503c\uff0c\u9806\u5e8f\u70ba:W X Y Z.\u3002\u6bcf\u500b\u503c\u53604 \u5b57\u7bc0(float)\uff0c\u6574\u500b\u56db\u5143\u6578\u70ba4\u500bfloat\uff0cLSB\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD1 1 float 4 - W 5 float 4 - X 9 float 4 - Y 13 float 4 - Z 0XF0(\u6c23\u58d3) \u51715\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\u3002(\u53ea\u91dd\u5c0d\u6709\u6c23\u58d3\u611f\u6e2c\u5668\u7684\u7522\u54c1) \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xF0 1 float 4 Pa \u5927\u6c23\u58d3 0X91( IMUSOL) \u517176\u5b57\u7bc0\uff0c\u65b0\u52a0\u5165\u7684\u6578\u64da\u5305\uff0c\u7528\u65bc\u66ff\u4ee3A0,B0,C0,D0,D1\u7b49\u6578\u64da\u5305\u3002\u6574\u5408\u4e86IMU\u7684\u611f\u6e2c\u5668\u539f\u59cb\u8f38\u51fa\u548c\u59ff\u614b\u89e3\u7b97\u6578\u64da\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x91 1 uint8_t 1 - ID 2 - 6 - \u4fdd\u7559 8 uint32_t 4 ms \u6642\u9593\u6233\u8cc7\u8a0a\uff0c\u5f9e\u7cfb\u7d71\u958b\u6a5f\u958b\u59cb\u7d2f\u52a0\uff0c\u6bcf\u6beb\u79d2\u589e\u52a01 12 float 12 1G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) X,Y,Z\u8ef8\u7684\u52a0\u901f\u5ea6\uff0c\u6ce8\u610f\u55ae\u4f4d\u548c0xA0\u4e0d\u540c 24 float 12 deg/s X,Y,Z\u8ef8\u7684\u89d2\u901f\u5ea6\uff0c\u6ce8\u610f\u55ae\u4f4d\u548c0xB0\u4e0d\u540c 36 float 12 uT X,Y,Z\u8ef8\u7684\u78c1\u5834\u5f37\u5ea6(HI229\u652f\u63f4,\u6ce8\u610f\u55ae\u4f4d\u548c0xC0\u4e0d\u540c) 48 float 12 deg \u7bc0\u9ede\u6b50\u62c9\u89d2\u96c6\u5408, \u9806\u5e8f\u70ba\uff1a\u6a6b\u6efe\u89d2(Roll)\uff0c\u4fef\u4ef0\u89d2(Pitch)\uff0c\u822a\u5411\u89d2(Yaw)(\u6ce8\u610f\u9806\u5e8f\u548c\u55ae\u4f4d\u82070xD0\u6578\u64da\u5305\u4e0d\u540c) 60 float 16 - \u7bc0\u9ede\u56db\u5143\u6578\u96c6\u5408,\u9806\u5e8f\u70baWXYZ \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u51fa\u5ee0\u9ed8\u8a8d\u4e00\u5e40\u4e2d\u651c\u5e36\u6578\u64da\u5305\u6578\u64da\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7522\u54c1 \u9ed8\u8a8d\u8f38\u51fa\u6578\u64da\u5305 HI229 0x91 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305 \u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517141\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991835\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 23 00 FD 61 90 00 A0 55 02 3D 01 E2 02 B0 FE FF 17 00 44 00 C0 80 FF 60 FF 32 FF D0 64 F2 6C 0E BB 01 F0 00 00 00 00 \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 23 00 : (0x00<<8) + 0x23 = 35 \u5e40CRC\u6821\u9a57\u503c: FD 61 :(0x61<<8) + 0xFD = 0x61FD \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x61FD, \u8207\u5e40\u651c\u5e36\u7684CRC\u503c\u76f8\u540c, \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da 90 00 \uff1aID \u6578\u64da\u5305, 0x90\u70ba\u6578\u64da\u5305\u6a19\u7c64, ID = 0x00. A0 55 02 3D 01 E2 02 :\u52a0\u901f\u5ea6\u6578\u64da\u5305,0xA0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u52a0\u901f\u5ea6\u70ba\uff1a X\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0x55) = 597(\u55ae\u4f4d\u70bamG) Y\u8ef8\u52a0\u901f\u5ea6 = (int16_t)((0x01<<8)+ 0x3D) = 317 Z\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0xE2) = 738 B0 FE FF 17 00 44 00 :\u89d2\u901f\u5ea6\u6578\u64da\u5305,0xB0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u89d2\u901f\u5ea6\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0xFE) = -2(\u55ae\u4f4d\u70ba0.1\u00b0/s) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0x00<<8)+ 0x17) = 23 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0x00<<8)+ 0x44) = 68 C0 80 FF 60 FF 32 FF :\u78c1\u5834\u6578\u64da\u5305,0xC0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u78c1\u5834\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x80) = -128 (\u55ae\u4f4d\u70ba0.001Gauss) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0xFF<<8)+ 0x60) = -160 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x32) = -206 D0 64 F2 6C 0E BB 01 \u6b50\u62c9\u89d2\u6578\u64da\u5305, 0xD0\u70ba\u6578\u64da\u5305\u6a19\u7c64 Pitch= (int16_t)((0xF2<<8)+ 0x64) / 100 = -3484 / 100 = -34.84 \u00b0 Roll= (int16_t)((0x0E<<8)+ 0x6C) / 100 = 3692 / 100 = 36.92\u00b0 Yaw = (int16_t)((0x01<<8)+ 0xBB) / 10 = 443 /10 = 44.3\u00b0 F0 00 00 00 00 \u6c23\u58d3\u6578\u64da\u5305\uff0c0xF0\u70ba\u6578\u64da\u5305\u6a19\u7c64 float prs; prs = memcpy(&prs, &buf[37], 4); \u6700\u5f8c\u5f97\u5230\u7d50\u679c\uff1a id : 0 acc(G) : 0.597 0.317 0.738 gyr(deg/s) : -0.200 2.300 6.800 mag(uT) : -12.800 -16.000 -20.600 eul(R/P/Y) : 36.920 -34.840 44.300 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 \u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517182\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991876\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 4C 00 6C 51 91 00 A0 3B 01 A8 02 97 BD BB 04 00 9C A0 65 3E A2 26 45 3F 5C E7 30 3F E2 D4 5A C2 E5 9D A0 C1 EB 23 EE C2 78 77 99 41 AB AA D1 C1 AB 2A 0A C2 8D E1 42 42 8F 1D A8 C1 1E 0C 36 C2 E6 E5 5A 3F C1 94 9E 3E B8 C0 9E BE BE DF 8D BE \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 4C 00 : (0x00<<8) + 0x4C = 76 \u5e40CRC\u6821\u9a57\u503c: 6C 51 :(0x51<<8) + 0x6C = 0x516C \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x516C. \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da \u5f9e 0x91 \u958b\u59cb\u70ba\u6578\u64da\u5305\u7684\u6578\u64da\u57df\u3002\u5728C\u8a9e\u8a00\u4e2d\u53ef\u4ee5\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u4f86\u65b9\u4fbf\u7684\u8b80\u53d6\u6578\u64da\uff1a \u5b9a\u7fa90x91\u6578\u64da\u5305\u7d50\u69cb\u9ad4\u5982\u4e0b\uff1a __packed typedef struct { uint8_t tag; /* data packet tag */ uint8_t id; uint8_t rev[6]; /* reserved */ uint32_t ts; /* timestamp */ float acc[3]; float gyr[3]; float mag[3]; float eul[3]; /* eular angles: Roll,Pitch,Yaw */ float quat[4]; /* quaternion */ }id0x91_t; __packed \u70ba\u7de8\u8b6f\u5668\u95dc\u9375\u5b57(Keil\u4e0b)\uff0c\u8868\u793a\u7d50\u69cb\u9ad4\u6309\u5b57\u7bc0\u7dca\u5c0d\u9f4a\uff0c\u7d50\u69cb\u9ad4\u6bcf\u4e00\u500b\u5143\u7d20\u4e00\u4e00\u5c0d\u61c90x91\u6578\u64da\u5305\u7684\u7d50\u69cb\u5b9a\u7fa9\u3002\u63a5\u6536\u6578\u64da\u6642\u5c07\u63a5\u6536\u5230\u7684\u9663\u5217\u76f4\u63a5memcpy\u5230\u7d50\u69cb\u9ad4\u5373\u53ef\uff1a(\u6ce8\u610f\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u6642\u5fc5\u98084\u5b57\u7bc0\u5c0d\u9f4a), \u5176\u4e2d buf \u6307\u5411\u5e40\u982d, buf[6] \u6307\u5411\u5e40\u4e2d\u6578\u64da\u57df \u3002 /* \u63a5\u6536\u6578\u64da\u4e26\u4f7f\u75280x91\u6578\u64da\u5305\u7d50\u69cb\u5b9a\u7fa9\u4f86\u89e3\u91cb\u6578\u64da */ __align(4) id0x91_t dat; /* struct must be 4 byte aligned */ memcpy(&dat, &buf[6], sizeof(id0x91_t)); \u6700\u5f8c\u5f97\u5230dat\u6578\u64da\u7d50\u679c\uff1a id : 0 timestamp : 310205 acc : 0.224 0.770 0.691 gyr : -54.708 -20.077 -119.070 mag : 19.183 -26.208 -34.542 eul(R/P/Y) : 48.720 -21.014 -45.512 quat : 0.855 0.310 -0.310 -0.277 AT\u6307\u4ee4 \u7576\u4f7f\u7528\u5e8f\u5217\u57e0\u8207\u6a21\u7d44\u901a\u8a0a\u6642, \u6a21\u7d44\u652f\u63f4AT \u6307\u4ee4\u96c6\u914d\u7f6e/\u67e5\u770b\u6a21\u7d44\u53c3\u6578\u3002AT \u6307\u4ee4\u7e3d\u4ee5ASCII \u78bc AT \u958b\u982d\uff0c\u5f8c\u9762\u8ddf\u63a7\u5236\u5b57\u7b26\uff0c\u6700 \u5f8c\u4ee5\u56de\u8eca\u63db\u884c \\r\\n \u7d50\u675f\u3002\u53ef\u4f7f\u7528\u5e8f\u5217\u57e0\u8abf\u8a66\u52a9\u624b\u9032\u884c\u6e2c\u8a66\uff1a \u901a\u7528\u6a21\u7d44 AT\u6307\u4ee4\u5982\u4e0b \u6307\u4ee4 \u529f\u80fd \u6389\u96fb\u4fdd\u5b58(Y) \u7acb\u5373\u751f\u6548(Y),\u5fa9\u4f4d\u751f\u6548(R) \u5099\u8a3b AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID Y R AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a N Y AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u983b\u7387 Y R AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387 Y R AT+EOUT \u6578\u64da\u8f38\u51fa\u958b\u95dc N Y AT+RST \u5fa9\u4f4d\u6a21\u7d44 N Y \u91cd\u555f\u6a21\u7d44 AT+TRG \u55ae\u6b21\u8f38\u51fa\u89f8\u767c N Y AT+SETPTL \u8a2d\u7f6e\u8f38\u51fa\u6578\u64da\u5305 Y Y AT+MODE \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f Y R AT+GWID \u8a2d\u7f6e\u7121\u7dda\u63a5\u6536\u6a5fID Y R \u4e0d\u652f\u63f4 AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID \u4f8b AT+ID=1 AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a\uff0c\u5305\u62ec\u7522\u54c1\u578b\u865f\uff0c\u7248\u672c\uff0c\u97cc\u9ad4\u767c\u4f48\u65e5\u671f\u7b49\u3002 AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u7387\u3002\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548 \u4f8b \u8a2d\u7f6e\u5e8f\u5217\u57e0\u8f38\u51fa\u901f\u7387\u70ba100Hz: AT+ODR=100 \u6ce8\u610f\uff1a\u7576\u8f38\u51fa\u5e40\u7387\u8a2d\u7f6e\u6bd4\u8f03\u9ad8\u6642(\u5982200),\u9ed8\u8a8d\u7684115200\u9b91\u7387\u53ef\u80fd\u4e0d\u6eff\u8db3\u8f38\u51fa\u983b\u5bec\u8981\u6c42\uff0c\u6b64\u6642\u9700\u8981\u5c07\u6a21\u7d44\u9b91\u7387\u8a2d\u9ad8(\u5982921600)\u5f8c\uff0c\u6a21\u7d44\u624d\u80fd\u7a69\u5b9a\u8f38\u51fa\u9ad8\u5e40\u7387\u3002 AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387\uff0c\u53ef\u9078\u503c\uff1a 9600/115200/460800/921600 \u4f8b AT+BAUD=115200 \u6ce8\u610f \u4f7f\u7528\u6b64\u6307\u4ee4\u9700\u8981\u7279\u5225\u6ce8\u610f\uff0c\u8f38\u5165\u932f\u8aa4\u9b91\u7387\u5f8c\u6703\u5c0e\u81f4\u7121\u6cd5\u548c\u6a21\u7d44\u901a\u8a0a \u9b91\u7387\u53c3\u6578\u8a2d\u7f6e\u597d\u5f8c\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548\u3002 CH-Center \u8edf\u9ad4\u7684\u9b91\u7387\u4e5f\u8981\u505a\u76f8\u61c9\u4fee\u6539\u3002 \u5347\u7d1a\u97cc\u9ad4\u6642\uff0c\u9700\u8981\u5207\u63db\u56de115200 \u9b91\u7387\u3002 AT+EOUT \u5e8f\u5217\u57e0\u8f38\u51fa\u958b\u95dc \u4f8b \u6253\u958b\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=1 \u95dc\u9589\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=0 AT+RST \u5fa9\u4f4d\u6a21\u7d44 \u4f8b AT+RST AT+MODE \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f \u4f8b \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u57286\u8ef8\u6a21\u5f0f(\u7121\u78c1\u6821\u6e96) AT+MODE=0 \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u57289\u8ef8\u6a21\u5f0f(\u5730\u78c1\u5834\u611f\u6e2c\u5668\u53c3\u8207\u822a\u5411\u89d2\u6821\u6b63) AT+MODE=1 AT+SETPTL \u8a2d\u7f6e\u8f38\u51fa\u5354\u8b70: \u6a21\u7d44\u6578\u64da\u5e40\u4e2d\u7684\u6578\u64da\u5305\u7d44\u6210\u53ef\u4f7f\u7528AT\u6307\u4ee4\u914d\u7f6e\uff0c\u683c\u5f0f\u70ba AT+SETPTL=<ITEM_ID>,<ITEM_ID>... \u4f8b \u914d\u7f6e\u6a21\u7d44\u8f38\u51fa\u52a0\u901f\u5ea6\uff0c\u89d2\u901f\u5ea6, \u6574\u5f62\u683c\u5f0f\u6b50\u62c9\u89d2\u548c\u56db\u5143\u6578\u7684\u6307\u4ee4\u70ba\uff1a AT+SETPTL=A0,B0,D0,D1 AT+TRG \u89f8\u767c\u6a21\u7d44\u8f38\u51fa\u4e00\u5e40\u6578\u64da\uff0c\u53ef\u4ee5\u914d\u5408AT+ODR=0\u4f86\u5be6\u73fe\u55ae\u6b21\u89f8\u767c\u8f38\u51fa\u3002 \u4f8b AT+TRG \u9644\u9304A - \u8a55\u4f30\u677f \u8a55\u4f30\u677f\u7c21\u4ecb \u8a55\u4f30\u677f\u63d0\u4f9b\u4e86\u5feb\u901f\u8a55\u4f30\u672c\u7522\u54c1\u7684\u65b9\u6cd5\u3002\u677f\u8f09USB-UART\u82af\u7247(CP2104)\u4ee5\u53ca\u4f9b\u96fbLDO\uff0c\u4e26\u5c07\u6a21\u7d44\u63a5\u53e3\u5f15\u51fa\u65b9\u4fbf\u8abf\u8a66\u8a55\u4f30\u3002 \u5b89\u88dd\u8cc7\u6599\u5305\u4e2d\u7684CP2104 USB-UART \u9a45\u52d5\u7a0b\u5e8f, \u5c07USB\u7dda\u9023\u63a5\u96fb\u8166\u548c\u6a21\u7d44\uff0c\u6253\u958b CH-Center \u8edf\u9ad4\uff0c\u9023\u63a5\u5e8f\u5217\u57e0\uff0c\u9ed8\u8a8d\u72c0\u614b\u4e0b\uff0c\u6a21\u7d44\u6703\u4ee5115200-N-8-N-1 \u8f38\u51fa\u51fa\u5ee0\u9ed8\u8a8d\u7684\u6578\u64da\u5305\u3002 \u5c3a\u5bf8 \u5f9e\u8a55\u4f30\u677f\u4e0a\u53d6\u4e0b\u7522\u54c1 \u6a21\u7d44\u9ed8\u8a8d\u88ab\u5d4c\u5165\u8a55\u4f30\u677f\u7684PLCC28 \u63d2\u69fd\u4e2d\uff0c\u5982\u9700\u53d6\u51fa\u6a21\u7d44\uff0c\u8acb\u6309\u5982\u4e0b\u6b65\u9a5f\u64cd\u4f5c\uff1a - \u65b7\u96fb\uff0c\u6e96\u5099\u597d\u7d30\u87ba\u7d72\u5200\u6216\u9477\u5b50 - \u5f9ePLCC \u63d2\u5ea7\u6216\u8005\u80cc\u9762\u5713\u5f62\u7a7a\u6d1e\u5167\u5c07\u6a21\u7d44\u64ac\u51fa\u6216\u9802\u51fa\u3002 \u6ce8\u610f \u8a55\u4f30\u677f\u7684\u4e3b\u8981\u4f5c\u7528\u50c5\u50c5\u662f\u5feb\u901f\u8a55\u4f30\u6a21\u7d44\u6027\u80fd, USB \u63a5\u53e3\u672c\u8eab\u4e0d\u9069\u5408\u65bc\u5de5\u696d\u7d1a\u5834\u666f\u6216\u8005\u9ad8\u904b\u52d5\u5834\u5408\u7684\u96fb\u6c23\u9023\u63a5\uff0c\u5982\u679c\u60a8\u7684\u61c9\u7528\u70ba\u9ad8\u904b\u52d5\u74b0\u5883(\u52d5\u4f5c\u6355\u6349\u7b49)\uff0c\u5247\u4e0d\u5efa\u8b70\u5728\u60a8\u7684\u7522\u54c1\u4e2d\u76f4\u63a5\u4f7f\u7528\u8a55\u4f30\u677f\u3002 \u9644\u9304B - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e \u672c\u7522\u54c1\u652f\u63f4\u5347\u7d1a\u97cc\u9ad4\u3002 \u97cc\u9ad4\u5347\u7d1a\u6b65\u9a5f: \u9023\u63a5\u6a21\u7d44\uff0c\u6253\u958b CH-Center \u8edf\u9ad4\uff0c\u5c07\u6a21\u7d44\u548c CH-Center \u8edf\u9ad4\u9b91\u7387\u90fd\u8a2d\u7f6e\u70ba115200. \u6253\u958b\u97cc\u9ad4\u5347\u7d1a\u7a97\u53e3 \u9ede\u64ca\"\u9023\u63a5\"\uff0c\u5982\u51fa\u73fe\u6a21\u7d44\u9023\u63a5\u8cc7\u8a0a\u3002\u5247\u8aaa\u660e\u5347\u7d1a\u7cfb\u7d71\u6e96\u5099\u5c31\u7dd2\uff0c\u9ede\u64ca\u6587\u4ef6\u9078\u64c7\u5668(\u2026)\u9078\u64c7\u526f\u6a94\u540d\u70ba.hex \u7684\u97cc\u9ad4 \u9ede\u64ca\"\u958b\u59cb\u7de8\u7a0b\"\u3002\u4e0b\u8f09\u5b8c\u6210\u5f8c\u6703\u63d0\u793a\u7de8\u7a0b\u5b8c\u6210\uff0c\u6b64\u6642\u95dc\u9589\u5e8f\u5217\u57e0\uff0c\u91cd\u65b0\u7d66\u6a21\u7d44\u4e0a\u96fb\uff0c\u6a21\u7d44\u5347\u7d1a\u5b8c\u6210\u3002","title":"HI229 \u7528\u6236\u624b\u518a"},{"location":"hi229/hi229/#hi229","text":"IMU/VRU/AHRS\u59ff\u614b\u6e2c\u91cf\u6a21\u7d44, Rev 1.0 HI229 \u7528\u6236\u624b\u518a \u7c21\u4ecb \u4e3b\u8981\u7279\u6027 \u677f\u8f09\u611f\u6e2c\u5668 \u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb \u786c\u9ad4\u53c3\u6578 \u5750\u6a19\u7cfb\u5b9a\u7fa9 \u6027\u80fd\u6307\u6a19 \u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6 \u9640\u87ba\u5100 \u52a0\u901f\u5ea6\u8a08 \u78c1\u611f\u6e2c\u5668\u53c3\u6578 \u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578 \u611f\u6e2c\u5668\u6821\u6e96 \u5730\u78c1\u6821\u6e96 \u78c1\u5e72\u64fe\u5206\u985e 6\u8ef8\u548c9\u8ef8\u6a21\u5f0f\u5340\u5225 \u6821\u6e96\u65b9\u6cd5 \u5b89\u88dd\u53ca\u710a\u63a5 \u61c9\u7528\u6307\u5357 \u6a21\u7d44\u8207PC\u6a5f\u9023\u63a5 \u6a21\u7d44\u8207MCU\u9032\u884c\u9023\u63a5 \u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70 \u6578\u64da\u5305 \u6578\u64da\u5305\u7e3d\u89bd \u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868 0x90(\u7528\u6236ID) 0xA0(\u52a0\u901f\u5ea6) 0xB0(\u89d2\u901f\u5ea6) 0xC0(\u78c1\u5834\u5f37\u5ea6) 0xD0(\u6b50\u62c9\u89d2) 0XD1(\u56db\u5143\u6578) 0XF0(\u6c23\u58d3) 0X91( IMUSOL) \u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305 \u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305 \u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305 AT\u6307\u4ee4 AT+ID AT+INFO AT+ODR AT+BAUD AT+EOUT AT+RST AT+MODE AT+SETPTL AT+TRG \u9644\u9304A - \u8a55\u4f30\u677f \u8a55\u4f30\u677f\u7c21\u4ecb \u5c3a\u5bf8 \u5f9e\u8a55\u4f30\u677f\u4e0a\u53d6\u4e0b\u7522\u54c1 \u9644\u9304B - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e","title":"HI229 \u7528\u6236\u624b\u518a"},{"location":"hi229/hi229/#_1","text":"HI229\u662f\u8d85\u6838\u96fb\u5b50\u63a8\u51fa\u7684\u4e00\u6b3e\u4f4e\u6210\u672c\u3001\u9ad8\u6027\u80fd\u3001\u5c0f\u9ad4\u7a4d\u3001\u4f4e\u5ef6\u6642\u7684\u822a\u59ff\u53c3\u8003\u55ae\u5143\uff08AHRS\uff09\uff0c\u672c\u7522\u54c1\u6574\u5408\u4e86\u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08\u3001\u4e09\u8ef8\u9640\u87ba\u5100\u3001\u4e09\u8ef8\u78c1\u5834\u611f\u6e2c\u5668\u548c\u4e00\u6b3e\u5fae\u63a7\u5236\u5668\u3002\u53ef\u8f38\u51fa\u7d93\u904e\u611f\u6e2c\u5668\u878d\u5408\u7b97\u6cd5\u8a08\u7b97\u5f97\u5230\u7684\u57fa\u65bc\u7576\u5730\u5730\u7406\u5750\u6a19\u7684\u4e09\u7dad\u65b9\u4f4d\u6578\u64da\uff0c\u5305\u542b\u822a\u5411\u89d2\uff0c\u4fef\u4ef0\u89d2\u548c\u6a6b\u6efe\u89d2\u3002\u540c\u6642\u4e5f\u53ef\u4ee5\u8f38\u51fa\u6821\u6e96\u904e\u7684\u539f\u59cb\u7684\u611f\u6e2c\u5668\u6578\u64da\u3002\u672c\u7522\u54c1\u5177\u6709\u4e00\u5b9a\u7684\u5ba4\u5167\u5730\u78c1\u6297\u5e72\u64fe\u6027\u80fd\uff0c\u5728\u4e00\u5b9a\u5f37\u5ea6\u7684\u5730\u78c1\u5834\u5e72\u64fe\u74b0\u5883\u4e0b\u4ecd\u53ef\u6b63\u5e38\u5de5\u4f5c\u3002 \u5178\u578b\u61c9\u7528: VR\\\u52d5\u4f5c\u6355\u6349 \u9ad8\u52d5\u614b\u74b0\u5883\u4e0b\u59ff\u614b\u6e2c\u91cf\\\u904b\u52d5\u6027\u80fd\u8a55\u4f30 \u7121\u4eba\u6a5f\u63a7\u5236","title":"\u7c21\u4ecb"},{"location":"hi229/hi229/#_2","text":"","title":"\u4e3b\u8981\u7279\u6027"},{"location":"hi229/hi229/#_3","text":"\u4e09\u8ef8\u9640\u87ba\u5100, \u6700\u5927\u91cf\u7a0b: \u00b12000\u00b0/s \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08, \u6700\u5927\u91cf\u7a0b:\u00b18G \u4e09\u8ef8\u78c1\u5834\u611f\u6e2c\u5668\uff0c\u6700\u5927\u91cf\u7a0b: 800mG (\u6beb\u9ad8\u65af)","title":"\u677f\u8f09\u611f\u6e2c\u5668"},{"location":"hi229/hi229/#_4","text":"\u5e8f\u5217\u57e0(\u517c\u5bb9TTL \u53ef\u76f4\u63a5\u82075V \u62163.3V \u5e8f\u5217\u57e0\u8a2d\u5099\u9023\u63a5) \u4f9b\u96fb\u96fb\u58d3\uff1a3.3 (\u00b1 100 mV) \u6700\u5927\u5cf0\u503c\u529f\u8017\uff1a32mA","title":"\u901a\u8a0a\u63a5\u53e3\u53ca\u4f9b\u96fb"},{"location":"hi229/hi229/#_5","text":"\u53c3\u6578 \u63cf\u8ff0 \u8f38\u51fa\u6578\u64da\u63a5\u53e3 UART(TTL 1.8V - 3.3V) \u5de5\u4f5c\u96fb\u58d3 3.3V (\u00b1 100mV) \u529f\u8017 86mW @3.3V \u6eab\u5ea6\u7bc4\u570d -20\u2103 - 85 \u2103 \u6700\u5927\u7dda\u6027\u52a0\u901f\u5ea6 0 - 115 m/s^2 m/s^2 \u5c3a\u5bf8 12 x 12 x 2.6mm (W x L x H) \u677f\u8f09\u611f\u6e2c\u5668 \u4e09\u8ef8\u52a0\u901f\u5ea6\u8a08 \u4e09\u8ef8\u9640\u87ba\u5100 \u4e09\u8ef8\u78c1\u5834\u611f\u6e2c\u5668(\u53ef\u9078) \u7b26\u865f \u6700\u5c0f\u503c \u5178\u578b\u503c \u6700\u5927\u503c \u55ae\u4f4d A1 - 11 - mm B - 11 - mm D - 12 - mm E - 12 - mm H 2.5 2.6 2.7 mm a - 1.5 - mm b - 0.9 - mm c - 1 - mm e - 1.27 - mm f - 1 - mm \u5f15\u8173\u865f \u540d\u7a31 \u8aaa\u660e 5 N/C \u4fdd\u7559 6 VCC \u96fb\u6e90 3.3V 7 SYNC_OUT \u6578\u64da\u8f38\u51fa\u540c\u6b65: \u6578\u64da\u8f38\u51fa\u6642\uff0c \u6b64\u5f15\u8173\u70ba\u9ad8\u96fb\u5e73\uff0c\u7a7a\u9592\u6642\u70ba\u4f4e\u96fb\u5e73\u3002 8 RXD \u6a21\u7d44\u5e8f\u5217\u57e0\u63a5\u6536 UART RXD(\u63a5 MCU \u7684 TXD) 9 TXD \u6a21\u7d44\u5e8f\u5217\u57e0\u767c\u9001 UART TXD (\u63a5 MCU \u7684 RXD) 10 SYNC_IN \u6578\u64da\u8f38\u5165\u540c\u6b65: \u5167\u90e8\u4e0b\u62c9\uff0c\u7576\u6a21\u7d44\u6aa2\u6e2c\u5230\u4e0a\u5347\u6cbf\u6642, \u8f38\u51fa\u4e00\u5e40\u6578\u64da\u3002 11 N/C \u4fdd\u7559 19 GND GND 20 RST \u5fa9\u4f4d, \u5167\u90e8\u4e0a\u62c9\u3002>10uS \u4f4e\u96fb\u5e73\u5fa9\u4f4d\u6a21\u7d44\u3002\u7121\u9700\u8981\u5916\u63a5\u963b\u5bb9\uff0c\u5efa\u8b70\u63a5\u5230MCU\u7684GPIO\u5f15\u8173\u4ee5\u5be6\u73fe\u8edf\u9ad4\u5fa9\u4f4d 21 N/C \u4fdd\u7559 22 N/C \u4fdd\u7559 23 N/C \u4fdd\u7559 24 GND GND 25 N/C \u4fdd\u7559","title":"\u786c\u9ad4\u53c3\u6578"},{"location":"hi229/hi229/#_6","text":"\u8f09\u9ad4\u7cfb\u4f7f\u7528 \u524d-\u5de6-\u4e0a(FLU)\u53f3\u624b\u5750\u6a19\u7cfb\uff0c \u5730\u7406\u5750\u6a19\u7cfb\u4f7f\u7528 \u5317-\u897f-\u5929(NWU)\u5750\u6a19\u7cfb\u3002\u5176\u4e2d\u6b50\u62c9\u89d2\u65cb\u8f49\u9806\u5e8f\u70ba ZYX(\u5148\u8f49Z\u8ef8\uff0c\u518d\u8f49Y\u8ef8\uff0c\u6700\u5f8c\u8f49X\u8ef8)\u65cb\u8f49\u9806\u5e8f\u3002\u5177\u9ad4\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7e5e Z \u8ef8\u65b9\u5411\u65cb\u8f49: \u822a\u5411\u89d2\\Yaw\\phi( \\psi \\psi ) \u7bc4\u570d: -180\u00b0 - 180\u00b0 \u7e5e Y \u8ef8\u65b9\u5411\u65cb\u8f49: \u4fef\u4ef0\u89d2\\Pitch\\theta( \\theta \\theta ) \u7bc4\u570d: -90\u00b0-90\u00b0 \u7e5e X \u8ef8\u65b9\u5411\u65cb\u8f49:\u6a6b\u6efe\u89d2\\Roll\\psi( \\phi \\phi )\u7bc4\u570d: -180\u00b0-180\u00b0 \u5982\u679c\u5c07\u6a21\u7d44\u8996\u70ba\u98db\u884c\u5668\u7684\u8a71\u3002X \u8ef8\u61c9\u8996\u70ba\u6a5f\u982d\u65b9\u5411\u3002\u7576\u611f\u6e2c\u5668\u7cfb\u8207\u6163\u6027\u7cfb\u91cd\u5408\u6642\uff0c\u6b50\u62c9\u89d2\u7684\u7406\u60f3\u8f38\u51fa\u70ba:Pitch = 0\u00b0, Roll = 0\u00b0, Yaw = 0\u00b0","title":"\u5750\u6a19\u7cfb\u5b9a\u7fa9"},{"location":"hi229/hi229/#_7","text":"","title":"\u6027\u80fd\u6307\u6a19"},{"location":"hi229/hi229/#_8","text":"\u59ff\u614b\u89d2 \u5178\u578b\u503c \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u975c\u614b\u8aa4\u5dee 0.8\u00b0 \u6a6b\u6efe\u89d2\\\u4fef\u4ef0\u89d2 - \u52d5\u614b\u8aa4\u5dee 2.5\u00b0 \u904b\u52d5\u4e2d\u822a\u5411\u89d2\u7cbe\u5ea6(6\u8ef8\u6a21\u5f0f,30min,\u6c34\u5e73\u5e73\u7a69\u904b\u52d5,\u985e\u6383\u5730\u6a5f\u904b\u52d5\u6a21\u5f0f) <10\u00b0 \u904b\u52d5\u4e2d\u822a\u5411\u89d2\u7cbe\u5ea6(9\u8ef8\u6a21\u5f0f\u4e0b,\u7121\u78c1\u5e72\u64fe,\u6821\u6e96\u5f8c) 3\u00b0","title":"\u59ff\u614b\u89d2\u8f38\u51fa\u7cbe\u5ea6"},{"location":"hi229/hi229/#_9","text":"\u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b12000\u00b0/s \u96f6\u504f\u7a69\u5b9a\u6027 10\u00b0/h \u523b\u5ea6\u975e\u7dda\u6027\u5ea6 \u00b10.3%(\u6eff\u91cf\u7a0b\u6642) \u52a0\u901f\u5ea6\u654f\u611f\u6027 0.1\u00b0/s/g","title":"\u9640\u87ba\u5100"},{"location":"hi229/hi229/#_10","text":"\u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b18G (1G = 1x \u91cd\u529b\u52a0\u901f\u5ea6 ) \u975e\u7dda\u6027\u5ea6 \u00b10.5% (\u6eff\u91cf\u7a0b\u6642)","title":"\u52a0\u901f\u5ea6\u8a08"},{"location":"hi229/hi229/#_11","text":"\u53c3\u6578 \u503c \u6e2c\u91cf\u7bc4\u570d \u00b18G(Gauss) \u975e\u7dda\u6027\u5ea6 \u00b10.1% \u5206\u8fa8\u7387 0.25mG","title":"\u78c1\u611f\u6e2c\u5668\u53c3\u6578"},{"location":"hi229/hi229/#_12","text":"\u53c3\u6578 \u503c \u5e8f\u5217\u57e0\u8f38\u51fa\u9b91\u7387 9600/115200/460800/921600\u53ef\u9078 \u5e40\u8f38\u51fa\u901f\u7387 1/25/50/100/200/400Hz \u53ef\u9078","title":"\u6a21\u7d44\u6578\u64da\u63a5\u53e3\u53c3\u6578"},{"location":"hi229/hi229/#_13","text":"\u52a0\u901f\u5ea6\u8a08\u548c\u9640\u87ba\u5100\u5728\u51fa\u5ee0\u524d\u7d93\u904e\u6bd4\u4f8b\u56e0\u5b50\u8aa4\u5dee\u548c\u975e\u6b63\u4ea4\u8aa4\u5dee\u6821\u6e96\uff0c\u6821\u6e96\u53c3\u6578\u4fdd\u5b58\u5728\u6a21\u7d44\u5167\u90e8\u3002 \u9640\u87ba\u5100\u7684\u8f38\u51fa\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u6703\u6709\u4e00\u500b\u96a8\u6a5f\u7684\u4e0d\u70ba0\u7684bias\uff0c\u7a31\u4e4b\u70ba\u96f6\u504f\u91cd\u8907\u6027\u3002\u9019\u500b\u96a8\u6a5fbias\u4e0d\u80fd\u5728\u51fa\u5ee0\u524d\u88ab\u6821\u6e96\u3002\u7cfb\u7d71\u5728\u555f\u52d5\u5f8c1S\u5167\u8a8d\u70ba\u8655\u65bc\u975c\u6b62\u72c0\u614b\u4e26\u63a1\u96c61S\u7684\u9640\u87ba\u5100\u89d2\u901f\u5ea6\u4f5c\u70ba\u521d\u59cbbias\u3002\u9019\u500b\u904e\u7a0b\u7a31\u4e4b\u70ba\u9640\u87ba\u5100\u4e0a\u96fb\u81ea\u6821\u6e96\u3002\u81ea\u6821\u6e96\u5728\u4e0a\u96fb\u5f8c\u975c\u6b62\u6a21\u7d443s \u5de6\u53f3\u53ef\u7372\u5f97\u6700\u597d\u7684\u6821\u6e96\u6548\u679c\u3002 \u5982\u4e0a\u96fb1s\u5167\u6a21\u7d44\u8655\u65bc\u904b\u52d5\u72c0\u614b(\u5305\u62ec\u7de9\u6162\u8f49\u52d5\uff0c\u632f\u52d5\u7b49)\u5247\u822a\u5411\u89d2\u98c4\u79fb\u73fe\u8c61\u6703\u986f\u8457\u589e\u5927 \u3002 \u5efa\u8b70\u4f7f\u7528\u6642\u6bcf\u6b21\u4e0a\u96fb\u5f8c\u975c\u6b62\u81f3\u5c111s\u3002 \u78c1\u611f\u6e2c\u5668(\u90e8\u5206\u578b\u865f\u652f\u63f4)\u51fa\u5ee0\u524d\u7d93\u904e\u6a62\u7403\u6821\u6e96\uff0c\u4f46\u78c1\u611f\u6e2c\u5668\u5f88\u5bb9\u6613\u53d7\u5230\u5916\u754c\u74b0\u5883\u78c1\u5834\u5e72\u64fe\uff0c\u4e00\u822c\u90fd\u9700\u8981\u5ba2\u6236\u91cd\u65b0\u6821\u6e96\uff0c\u51fa\u5ee0\u6821\u6e96\u53c3\u6578\u610f\u7fa9\u4e0d\u5927\u3002\u8a73\u898b\u5730\u78c1\u6821\u6e96\u7ae0\u7bc0\u3002","title":"\u611f\u6e2c\u5668\u6821\u6e96"},{"location":"hi229/hi229/#_14","text":"","title":"\u5730\u78c1\u6821\u6e96"},{"location":"hi229/hi229/#_15","text":"\u7a2e\u985e \u5b9a\u7fa9 \u5178\u578b\u5e72\u64fe\u6e90 \u5f71\u97ff \u63aa\u65bd \u7a7a\u9593\u78c1\u5834\u5e72\u64fe \u5e72\u64fe\u4e0d\u96a8\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5\uff0c\u800c\u8655\u65bc\u4e16\u754c\u5750\u6a19\u7cfb\u4e0b \u5404\u7a2e\u56fa\u5b9a\u7684\u78c1\u5e72\u64fe\u6e90\uff0c\u50a2\u4ff1\uff0c\u5bb6\u7528\u96fb\u5668\uff0c\u96fb\u7e9c\uff0c\u623f\u5c4b\u5167\u7684\u92fc\u7b4b\u7d50\u69cb\u7b49\u3002\u4e00\u5207\u4e0d\u96a8\u78c1\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5\u7684\u5e72\u64fe\u6e90 \u7121\u8ad6\u78c1\u5834\u611f\u6e2c\u5668\u662f\u5426\u6821\u6e96\u7684\u597d\uff0c\u9019\u4e9b\u7a7a\u9593\u78c1\u5834\u7684\u5e72\u64fe(\u6216\u8005\u8aaa\u74b0\u5883\u78c1\u5834\u4e0d\u5747\u52fb)\u90fd\u6703\u4f7f\u5f97\u7a7a\u9593\u5730\u78c1\u5834\u767c\u751f\u7578\u8b8a\u3002\u5730\u78c1\u88dc\u511f\u6703\u932f\u8aa4\u4e26\u4e14\u7121\u6cd5\u7372\u5f97\u6b63\u78ba\u7684\u822a\u5411\u89d2\u3002\u4ed6\u5011\u662f\u9020\u6210\u5ba4\u5167\u5730\u78c1\u878d\u5408\u96e3\u4ee5\u4f7f\u7528\u7684\u4e3b\u8981\u5143\u5147\u3002\u9019\u7a2e\u5e72\u64fe\u4e0d\u80fd\u88ab\u6821\u6e96, \u6703\u56b4\u91cd\u5f71\u97ff\u5730\u78c1\u6027\u80fd\u3002\u7a7a\u9593\u78c1\u5834\u5e72\u64fe\u5728\u5ba4\u5167\u5c24\u5176\u56b4\u91cd\u3002 \u6a21\u7d44\u5167\u7f6e\u7684\u52fb\u8cea\u78c1\u5834\u6aa2\u6e2c\u53ca\u5c4f\u853d\u975e\u52fb\u8cea\u78c1\u5834 \u611f\u6e2c\u5668\u5750\u6a19\u7cfb\u4e0b\u7684\u5e72\u64fe \u5e72\u64fe\u6e90\u96a8\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5 \u6a21\u7d44PCB\uff0c\u8207\u6a21\u7d44\u56fa\u5b9a\u5728\u4e00\u8d77\u7684\u677f\u5b50\uff0c\u5100\u5668\u8a2d\u5099\uff0c\u7522\u54c1\u7b49\u3002\u4ed6\u5011\u548c\u78c1\u611f\u6e2c\u5668\u8996\u70ba\u540c\u4e00\u500b\u525b\u9ad4\uff0c\u96a8\u78c1\u611f\u6e2c\u5668\u904b\u52d5\u800c\u904b\u52d5 \u5c0d\u611f\u6e2c\u5668\u9020\u6210\u786c\u78c1/\u8edf\u78c1\u5e72\u64fe\u3002\u9019\u4e9b\u5e72\u64fe\u53ef\u4ee5\u901a\u904e\u5730\u78c1\u6821\u6e96\u7b97\u6cd5\u52a0\u4ee5\u5f88\u597d\u7684\u6d88\u9664\u3002 \u5730\u78c1\u6821\u6e96 \u4e0b\u5716\u662f\u4e00\u500b\u5178\u578b\u7684\u5ba4\u5167\u78c1\u5834\u5206\u4f48\u5716\u3002\u53ef\u4ee5\u770b\u5230\uff1a\u4e00\u822c\u5ba4\u5167\u74b0\u5883\u7684\u7a7a\u9593\u78c1\u5834\u7578\u8b8a\u662f\u6bd4\u8f03\u56b4\u91cd\u7684\u3002 \u6ce8\u610f \u5728\u5ba4\u5167\u74b0\u5883\u4e0b\uff0c\u7a7a\u9593\u78c1\u5834\u5e72\u64fe\u5c24\u5176\u56b4\u91cd\uff0c\u800c\u4e14\u7a7a\u9593\u78c1\u5e72\u64fe\u4e26\u4e0d\u80fd\u901a\u904e\u6821\u6e96\u4f86\u6d88\u9664\u3002\u5728\u5ba4\u5167\u74b0\u5883\u4e0b\uff0c\u5118\u7ba1\u6a21\u7d44\u5167\u7f6e\u5747\u8cea\u78c1\u5834\u6aa2\u6e2c\u53ca\u5c4f\u853d\u6a5f\u5236\uff0c\u4f469\u8ef8\u6a21\u5f0f\u822a\u5411\u89d2\u7684\u6e96\u78ba\u5ea6\u5f88\u5927\u7a0b\u5ea6\u4e0a\u53d6\u6c7a\u65bc\u5ba4\u5167\u78c1\u5834\u7578\u8b8a\u7a0b\u5ea6\uff0c\u5982\u679c\u5ba4\u5167\u78c1\u5834\u74b0\u5883\u5f88\u5dee(\u5982\u96fb\u8166\u6a5f\u623f\u65c1\uff0c\u96fb\u78c1\u5be6\u9a57\u5ba4\uff0c\u8eca\u9593 \uff0c\u5730\u4e0b\u8eca\u5eab\u7b49\u7b49)\uff0c\u5373\u4f7f\u6821\u6e96\u5f8c\uff0c 9\u8ef8\u7684\u822a\u5411\u89d2\u7cbe\u5ea6\u53ef\u80fd\u9084\u4e0d\u59826\u8ef8\u751a\u81f3\u6703\u51fa\u73fe\u5927\u89d2\u5ea6\u8aa4\u5dee\u3002","title":"\u78c1\u5e72\u64fe\u5206\u985e"},{"location":"hi229/hi229/#69","text":"\u6b63\u56e0\u70ba\u5730\u78c1\u5834\u975e\u5e38\u5bb9\u6613\u53d7\u5230\u7a7a\u9593\u5e72\u64fe\uff0c\u6240\u4ee5\u4f7f\u75289\u8ef8\u6a21\u5f0f\u6642\u61c9\u975e\u5e38\u6ce8\u610f\u3002\u4e0b\u8868\u5217\u8209\u4e86\u4e0d\u540c\u7684\u4f7f\u7528\u5834\u5408\u548c\u5de5\u6cc1\u4e0b\u7684\u4f7f\u7528\u5efa\u8b70 \u6a21\u5f0f \u9069\u7528\u74b0\u5883 \u5178\u578b\u61c9\u7528 \u512a\u9ede \u7f3a\u9ede \u6ce8\u610f\u4e8b\u9805 6\u8ef8\u6a21\u5f0f \u5404\u7a2e\u74b0\u5883 \u96f2\u53f0\u7b49\u4f4e\u52d5\u614b\u59ff\u614b\u6aa2\u6e2c\uff0c\u5ba4\u5167\u6a5f\u5668\u4eba 1. \u59ff\u614b\u89d2\u8f38\u51fa\u7a69\u5b9a\u6027\u597d 2. \u5b8c\u5168\u4e0d\u53d7\u78c1\u5834\u5e72\u64fe \u822a\u5411\u89d2\u96a8\u6642\u9593\u7de9\u6162\u6f02\u79fb \u822a\u5411\u89d2\u6703\u96a8\u6642\u9593\u7de9\u6162\u98c4\u79fb\u4e14\u7121\u6cd5\u88dc\u511f 9\u8ef8\u6a21\u5f0f \u7121\u78c1\u5e72\u64fe\u74b0\u5883 1.\u6307\u5357\u91dd\uff0c\u5c0b\u5317\u7cfb\u7d71 2. \u7a7a\u66e0\u4e14\u78c1\u5e72\u64fe\u8f03\u5c11\u7684\u5ba4\u5167\uff0c\u6a21\u7d44\u57fa\u672c\u4e0d\u6703\u5927\u7bc4\u570d\u5728\u5ba4\u5167\u79fb\u52d5(\u5178\u578b\u7684\u5982\u651d\u5f71\u68da\u5167\u52d5\u4f5c\u6355\u6349\uff0c\u4e14\u88ab\u6e2c\u8005\u4e0d\u6703\u505a\u5927\u7bc4\u570d\u8d70\u52d5) 1. \u822a\u5411\u89d2\u4e0d\u6703\u96a8\u6642\u9593\u6f02\u79fb 2.\u4e00\u65e6\u6aa2\u6e2c\u5230\u5730\u78c1\u5834\u53ef\u5feb\u901f\u4fee\u6b63\u822a\u5411\u89d2\u6307\u5317 \u4efb\u4f55\u78c1\u5e72\u64fe\u90fd\u6703\u51fa\u73fe\u822a\u5411\u89d2\u6e96\u78ba\u5ea6\u4e0b\u964d\u3002\u5ba4\u5167\u5e72\u64fe\u56b4\u91cd\u60c5\u6cc1\u4e0b \u822a\u5411\u89d2\u7121\u6cd5\u6307\u5411\u6b63\u78ba\u65b9\u5411\u3002\u53e6\u5916\uff0c\u79fb\u52d5\u6a5f\u5668\u4eba\u7684\u91d1\u5c6c\u7d50\u69cb\u548c\u96fb\u6a5f\u904b\u884c\u6642\u6703\u7522\u751f\u975e\u5e38\u5f37\u7684\u78c1\u5e72\u64fe\uff0c\u6240\u4ee5\u79fb\u52d5\u6a5f\u5668\u4eba\u5e73\u53f0\u4e0d\u9069\u7528\u65bc9\u8ef8\u6a21\u5f0f\u3002 \u9996\u6b21\u4f7f\u7528\u524d\u9700\u8981\u6821\u6e96\u5730\u78c1\u611f\u6e2c\u5668 \u6a21\u7d44\u7684\u81ea\u52d5\u5730\u78c1\u6821\u6e96\u7cfb\u7d71\u53ea\u80fd\u8655\u7406\u548c\u6a21\u7d44\u5b89\u88dd\u5728\u4e00\u8d77\u7684\uff0c\u56fa\u5b9a\u7684\u78c1\u5834\u5e72\u64fe\u3002\u5b89\u88dd\u74b0\u5883\u5982\u679c\u6709\u78c1\u5834\u5e72\u64fe\uff0c\u9019\u7a2e\u5e72\u64fe\u5fc5\u9808\u662f\u56fa\u5b9a\u7684\uff0c\u4e26\u4e14\u9019\u500b\u5e72\u64fe\u78c1\u5834\u8207\u6a21\u7d44 \u5b89\u88dd\u4e4b\u5f8c\u4e0d\u6703\u518d\u767c\u751f\u8ddd\u96e2\u8b8a\u5316(\u4f8b\uff1a\u6a21\u7d44\u5b89\u88dd\u5728\u4e00\u500b\u9435\u6750\u6599\u4e4b\u4e0a\uff0c\u56e0\u70ba\u9435\u6703\u6709\u78c1\u5834\u5e72\u64fe\uff0c \u9019\u6642\u5c31\u9700\u8981\u628a\u9435\u8207\u6a21\u7d44\u4e00\u8d77\u65cb\u8f49\u6821\u6e96\uff0c\u4e26\u4e14\u9019\u500b\u9435\u5728\u4f7f\u7528\u7576\u4e2d\u662f\u4e0d\u6703\u548c\u7f85\u76e4\u518d\u5206\u958b\u7684(\u767c\u751f\u76f8\u5c0d\u4f4d\u79fb)\uff0c\u4e00 \u65e6\u5206\u958b\u662f\u9700\u8981\u518d\u91cd\u65b0\u6821\u6e96\u3002\u5982\u679c\u9019\u500b\u9435\u5927\u5c0f\u662f\u4e0d\u56fa\u5b9a\u7684\uff0c\u6216\u8207\u7f85\u76e4\u7684\u8ddd\u96e2\u8b8a\u5316\u4e5f\u4e0d\u662f\u56fa\u5b9a \u7684\uff0c\u9019\u7a2e\u5e72\u64fe\u662f\u7121\u6cd5\u6821\u6e96\uff0c\u5373\u4f7f\u6821\u6e96\u6210\u529f\uff0c\u4e5f\u6703\u7cbe\u5ea6\u975e\u5e38\u5dee\uff0c\u53ea\u80fd\u907f\u800c\u9060\u4e4b\u5b89\u88dd\u3002\u5b89\u5168\u8ddd\u96e2\u63a7\u5236\u5728 40CM \u4ee5\u4e0a)\u3002","title":"6\u8ef8\u548c9\u8ef8\u6a21\u5f0f\u5340\u5225"},{"location":"hi229/hi229/#_16","text":"\u672c\u6a21\u7d44\u6574\u5408\u4e86\u4e3b\u52d5\u7121\u5e72\u9810\u5730\u78c1\u6821\u6e96\u7b97\u6cd5,\u6a21\u7d44\u6703\u81ea\u52d5\u6536\u96c6\u5730\u78c1\u5834\u8cc7\u8a0a\u4e26\u9032\u884c\u786c\u78c1\u8edf\u78c1\u6821\u6e96\u53c3\u6578\u4f30\u8a08\uff0c\u6821\u6e96\u6210\u529f\u5f8c\u6821\u6e96\u8cc7\u8a0a\u6703\u4fdd\u5b58\u5728\u6a21\u7d44Flash\u4e0a\u3002 \u7528\u6236\u7121\u9808\u4efb\u4f55\u64cd\u4f5c/\u6307\u4ee4\u5373\u53ef\u5be6\u73fe\u5730\u78c1\u6821\u6e96 \u3002\u9996\u6b21\u4f7f\u7528\u6642\uff0c\u6a21\u7d44\u6703\u81ea\u52d5\u63a1\u96c6\u5468\u570d\u5730\u78c1\u5834\uff0c\u4e26\u5617\u8a66\u8a08\u7b97\u5730\u78c1\u611f\u6e2c\u5668\u6821\u6e96\u53c3\u6578\u3002\u7576\u9996\u6b21\u4f7f\u7528\u6a21\u7d44\u4e26\u4e14\u9700\u8981\u4f7f\u75289\u8ef8\u6a21\u5f0f\u6642\uff0c\u61c9\u9032\u884c\u5982\u4e0b\u6821\u6e96\u64cd\u4f5c\uff1a \u5728\u76e1\u91cf\u5c0f\u7bc4\u570d\u5167\uff0c\u7de9\u6162\u7684\u8b93\u6a21\u7d44\u904b\u52d5\u548c\u65cb\u8f49\uff0c\u6216\u8005\u9032\u884c8\u5b57\u904b\u52d5 \u6216\u8005\u5206\u5225\u7e5e\u6bcf\u500b\u8ef8360\u5ea6\uff0c\u8b93\u6a21\u7d44\u7d93\u6b77\u76e1\u91cf\u591a\u7684\u59ff\u614b\u3002\u4e00\u822c\u60c5\u6cc1\u4e0b\uff0c\u5982\u679c\u5730\u78c1\u5e72\u64fe\u5728\u53ef\u63a5\u53d7\u7684\u7bc4\u570d\u5167\uff0c\u5373\u53ef\u5b8c\u6210\u6821\u6e96\u3002\u5982\u679c\u5f8c\u9762\u5728\u540c\u6a23\u5730\u78c1\u74b0\u5883\u4e0b(\u540c\u5730\u9ede)\uff0c\u5247\u7121\u9700\u518d\u6b21\u6821\u6e96\u3002\u5982\u679c\u59cb\u7d42\u6c92\u80fd\u6210\u529f\u6821\u6e96\u6a21\u7d44\uff0c\u8aaa\u660e\u5468\u570d\u5730\u78c1\u5834\u5e72\u64fe\u6bd4\u8f03\u5927\u3002 \u5730\u78c1\u6821\u6e96\u72c0\u614b\u53ef\u4ee5\u4f7f\u7528AT\u6307\u4ee4\u4f86\u67e5\u770b\uff1a \u767c\u9001 AT+INFO=HSI \u6307\u4ee4\uff0c\u6a21\u7d44\u6703\u6253\u5370\u7576\u524d\u5730\u78c1\u6821\u6e96\u7cfb\u7d71\u72c0\u614b\uff1a \u53c3\u6578\u986f\u793a \u610f\u7fa9 \u8aaa\u660e valid \u6709\u6548\u6a19\u8a8c 0: \u4e0d\u5b58\u5728\u6709\u6548\u6821\u6e96\u53c3\u6578(\u6c92\u6709\u6821\u6e96\u6216\u8005\u5f9e\u4f86\u6c92\u6709\u6821\u6e96\u6210\u529f\u904e)\u3002\u975e0\uff1a\u5730\u78c1\u6821\u6e96\u5b8c\u6210 fiterr \u64ec\u5408\u6b98\u5dee \u6b98\u5dee\u8d8a\u5c0f\uff0c\u8aaa\u660e\u53c3\u6578\u64ec\u5408\u6548\u679c\u8d8a\u597d\uff0c\u901a\u5e38\u57280.03\u4ee5\u4e0b\u8aaa\u660e\u6821\u6e96\u7d50\u679c\u5df2\u7d93\u8db3\u5920\u597d\u3002\u5982\u679c\u64ec\u5408\u7d50\u679c\u59cb\u7d42>0.1\uff0c\u8aaa\u660e\u5730\u78c1\u5e72\u64fe\u5f88\u5927\uff0c\u6700\u597d\u518d\u6b21\u6821\u6e96\u4ee5\u671f\u5f97\u5230\u66f4\u597d\u7684\u6821\u6e96\u7d50\u679c\u3002\u64ec\u5408\u6b98\u5dee\u6703\u96a8\u8457\u6642\u9593\u7de9\u6162\u589e\u9577\u3002 flux \u7576\u5730\u78c1\u5834 \u6700\u8fd1\u4e00\u6b21\u64ec\u5408\u5668\u4f30\u8a08\u51fa\u7684\u5730\u78c1\u5834\u5f37 \uff0c\u55ae\u4f4d\u70bauT inclination \u7576\u5730\u78c1\u50be\u89d2 \u6700\u8fd1\u4e00\u6b21\u64ec\u5408\u5668\u4f30\u8a08\u51fa\u7684\u78c1\u50be\u89d2\uff0c\u55ae\u4f4d\u70ba\u00b0 \u96d6\u7136\u5730\u78c1\u53c3\u6578\u4f30\u8a08\u53ef\u4ee5\u5728\u7dda\u81ea\u52d5\u63a1\u96c6\u6578\u64da\uff0c\u81ea\u52d5\u7684\u52d5\u614b\u64ec\u5408\u5730\u78c1\u6821\u6e96\u53c3\u6578\u3002\u4f46\u662f\u5982\u679c\u5468\u570d\u5730\u78c1\u74b0\u5883\u6539\u8b8a(\u6bd4\u5982\u9700\u8981\u5230\u53e6\u5916\u623f\u9593\u6216\u8005\u5ba4\u5167\u5ba4\u5916\u5207\u63db)\uff0c\u6700\u597d\u9084\u9700\u91cd\u8907\u624b\u5de5\u6821\u6e96\u64cd\u4f5c\u3002","title":"\u6821\u6e96\u65b9\u6cd5"},{"location":"hi229/hi229/#_17","text":"\u5b89\u88dd\u4f4d\u7f6e\u8acb\u9060\u96e2PCB\u5bb9\u6613\u5f62\u8b8a\u9ede\uff0c\u76e1\u91cf\u9060\u96e2PCB\u908a\u7de3(>30mm)\uff0c\u9060\u96e2PCB\u5b9a\u4f4d\u87ba\u7d72\u5b54(>10mm)\u7b49\u3002 \u5b89\u88dd\u4f4d\u7f6e\u8acb\u9060\u96e2\u5f37\u78c1\u8a2d\u5099\uff0c\u5982\u96fb\u6a5f\uff0c\u5587\u53ed\u7b49\u5f37\u78c1\u5668\u4ef6\u3002 \u7d44\u88dd\u597d\u7684PCB\u4e0d\u5f97\u4f7f\u7528\u8d85\u8072\u6ce2\u6e05\u6f54\u5100\u9032\u884c\u6e05\u6f54\u3002 \u672c\u7522\u54c1\u4e0d\u53ef\u4f7f\u7528\u5851\u5c01\u6216\u5674\u5857\u4e09\u9632\u6f06\uff0c\u5674\u6f06\u6216\u5851\u5c01\u6703\u9020\u6210\u611f\u6e2c\u5668\u61c9\u529b\u6539\u8b8a\u9032\u800c\u5f71\u97ff\u6027\u80fd\u3002 \u63a8\u85a6\u56de\u6d41\u710a\u7684\u7210\u6eab\u66f2\u7dda\u5716\u5982\u4e0b\uff1a \u6ce8\u610f \u56de\u6d41\u710a\u6700\u5f8c\u968e\u6bb5\u9700\u8981\u81ea\u7136\u51b7\u537b\uff0c\u4e0d\u80fd\u958b\u555f\u7210\u5b50\u5f37\u5236\u98a8\u51b7\u537b\uff0c\u5426\u5247\u56b4\u91cd\u5f71\u97ff\u7522\u54c1\u6027\u80fd\u3002","title":"\u5b89\u88dd\u53ca\u710a\u63a5"},{"location":"hi229/hi229/#_18","text":"","title":"\u61c9\u7528\u6307\u5357"},{"location":"hi229/hi229/#pc","text":"\u5efa\u8b70\u4f7f\u7528\u8a55\u4f30\u677f\u8207PC\u6a5f\u9032\u884c\u9023\u63a5\uff0c\u8a55\u4f30\u677f\u677f\u8f09USB\u4f9b\u96fb\u53caUSB\u8f49\u5e8f\u5217\u57e0\u529f\u80fd\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u914d\u5408PC\u6a5f\u4e0a\u7684\u8a55\u4f30\u8edf\u9ad4\u9032\u884c\u6027\u80fd\u6e2c\u8a66\u3002\u5177\u9ad4\u8acb\u53c3\u898b\u9644\u9304\u4e2d\u7684\u8a55\u4f30\u677f\u4e00\u7bc0\u3002","title":"\u6a21\u7d44\u8207PC\u6a5f\u9023\u63a5"},{"location":"hi229/hi229/#mcu","text":"\u6a21\u7d44\u8207MCU\u901a\u904eTTL\u96fb\u5e73\u7684\u5e8f\u5217\u57e0\u9032\u884c\u9023\u63a5\uff0c\u5efa\u8b70\u6a21\u7d44\u7684RST\u5f15\u8173\u5efa\u8b70\u63a5\u5230MCU\u7684GPIO\u4e0a\u3002\u65b9\u4fbfMCU\u5f37\u5236\u5fa9\u4f4d\u6a21\u7d44\u3002 \u6ce8\u610f \u5982\u4e0d\u4f7f\u7528\u540c\u6b65\u8f38\u5165(SYNC_IN) \u548c\u540c\u6b65\u8f38\u51fa\u529f\u80fd(SYNC_OUT) \u53ef\u4e0d\u63a5SYNC_IN \u548c SYNC_OUT\u3002 120\u6b50\u96fb\u963b\u7684\u4f5c\u7528\u662f\u70ba\u4e86\u65b9\u4fbf\u8abf\u8a66\uff0c\u4e26\u9632\u6b62MCU\u548c\u6a21\u7d44\u96fb\u5e73\u4e0d\u5339\u914d\uff0c\u53ef\u4ee5\u53bb\u6389\uff0c\u5efa\u8b70\u4fdd\u7559\u3002 VCC\u7684\u96fb\u58d3\u7bc4\u570d\u5177\u9ad4\u53c3\u52a0\u624b\u518a\u8aaa\u660e \u6a21\u7d44\u5167\u7f6e\u4e0a\u96fb\u5fa9\u4f4d\u96fb\u8def\uff0cRST\u53ef\u4ee5\u4e0d\u63a5\uff0c\u4f46\u662f\u5efa\u8b70\u63a5\u5230\u4e3b\u6a5f\u4e00\u500bGPIO\u4e0a\u4f86\u5be6\u73fe\u8edf\u9ad4\u5fa9\u4f4d\u3002","title":"\u6a21\u7d44\u8207MCU\u9032\u884c\u9023\u63a5"},{"location":"hi229/hi229/#_19","text":"\u6a21\u7d44\u4e0a\u96fb\u5f8c\uff0c\u9ed8\u8a8d\u6309\u51fa\u5ee0\u5e40\u7387(\u901a\u5e38\u70ba100)\u8f38\u51fa\u5e40\u6578\u64da\uff0c\u5e40\u683c\u5f0f\u5982\u4e0b\uff1a \u57df\u540d\u7a31 \u503c \u9577\u5ea6(\u5b57\u7bc0) \u8aaa\u660e PRE 0x5A 1 \u56fa\u5b9a\u70ba0x5A TYPE 0xA5 1 \u56fa\u5b9a\u70ba0xA5 LEN 1-512 2 \u5e40\u4e2d\u6578\u64da\u57df\u7684\u9577\u5ea6\uff0c\u4f4e\u5b57\u7bc0\u5728\u524d\u3002\u9577\u5ea6\u8868\u793a\u6578\u64da\u57df(PAYLOAD)\u7684\u9577\u5ea6\uff0c\u4e0d\u5305\u542b PRE , TYPE , LEN , CRC \u5b57\u6bb5\u3002 CRC - 2 \u9664CRC \u672c\u8eab\u5916\u5176\u9918\u6240\u6709\u5b57\u6bb5( PRE,TYPE,LEN, PAYLOAD )\u5e40\u6578\u64da\u768416 \u4f4dCRC \u6821\u9a57\u548c\u3002LSB(\u4f4e\u5b57\u7bc0\u5728\u524d) PAYLOAD - 1-512 \u4e00\u5e40\u651c\u5e36\u7684\u6578\u64da\u3002PAYLOAD\u57df \u7531\u82e5\u5e72\u500b**\u5b50\u6578\u64da\u5305**\u7d44\u6210\u3002\u6bcf\u500b\u6578\u64da\u5305\u5305\u542b\u6578\u64da\u5305\u6a19\u7c64\u548c\u6578\u64da\u5169\u90e8\u5206\u3002\u6a19\u7c64\u6c7a\u5b9a\u4e86\u6578\u64da\u7684\u985e\u578b\u53ca\u9577\u5ea6\u3002 CRC\u5be6\u73fe\u51fd\u6578\uff1a /* currectCrc: previous crc value, set 0 if it's first section src: source stream data lengthInBytes: length */ static void crc16_update(uint16_t *currectCrc, const uint8_t *src, uint32_t lengthInBytes) { uint32_t crc = *currectCrc; uint32_t j; for (j=0; j < lengthInBytes; ++j) { uint32_t i; uint32_t byte = src[j]; crc ^= byte << 8; for (i = 0; i < 8; ++i) { uint32_t temp = crc << 1; if (crc & 0x8000) { temp ^= 0x1021; } crc = temp; } } *currectCrc = crc; }","title":"\u5e8f\u5217\u57e0\u901a\u8a0a\u5354\u8b70"},{"location":"hi229/hi229/#_20","text":"","title":"\u6578\u64da\u5305"},{"location":"hi229/hi229/#_21","text":"\u6578\u64da\u5305\u6a19\u7c64(DATA_ID) \u6578\u64da\u5305\u9577\u5ea6(\u5305\u542b\u6a19\u7c641\u5b57\u7bc0) \u540d\u7a31 \u5099\u8a3b 0x90 2 \u7528\u6236ID 0xA0 7 \u52a0\u901f\u5ea6 0xB0 7 \u89d2\u901f\u5ea6 0xC0 7 \u78c1\u5834\u5f37\u5ea6 0xD0 7 \u6b50\u62c9\u89d2 0xD1 17 \u56db\u5143\u6578 0xF0 5 \u6c23\u58d3 \u8f38\u51fa0 0x91 76 IMUSOL(IMU\u6578\u64da\u96c6\u5408) \u63a8\u85a6\u4f7f\u7528","title":"\u6578\u64da\u5305\u7e3d\u89bd"},{"location":"hi229/hi229/#_22","text":"","title":"\u7522\u54c1\u652f\u63f4\u6578\u64da\u5305\u5217\u8868"},{"location":"hi229/hi229/#0x90id","text":"\u51712\u5b57\u7bc0\uff0c\u7528\u6236\u8a2d\u7f6e\u7684ID\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x90 1 uint8_t 1 - \u7528\u6236ID","title":"0x90(\u7528\u6236ID)"},{"location":"hi229/hi229/#0xa0","text":"\u51717 \u500b\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u52a0\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xA0 1 int16_t 2 0.001G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) X\u8ef8\u52a0\u901f\u5ea6 3 int16_t 2 0.001G Y\u8ef8\u52a0\u901f\u5ea6 5 int16_t 2 0.001G Z\u8ef8\u52a0\u901f\u5ea6","title":"0xA0(\u52a0\u901f\u5ea6)"},{"location":"hi229/hi229/#0xb0","text":"\u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u89d2\u901f\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64\uff1a0xB0 1 int16_t 2 0.1\u00b0/s X\u8ef8\u89d2\u901f\u5ea6 3 int16_t 2 0.1\u00b0/s Y\u8ef8\u89d2\u901f\u5ea6 5 int16_t 2 0.1\u00b0/s Z\u8ef8\u89d2\u901f\u5ea6","title":"0xB0(\u89d2\u901f\u5ea6)"},{"location":"hi229/hi229/#0xc0","text":"\u51717\u5b57\u7bc0\uff0cLSB\u3002\u8f38\u51fa\u611f\u6e2c\u5668\u7684\u539f\u59cb\u78c1\u5834\u5f37\u5ea6 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xC0 1 int16_t 2 0.001Gauss X\u8ef8\u78c1\u5834\u5f37\u5ea6 3 int16_t 2 0.001Gauss Y\u8ef8\u78c1\u5834\u5f37\u5ea6 5 int16_t 2 0.001Gauss Z\u8ef8\u78c1\u5834\u5f37\u5ea6","title":"0xC0(\u78c1\u5834\u5f37\u5ea6)"},{"location":"hi229/hi229/#0xd0","text":"\u51717\u5b57\u7bc0\uff0cLSB\u3002\u683c\u5f0f\u70baint16\uff0c\u5171\u4e09\u500b\u8ef8\uff0c\u6bcf\u500b\u8ef8\u53602 \u500b\u5b57\u7bc0\uff0c\u9806\u5e8f\u70baPitch/Roll/Yaw\u3002\u63a5\u6536\u5230Roll, Pitch \u70ba\u7269\u7406\u503c\u4e58\u4ee5100 \u5f8c\u5f97\u5230\u7684\u6578\u503c\uff0cYaw \u70ba\u4e58\u4ee510 \u5f97\u5230\u7684\u6578\u503c\u3002 \u4f8b\uff1a\u7576\u63a5\u6536\u5230\u7684Yaw = 100 \u6642\uff0c\u8868\u793a\u822a\u5411\u89d2\u70ba10\u00b0 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD0 1 int16_t 2 0.01\u00b0 Pitch(\u4fef\u4ef0\u89d2) 3 int16_t 2 0.01\u00b0 Roll(\u6a6b\u6efe\u89d2) 5 int16_t 2 0.1\u00b0 Yaw(\u822a\u5411\u89d2)","title":"0xD0(\u6b50\u62c9\u89d2)"},{"location":"hi229/hi229/#0xd1","text":"\u517117\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\uff0c\u51714\u500b\u503c\uff0c\u9806\u5e8f\u70ba:W X Y Z.\u3002\u6bcf\u500b\u503c\u53604 \u5b57\u7bc0(float)\uff0c\u6574\u500b\u56db\u5143\u6578\u70ba4\u500bfloat\uff0cLSB\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xD1 1 float 4 - W 5 float 4 - X 9 float 4 - Y 13 float 4 - Z","title":"0XD1(\u56db\u5143\u6578)"},{"location":"hi229/hi229/#0xf0","text":"\u51715\u5b57\u7bc0\uff0c\u683c\u5f0f\u70bafloat\u3002(\u53ea\u91dd\u5c0d\u6709\u6c23\u58d3\u611f\u6e2c\u5668\u7684\u7522\u54c1) \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0xF0 1 float 4 Pa \u5927\u6c23\u58d3","title":"0XF0(\u6c23\u58d3)"},{"location":"hi229/hi229/#0x91-imusol","text":"\u517176\u5b57\u7bc0\uff0c\u65b0\u52a0\u5165\u7684\u6578\u64da\u5305\uff0c\u7528\u65bc\u66ff\u4ee3A0,B0,C0,D0,D1\u7b49\u6578\u64da\u5305\u3002\u6574\u5408\u4e86IMU\u7684\u611f\u6e2c\u5668\u539f\u59cb\u8f38\u51fa\u548c\u59ff\u614b\u89e3\u7b97\u6578\u64da\u3002 \u5b57\u7bc0\u504f\u79fb \u985e\u578b \u5927\u5c0f \u55ae\u4f4d \u8aaa\u660e 0 uint8_t 1 - \u6578\u64da\u5305\u6a19\u7c64:0x91 1 uint8_t 1 - ID 2 - 6 - \u4fdd\u7559 8 uint32_t 4 ms \u6642\u9593\u6233\u8cc7\u8a0a\uff0c\u5f9e\u7cfb\u7d71\u958b\u6a5f\u958b\u59cb\u7d2f\u52a0\uff0c\u6bcf\u6beb\u79d2\u589e\u52a01 12 float 12 1G(1G = 1\u91cd\u529b\u52a0\u901f\u5ea6) X,Y,Z\u8ef8\u7684\u52a0\u901f\u5ea6\uff0c\u6ce8\u610f\u55ae\u4f4d\u548c0xA0\u4e0d\u540c 24 float 12 deg/s X,Y,Z\u8ef8\u7684\u89d2\u901f\u5ea6\uff0c\u6ce8\u610f\u55ae\u4f4d\u548c0xB0\u4e0d\u540c 36 float 12 uT X,Y,Z\u8ef8\u7684\u78c1\u5834\u5f37\u5ea6(HI229\u652f\u63f4,\u6ce8\u610f\u55ae\u4f4d\u548c0xC0\u4e0d\u540c) 48 float 12 deg \u7bc0\u9ede\u6b50\u62c9\u89d2\u96c6\u5408, \u9806\u5e8f\u70ba\uff1a\u6a6b\u6efe\u89d2(Roll)\uff0c\u4fef\u4ef0\u89d2(Pitch)\uff0c\u822a\u5411\u89d2(Yaw)(\u6ce8\u610f\u9806\u5e8f\u548c\u55ae\u4f4d\u82070xD0\u6578\u64da\u5305\u4e0d\u540c) 60 float 16 - \u7bc0\u9ede\u56db\u5143\u6578\u96c6\u5408,\u9806\u5e8f\u70baWXYZ","title":"0X91( IMUSOL)"},{"location":"hi229/hi229/#_23","text":"\u51fa\u5ee0\u9ed8\u8a8d\u4e00\u5e40\u4e2d\u651c\u5e36\u6578\u64da\u5305\u6578\u64da\u5b9a\u7fa9\u5982\u4e0b\uff1a \u7522\u54c1 \u9ed8\u8a8d\u8f38\u51fa\u6578\u64da\u5305 HI229 0x91","title":"\u51fa\u5ee0\u9ed8\u8a8d\u6578\u64da\u5305"},{"location":"hi229/hi229/#_24","text":"","title":"\u6578\u64da\u5e40\u7d50\u69cb\u793a\u4f8b"},{"location":"hi229/hi229/#0x900xa00xb00xc00xd00xf0","text":"\u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517141\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991835\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 23 00 FD 61 90 00 A0 55 02 3D 01 E2 02 B0 FE FF 17 00 44 00 C0 80 FF 60 FF 32 FF D0 64 F2 6C 0E BB 01 F0 00 00 00 00 \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 23 00 : (0x00<<8) + 0x23 = 35 \u5e40CRC\u6821\u9a57\u503c: FD 61 :(0x61<<8) + 0xFD = 0x61FD \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x61FD, \u8207\u5e40\u651c\u5e36\u7684CRC\u503c\u76f8\u540c, \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da 90 00 \uff1aID \u6578\u64da\u5305, 0x90\u70ba\u6578\u64da\u5305\u6a19\u7c64, ID = 0x00. A0 55 02 3D 01 E2 02 :\u52a0\u901f\u5ea6\u6578\u64da\u5305,0xA0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u52a0\u901f\u5ea6\u70ba\uff1a X\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0x55) = 597(\u55ae\u4f4d\u70bamG) Y\u8ef8\u52a0\u901f\u5ea6 = (int16_t)((0x01<<8)+ 0x3D) = 317 Z\u8ef8\u52a0\u901f\u5ea6= (int16_t)((0x02<<8)+ 0xE2) = 738 B0 FE FF 17 00 44 00 :\u89d2\u901f\u5ea6\u6578\u64da\u5305,0xB0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u89d2\u901f\u5ea6\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0xFE) = -2(\u55ae\u4f4d\u70ba0.1\u00b0/s) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0x00<<8)+ 0x17) = 23 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0x00<<8)+ 0x44) = 68 C0 80 FF 60 FF 32 FF :\u78c1\u5834\u6578\u64da\u5305,0xC0\u70ba\u6578\u64da\u5305\u6a19\u7c64\uff0c\u4e09\u8ef8\u78c1\u5834\u70ba\uff1a X\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x80) = -128 (\u55ae\u4f4d\u70ba0.001Gauss) Y\u8ef8\u89d2\u901f\u5ea6 = (int16_t)((0xFF<<8)+ 0x60) = -160 Z\u8ef8\u89d2\u901f\u5ea6= (int16_t)((0xFF<<8)+ 0x32) = -206 D0 64 F2 6C 0E BB 01 \u6b50\u62c9\u89d2\u6578\u64da\u5305, 0xD0\u70ba\u6578\u64da\u5305\u6a19\u7c64 Pitch= (int16_t)((0xF2<<8)+ 0x64) / 100 = -3484 / 100 = -34.84 \u00b0 Roll= (int16_t)((0x0E<<8)+ 0x6C) / 100 = 3692 / 100 = 36.92\u00b0 Yaw = (int16_t)((0x01<<8)+ 0xBB) / 10 = 443 /10 = 44.3\u00b0 F0 00 00 00 00 \u6c23\u58d3\u6578\u64da\u5305\uff0c0xF0\u70ba\u6578\u64da\u5305\u6a19\u7c64 float prs; prs = memcpy(&prs, &buf[37], 4); \u6700\u5f8c\u5f97\u5230\u7d50\u679c\uff1a id : 0 acc(G) : 0.597 0.317 0.738 gyr(deg/s) : -0.200 2.300 6.800 mag(uT) : -12.800 -16.000 -20.600 eul(R/P/Y) : 36.920 -34.840 44.300","title":"\u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x90,0xA0,0xB0,0xC0,0xD0,0xF0 \u6578\u64da\u5305"},{"location":"hi229/hi229/#0x91","text":"\u4f7f\u7528\u5e8f\u5217\u57e0\u52a9\u624b\u63a1\u6a23\u4e00\u5e40\u6578\u64da,\u517182\u5b57\u7bc0, \u524d6\u5b57\u7bc0\u70ba\u5e40\u982d, \u9577\u5ea6\u548cCRC\u6821\u9a57\u503c\u3002\u5269\u991876\u5b57\u7bc0\u70ba\u6578\u64da\u57df\u3002\u5047\u8a2d\u6578\u64da\u63a5\u6536\u5230C\u8a9e\u8a00\u9663\u5217 buf \u4e2d\u3002\u5982\u4e0b\u6240\u793a: 5A A5 4C 00 6C 51 91 00 A0 3B 01 A8 02 97 BD BB 04 00 9C A0 65 3E A2 26 45 3F 5C E7 30 3F E2 D4 5A C2 E5 9D A0 C1 EB 23 EE C2 78 77 99 41 AB AA D1 C1 AB 2A 0A C2 8D E1 42 42 8F 1D A8 C1 1E 0C 36 C2 E6 E5 5A 3F C1 94 9E 3E B8 C0 9E BE BE DF 8D BE \u7b2c\u4e00\u6b65\uff1a\u5224\u65b7\u5e40\u982d\uff0c\u5f97\u5230\u6578\u64da\u57df\u9577\u5ea6\u548c\u5e40CRC\uff1a \u5e40\u982d: 5A A5 \u5e40\u6578\u64da\u57df\u9577\u5ea6: 4C 00 : (0x00<<8) + 0x4C = 76 \u5e40CRC\u6821\u9a57\u503c: 6C 51 :(0x51<<8) + 0x6C = 0x516C \u7b2c\u4e8c\u6b65\uff1a \u6821\u9a57CRC uint16_t payload_len; uint16_t crc; crc = 0; payload_len = buf[2] + (buf[3] << 8); /* calulate 5A A5 and LEN filed crc */ crc16_update(&crc, buf, 4); /* calulate payload crc */ crc16_update(&crc, buf + 6, payload_len); \u5f97\u5230CRC\u503c\u70ba0x516C. \u5e40CRC\u6821\u9a57\u901a\u904e\u3002 \u7b2c\u4e09\u6b65\uff1a\u63a5\u6536\u6578\u64da \u5f9e 0x91 \u958b\u59cb\u70ba\u6578\u64da\u5305\u7684\u6578\u64da\u57df\u3002\u5728C\u8a9e\u8a00\u4e2d\u53ef\u4ee5\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u4f86\u65b9\u4fbf\u7684\u8b80\u53d6\u6578\u64da\uff1a \u5b9a\u7fa90x91\u6578\u64da\u5305\u7d50\u69cb\u9ad4\u5982\u4e0b\uff1a __packed typedef struct { uint8_t tag; /* data packet tag */ uint8_t id; uint8_t rev[6]; /* reserved */ uint32_t ts; /* timestamp */ float acc[3]; float gyr[3]; float mag[3]; float eul[3]; /* eular angles: Roll,Pitch,Yaw */ float quat[4]; /* quaternion */ }id0x91_t; __packed \u70ba\u7de8\u8b6f\u5668\u95dc\u9375\u5b57(Keil\u4e0b)\uff0c\u8868\u793a\u7d50\u69cb\u9ad4\u6309\u5b57\u7bc0\u7dca\u5c0d\u9f4a\uff0c\u7d50\u69cb\u9ad4\u6bcf\u4e00\u500b\u5143\u7d20\u4e00\u4e00\u5c0d\u61c90x91\u6578\u64da\u5305\u7684\u7d50\u69cb\u5b9a\u7fa9\u3002\u63a5\u6536\u6578\u64da\u6642\u5c07\u63a5\u6536\u5230\u7684\u9663\u5217\u76f4\u63a5memcpy\u5230\u7d50\u69cb\u9ad4\u5373\u53ef\uff1a(\u6ce8\u610f\u5b9a\u7fa9\u7d50\u69cb\u9ad4\u6642\u5fc5\u98084\u5b57\u7bc0\u5c0d\u9f4a), \u5176\u4e2d buf \u6307\u5411\u5e40\u982d, buf[6] \u6307\u5411\u5e40\u4e2d\u6578\u64da\u57df \u3002 /* \u63a5\u6536\u6578\u64da\u4e26\u4f7f\u75280x91\u6578\u64da\u5305\u7d50\u69cb\u5b9a\u7fa9\u4f86\u89e3\u91cb\u6578\u64da */ __align(4) id0x91_t dat; /* struct must be 4 byte aligned */ memcpy(&dat, &buf[6], sizeof(id0x91_t)); \u6700\u5f8c\u5f97\u5230dat\u6578\u64da\u7d50\u679c\uff1a id : 0 timestamp : 310205 acc : 0.224 0.770 0.691 gyr : -54.708 -20.077 -119.070 mag : 19.183 -26.208 -34.542 eul(R/P/Y) : 48.720 -21.014 -45.512 quat : 0.855 0.310 -0.310 -0.277","title":"\u6578\u64da\u5e40\u914d\u7f6e\u70ba 0x91 \u6578\u64da\u5305"},{"location":"hi229/hi229/#at","text":"\u7576\u4f7f\u7528\u5e8f\u5217\u57e0\u8207\u6a21\u7d44\u901a\u8a0a\u6642, \u6a21\u7d44\u652f\u63f4AT \u6307\u4ee4\u96c6\u914d\u7f6e/\u67e5\u770b\u6a21\u7d44\u53c3\u6578\u3002AT \u6307\u4ee4\u7e3d\u4ee5ASCII \u78bc AT \u958b\u982d\uff0c\u5f8c\u9762\u8ddf\u63a7\u5236\u5b57\u7b26\uff0c\u6700 \u5f8c\u4ee5\u56de\u8eca\u63db\u884c \\r\\n \u7d50\u675f\u3002\u53ef\u4f7f\u7528\u5e8f\u5217\u57e0\u8abf\u8a66\u52a9\u624b\u9032\u884c\u6e2c\u8a66\uff1a \u901a\u7528\u6a21\u7d44 AT\u6307\u4ee4\u5982\u4e0b \u6307\u4ee4 \u529f\u80fd \u6389\u96fb\u4fdd\u5b58(Y) \u7acb\u5373\u751f\u6548(Y),\u5fa9\u4f4d\u751f\u6548(R) \u5099\u8a3b AT+ID \u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID Y R AT+INFO \u6253\u5370\u6a21\u7d44\u8cc7\u8a0a N Y AT+ODR \u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u983b\u7387 Y R AT+BAUD \u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387 Y R AT+EOUT \u6578\u64da\u8f38\u51fa\u958b\u95dc N Y AT+RST \u5fa9\u4f4d\u6a21\u7d44 N Y \u91cd\u555f\u6a21\u7d44 AT+TRG \u55ae\u6b21\u8f38\u51fa\u89f8\u767c N Y AT+SETPTL \u8a2d\u7f6e\u8f38\u51fa\u6578\u64da\u5305 Y Y AT+MODE \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f Y R AT+GWID \u8a2d\u7f6e\u7121\u7dda\u63a5\u6536\u6a5fID Y R \u4e0d\u652f\u63f4","title":"AT\u6307\u4ee4"},{"location":"hi229/hi229/#atid","text":"\u8a2d\u7f6e\u6a21\u7d44\u7528\u6236ID \u4f8b AT+ID=1","title":"AT+ID"},{"location":"hi229/hi229/#atinfo","text":"\u6253\u5370\u6a21\u7d44\u8cc7\u8a0a\uff0c\u5305\u62ec\u7522\u54c1\u578b\u865f\uff0c\u7248\u672c\uff0c\u97cc\u9ad4\u767c\u4f48\u65e5\u671f\u7b49\u3002","title":"AT+INFO"},{"location":"hi229/hi229/#atodr","text":"\u8a2d\u7f6e\u6a21\u7d44\u5e8f\u5217\u57e0\u8f38\u51fa\u5e40\u7387\u3002\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548 \u4f8b \u8a2d\u7f6e\u5e8f\u5217\u57e0\u8f38\u51fa\u901f\u7387\u70ba100Hz: AT+ODR=100 \u6ce8\u610f\uff1a\u7576\u8f38\u51fa\u5e40\u7387\u8a2d\u7f6e\u6bd4\u8f03\u9ad8\u6642(\u5982200),\u9ed8\u8a8d\u7684115200\u9b91\u7387\u53ef\u80fd\u4e0d\u6eff\u8db3\u8f38\u51fa\u983b\u5bec\u8981\u6c42\uff0c\u6b64\u6642\u9700\u8981\u5c07\u6a21\u7d44\u9b91\u7387\u8a2d\u9ad8(\u5982921600)\u5f8c\uff0c\u6a21\u7d44\u624d\u80fd\u7a69\u5b9a\u8f38\u51fa\u9ad8\u5e40\u7387\u3002","title":"AT+ODR"},{"location":"hi229/hi229/#atbaud","text":"\u8a2d\u7f6e\u5e8f\u5217\u57e0\u9b91\u7387\uff0c\u53ef\u9078\u503c\uff1a 9600/115200/460800/921600 \u4f8b AT+BAUD=115200 \u6ce8\u610f \u4f7f\u7528\u6b64\u6307\u4ee4\u9700\u8981\u7279\u5225\u6ce8\u610f\uff0c\u8f38\u5165\u932f\u8aa4\u9b91\u7387\u5f8c\u6703\u5c0e\u81f4\u7121\u6cd5\u548c\u6a21\u7d44\u901a\u8a0a \u9b91\u7387\u53c3\u6578\u8a2d\u7f6e\u597d\u5f8c\u6389\u96fb\u4fdd\u5b58\uff0c\u5fa9\u4f4d\u6a21\u7d44\u751f\u6548\u3002 CH-Center \u8edf\u9ad4\u7684\u9b91\u7387\u4e5f\u8981\u505a\u76f8\u61c9\u4fee\u6539\u3002 \u5347\u7d1a\u97cc\u9ad4\u6642\uff0c\u9700\u8981\u5207\u63db\u56de115200 \u9b91\u7387\u3002","title":"AT+BAUD"},{"location":"hi229/hi229/#ateout","text":"\u5e8f\u5217\u57e0\u8f38\u51fa\u958b\u95dc \u4f8b \u6253\u958b\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=1 \u95dc\u9589\u5e8f\u5217\u57e0\u8f38\u51fa AT+EOUT=0","title":"AT+EOUT"},{"location":"hi229/hi229/#atrst","text":"\u5fa9\u4f4d\u6a21\u7d44 \u4f8b AT+RST","title":"AT+RST"},{"location":"hi229/hi229/#atmode","text":"\u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u6a21\u5f0f \u4f8b \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u57286\u8ef8\u6a21\u5f0f(\u7121\u78c1\u6821\u6e96) AT+MODE=0 \u8a2d\u7f6e\u6a21\u7d44\u5de5\u4f5c\u57289\u8ef8\u6a21\u5f0f(\u5730\u78c1\u5834\u611f\u6e2c\u5668\u53c3\u8207\u822a\u5411\u89d2\u6821\u6b63) AT+MODE=1","title":"AT+MODE"},{"location":"hi229/hi229/#atsetptl","text":"\u8a2d\u7f6e\u8f38\u51fa\u5354\u8b70: \u6a21\u7d44\u6578\u64da\u5e40\u4e2d\u7684\u6578\u64da\u5305\u7d44\u6210\u53ef\u4f7f\u7528AT\u6307\u4ee4\u914d\u7f6e\uff0c\u683c\u5f0f\u70ba AT+SETPTL=<ITEM_ID>,<ITEM_ID>... \u4f8b \u914d\u7f6e\u6a21\u7d44\u8f38\u51fa\u52a0\u901f\u5ea6\uff0c\u89d2\u901f\u5ea6, \u6574\u5f62\u683c\u5f0f\u6b50\u62c9\u89d2\u548c\u56db\u5143\u6578\u7684\u6307\u4ee4\u70ba\uff1a AT+SETPTL=A0,B0,D0,D1","title":"AT+SETPTL"},{"location":"hi229/hi229/#attrg","text":"\u89f8\u767c\u6a21\u7d44\u8f38\u51fa\u4e00\u5e40\u6578\u64da\uff0c\u53ef\u4ee5\u914d\u5408AT+ODR=0\u4f86\u5be6\u73fe\u55ae\u6b21\u89f8\u767c\u8f38\u51fa\u3002 \u4f8b AT+TRG","title":"AT+TRG"},{"location":"hi229/hi229/#a-","text":"","title":"\u9644\u9304A - \u8a55\u4f30\u677f"},{"location":"hi229/hi229/#_25","text":"\u8a55\u4f30\u677f\u63d0\u4f9b\u4e86\u5feb\u901f\u8a55\u4f30\u672c\u7522\u54c1\u7684\u65b9\u6cd5\u3002\u677f\u8f09USB-UART\u82af\u7247(CP2104)\u4ee5\u53ca\u4f9b\u96fbLDO\uff0c\u4e26\u5c07\u6a21\u7d44\u63a5\u53e3\u5f15\u51fa\u65b9\u4fbf\u8abf\u8a66\u8a55\u4f30\u3002 \u5b89\u88dd\u8cc7\u6599\u5305\u4e2d\u7684CP2104 USB-UART \u9a45\u52d5\u7a0b\u5e8f, \u5c07USB\u7dda\u9023\u63a5\u96fb\u8166\u548c\u6a21\u7d44\uff0c\u6253\u958b CH-Center \u8edf\u9ad4\uff0c\u9023\u63a5\u5e8f\u5217\u57e0\uff0c\u9ed8\u8a8d\u72c0\u614b\u4e0b\uff0c\u6a21\u7d44\u6703\u4ee5115200-N-8-N-1 \u8f38\u51fa\u51fa\u5ee0\u9ed8\u8a8d\u7684\u6578\u64da\u5305\u3002","title":"\u8a55\u4f30\u677f\u7c21\u4ecb"},{"location":"hi229/hi229/#_26","text":"","title":"\u5c3a\u5bf8"},{"location":"hi229/hi229/#_27","text":"\u6a21\u7d44\u9ed8\u8a8d\u88ab\u5d4c\u5165\u8a55\u4f30\u677f\u7684PLCC28 \u63d2\u69fd\u4e2d\uff0c\u5982\u9700\u53d6\u51fa\u6a21\u7d44\uff0c\u8acb\u6309\u5982\u4e0b\u6b65\u9a5f\u64cd\u4f5c\uff1a - \u65b7\u96fb\uff0c\u6e96\u5099\u597d\u7d30\u87ba\u7d72\u5200\u6216\u9477\u5b50 - \u5f9ePLCC \u63d2\u5ea7\u6216\u8005\u80cc\u9762\u5713\u5f62\u7a7a\u6d1e\u5167\u5c07\u6a21\u7d44\u64ac\u51fa\u6216\u9802\u51fa\u3002 \u6ce8\u610f \u8a55\u4f30\u677f\u7684\u4e3b\u8981\u4f5c\u7528\u50c5\u50c5\u662f\u5feb\u901f\u8a55\u4f30\u6a21\u7d44\u6027\u80fd, USB \u63a5\u53e3\u672c\u8eab\u4e0d\u9069\u5408\u65bc\u5de5\u696d\u7d1a\u5834\u666f\u6216\u8005\u9ad8\u904b\u52d5\u5834\u5408\u7684\u96fb\u6c23\u9023\u63a5\uff0c\u5982\u679c\u60a8\u7684\u61c9\u7528\u70ba\u9ad8\u904b\u52d5\u74b0\u5883(\u52d5\u4f5c\u6355\u6349\u7b49)\uff0c\u5247\u4e0d\u5efa\u8b70\u5728\u60a8\u7684\u7522\u54c1\u4e2d\u76f4\u63a5\u4f7f\u7528\u8a55\u4f30\u677f\u3002","title":"\u5f9e\u8a55\u4f30\u677f\u4e0a\u53d6\u4e0b\u7522\u54c1"},{"location":"hi229/hi229/#b-","text":"\u672c\u7522\u54c1\u652f\u63f4\u5347\u7d1a\u97cc\u9ad4\u3002 \u97cc\u9ad4\u5347\u7d1a\u6b65\u9a5f: \u9023\u63a5\u6a21\u7d44\uff0c\u6253\u958b CH-Center \u8edf\u9ad4\uff0c\u5c07\u6a21\u7d44\u548c CH-Center \u8edf\u9ad4\u9b91\u7387\u90fd\u8a2d\u7f6e\u70ba115200. \u6253\u958b\u97cc\u9ad4\u5347\u7d1a\u7a97\u53e3 \u9ede\u64ca\"\u9023\u63a5\"\uff0c\u5982\u51fa\u73fe\u6a21\u7d44\u9023\u63a5\u8cc7\u8a0a\u3002\u5247\u8aaa\u660e\u5347\u7d1a\u7cfb\u7d71\u6e96\u5099\u5c31\u7dd2\uff0c\u9ede\u64ca\u6587\u4ef6\u9078\u64c7\u5668(\u2026)\u9078\u64c7\u526f\u6a94\u540d\u70ba.hex \u7684\u97cc\u9ad4 \u9ede\u64ca\"\u958b\u59cb\u7de8\u7a0b\"\u3002\u4e0b\u8f09\u5b8c\u6210\u5f8c\u6703\u63d0\u793a\u7de8\u7a0b\u5b8c\u6210\uff0c\u6b64\u6642\u95dc\u9589\u5e8f\u5217\u57e0\uff0c\u91cd\u65b0\u7d66\u6a21\u7d44\u4e0a\u96fb\uff0c\u6a21\u7d44\u5347\u7d1a\u5b8c\u6210\u3002","title":"\u9644\u9304B - \u97cc\u9ad4\u5347\u7d1a\u8207\u6062\u5fa9\u51fa\u5ee0\u8a2d\u7f6e"}]}