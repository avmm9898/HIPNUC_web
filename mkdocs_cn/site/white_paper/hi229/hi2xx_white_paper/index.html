<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link href=http://www.hipnuc.com/index_cn.html/white_paper/hi229/hi2xx_white_paper/ rel=canonical><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.6.2"><title>HI226/HI229白皮书 - HiPNUC 文件中心</title><link rel=stylesheet href=../../../assets/stylesheets/application.adb8469c.css><link rel=stylesheet href=../../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content><script src=../../../assets/javascripts/modernizr.86422ebf.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../../assets/fonts/material-icons.css></head> <body dir=ltr data-md-color-primary=black data-md-color-accent=black> <svg class=md-svg> <defs> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#hi226hi229 tabindex=0 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=http://www.hipnuc.com/index_cn.html title="HiPNUC 文件中心" aria-label="HiPNUC 文件中心" class="md-header-nav__button md-logo"> <i class=md-icon>home</i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> HiPNUC 文件中心 </span> <span class=md-header-nav__topic> HI226/HI229白皮书 </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input aria-label=search name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=http://www.hipnuc.com/index_cn.html title="HiPNUC 文件中心" class="md-nav__button md-logo"> <i class=md-icon>home</i> </a> HiPNUC 文件中心 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> 文档中心 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-1> 文档中心 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. title=文档中心 class=md-nav__link> 文档中心 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> 产品手册 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> 产品手册 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../hi229/hi229um_cn/ title=HI226/HI229 class=md-nav__link> HI226/HI229 </a> </li> <li class=md-nav__item> <a href=../../../hi221/hi221um_cn/ title=HI221 class=md-nav__link> HI221 </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> 简介 </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> 术语 </a> </li> <li class=md-nav__item> <a href=#imu class=md-nav__link> IMU性能指标及误差源 </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=hi226hi229>HI226/HI229白皮书</h1> <p><p style="text-align: right;">IMU/VRU/AHRS姿态测量模块, Rev A0</p> <p><img alt src=../figures/hi229.png></p> <div class=toc> <ul> <li><a href=#hi226hi229>HI226/HI229白皮书</a><ul> <li><a href=#_1>简介</a></li> <li><a href=#_2>术语</a></li> <li><a href=#imu>IMU性能指标及误差源</a></li> </ul> </li> </ul> </div> <hr> <h2 id=_1>简介</h2> <p>随着科技的进步，导航的方案也层出不穷，尤其是SLAM技术极大的促进了导航方案在机器人、无人驾驶等领域的发展，绝大多数导航方案都会使用惯性测量单元（IMU）来融合其他传感器来实现更加精确的导航。然而在体积、成本、性能、功耗等诸多因素的限制下，如何选择一款适合客户应用的姿态传感器便成了客户最大的难点。</p> <p>HI2XX系列姿态模块是综合了体积、成本、性能、功耗等诸多因素后推出的工业级姿态传感器，这篇文章旨在帮助设计人员理解IMU的基础知识及相关应用，并为用户提供选择方案。</p> <h2 id=_2>术语</h2> <ul> <li> <p>IMU 惯性测量单元(Inertial Measurement Unit) 是测量物体三轴角速度和加速度的设备。一个IMU内可能会装有三轴陀螺仪和三轴加速度计，来测量物体在三维空间中的角速度和加速度。严格意义上的IMU只为用户提供三轴角速度以及三轴加速度数据。</p> </li> <li> <p>VRU 垂直参考单元(Vertical Reference Unit)是在IMU的基础上，以重力向量作为参考，用卡尔曼或者互补滤波等算法为用户提供有重力向量参考的俯仰角、横滚角以及无参考标准的航向角。通常所说的6轴姿态模块就属于这类系统。航向角没有参考，不管模块朝向哪里，启动后航向角都为0°(或一个设定的常数)。随着模块工作时间增加，航向角会缓慢累计误差。俯仰角，横滚角由于有重力向量参考，低机动运动情况下，长时间不会有累积误差。</p> </li> <li> <p>AHRS 航姿参考系统(Attitude and Heading Reference System)AHRS系统是在VRU的基础上增加了磁力计或光流传感器，用卡尔曼或者互补滤波等算法为用户提供拥有绝对参考的俯仰角、横滚角以及航向角的设备，这类系统用来为飞行器提供准确可靠的姿态与航行信息。我们通常所说的9轴姿态传感器就属于这类系统，因为航向角有地磁场的参考，所以不会漂移。但地磁场很微弱，经常受到周围带磁物体的干扰，所以如何在高机动情况下抵抗各种磁干扰成为AHRS研究的热门。</p> </li> <li> <p>GNSS/INS 这是一种组合导航系统，顾名思义这种系统是利用全球卫星导航系统(Global Navigation Satellite System 简称GNSS，它是GPS，北斗，GLONASS、GALILEO等系统的统称) 与惯性导航(Inertial Navigation System)各自的优势进行算法融合，为用户提供更加精准的姿态及位置信息。</p> </li> </ul> <p>下图是组合导航系统的一个基本的框图，它以加速度计、陀螺仪、磁力计、气压计、GNSS等作为基本输入，利用融合算法输出用户所需要的姿态信息、位置信息以及速度信息。</p> <p><img alt src=../figures/GNSS_INS.png></p> <p>HI2XX系列传感器包含HI226和HI229，其中HI226是VRU，HI229是AHRS。它们都是工业级姿态传感器。</p> <ul> <li> <p>关于几轴</p> <p>我们生活在三维世界，人们理所当然的认为只有三个轴。那么为什么会出来6轴，9轴以及10轴？在这里我们不能简单地把6轴，9轴向物理世界对应: 它实际的意思是表示N种测量值。一个典型的姿态测量系统可以测得加速度和角速度，总共是6维向量，这是我们通常所说的6轴IMU，除此之外系统还可能包括三维的地磁场以及一维的气压计，就成了我们通常称的9轴和10轴系统。</p> <p>自由度(Degree of Freedom, DoF) : 6DoF，9DoF也是经常听到的说法。空间中的刚体只有平移和旋转。其中平移三个自由度，旋转三个自由度，因此用9Dof与10Dof来描述姿态系统实际上是不恰当的，但是厂商依然会用9DoF，10DoF来描述系统，我们理解就可以，不必过于深究。</p> </li> </ul> <p>HI226与HI229分别属于6轴姿态传感器与9轴姿态传感器。</p> <p>下表为HI2XX系列的产品特性总结： <br> <img alt src=../figures/hi226_hi229.png></p> <table> <thead> <tr> <th align=left>描述</th> <th align=center>HI226</th> <th align=center>HI229</th> </tr> </thead> <tbody> <tr> <td align=left>IMU</td> <td align=center>●</td> <td align=center>●</td> </tr> <tr> <td align=left>VRU</td> <td align=center>●</td> <td align=center>●</td> </tr> <tr> <td align=left>AHRS</td> <td align=center>­­-</td> <td align=center>●</td> </tr> </tbody> </table> <h2 id=imu>IMU性能指标及误差源</h2> <ul> <li> <p>量程(Range)</p> <p>它指的是IMU可以测量的加速度角速度的范围，意味着只要传感器运动范围如果不超过IMU的量程，那么便可以提供准确的数据，通常角速度的单位是 °/s，加速度单位是g。正常情况下, 机器人和无人驾驶角速度一般不会超过200 °/s，加速度不会超过4g，但是大量程可以在产品使用的过程中经受偶发性冲击，鲁棒性好。</p> </li> <li> <p>随机游走(Random Walk)</p> <p>IMU系统通过对角速度与角加速度积分来获得姿态角与速度，但是原始测量值中含有噪声，这些噪声被积分后便形成了随机游走，并随着时间的平方根变化而变化。角度随机游走（ARW）的单位是$ °/sqrt(hr)<span><span class=MathJax_Preview>,速度随机游走噪声（VRW）的单位是</span><script type=math/tex>,速度随机游走噪声（VRW）的单位是</script></span>m/s/ sqrt(hr)$。</p> </li> <li> <p>噪声频谱密度(Noise Spectral Density)</p> <p>它体现了在输出带宽内，频率对噪声的影响。角速度的噪声频谱密度单位是<span><span class=MathJax_Preview>°/s/√Hz</span><script type=math/tex>°/s/√Hz</script></span>，加速度的噪声频谱密度是<span><span class=MathJax_Preview>g/√Hz</span><script type=math/tex>g/√Hz</script></span>。</p> </li> <li> <p>零偏(Bias)</p> <p>当IMU保持静止时, 它依然会有一个很小输出，这个输出的数值就是零偏。它会受到IMU的上电状态、温度、内部结构等因素影响，比如陀螺仪理论上静止时应该是0°/s，实际上陀螺仪静止的输出是一个均值不为零的噪声。</p> </li> <li> <p>零偏稳定性(Bias Stability/In-run bias )</p> <p>这是评价低成本IMU非常重要的性能指标，它可以被定义为IMU相对于其输出速率平均值的偏差或漂移量。陀螺仪零偏稳定性的单位是$ °/h<span><span class=MathJax_Preview>，加速度计的零偏稳定性单位是</span><script type=math/tex>，加速度计的零偏稳定性单位是</script></span>g/h$。</p> </li> <li> <p>比例因子(Scale Factor)</p> </li> </ul> <p>比例因子描述了输入与输出的相关性，比如载体实际旋转的角速度是100 °/s，但是陀螺仪输出的确是98°/s，真实值和测量值之间受到了比例的影响，可以被描述为下公式：</p> <p>$$ y=SF(x)+b+v $$</p> <p>其中y为传输器输出，x为真实值，SF为比例因子，b为零篇，v为传感器噪声。</p> <ul> <li> <p>非线性度(Nonlinearity)</p> <p>也叫做比例因子的高次性。比例因子实际上不是常量。它本身还会随着加速度或角速度的变化而变化(一般变化程度很小)，非线性度越小越好。</p> </li> <li> <p>非正交性(Misalignment)</p> <p>在理想的情况下，坐标系的轴与轴之间是绝对正交的，但是现实情况下IMU的坐标轴之间却不是完全正交的。这个指标会对剧烈无规则高机动运动产生很大的影响。</p> </li> <li> <p>加计敏感度(G- Sensitivity)</p> <p>陀螺仪是感应角速度的器件，但也会受到加速度的影响。这是微机电陀螺仪最常见的现象。</p> </li> </ul> <p>并不是上述所有误差源都会对系统造成很严重的影响，通常每种应用对应着不同的典型工作环境。但是了解哪些误差源在哪些工况下对系统的影响大才有可能在系统设计阶段尽量减小误差。一般来讲，零偏，比例因子，非正交性可以通过出厂前校准得到改善。而零偏稳定性，噪声和非线性度对校准后的IMU使用影响比较大。除此之外，温度对系统影响也很大，但是鉴于高性价比的一般中低端IMU受温度影响的特性非常复杂，批量级温度补偿对于中低端工业级IMU来说还是一个挑战。总结一下：影响IMU性能的主要因素如下图所示：</p> <p><img alt src=../figures/imu_noise.png></p> <p>针对上述误差，我们专门为HI2XX系列定制了批量校准设备，出厂之前每一颗都经过了严格的校准，校准之后各方面指标如下：</p> <table> <tr align=center> <td rowspan=2>指标</td> <td colspan=2>陀螺仪</td> <td colspan=2>加速度计</td> <td colspan=2>磁力计</td> </tr> <tr align=center> <td>Typical</td> <td>Max</td> <td>Typical</td> <td>Max</td> <td>Typical</td> <td>Max</td> </tr> <tr align=center> <td>量程</td> <td>±2000°/s</td> <td>-</td> <td>±8g</td> <td>-</td> <td>±2Gauss</td> <td>-</td> </tr> <tr align=center> <td>零偏稳定性</td> <td>10°/h</td> <td>15°/h</td> <td>0.02mg</td> <td>0.04mg</td> <td>-</td> <td>-</td> </tr> <tr align=center> <td>温度对零偏的影响</td> <td>-</td> <td>±0.015 °/s/K</td> <td>-</td> <td>±1mg/K</td> <td>-</td> <td>-</td> </tr> <tr align=center> <td>噪声频谱密度</td> <td>0.014°/s/√Hz</td> <td>-</td> <td>150ug/√Hz</td> <td>-</td> <td>-</td> <td>-</td> </tr> <tr align=center> <td>比例因子</td> <td>0.1%</td> <td>0.27%</td> <td>1%</td> <td>2%</td> <td>-</td> <td>-</td> </tr> <tr align=center> <td>非线性度</td> <td>0.05%FS</td> <td>-</td> <td>0.5%FS</td> <td>-</td> <td>0.1%FS</td> <td>-</td> </tr> </tr> <tr align=center> <td>非正交性</td> <td>0.5%</td> <td>1%</td> <td>0.5%</td> <td>1%</td> <td>0.3%</td> <td>-</td> </tr> </tr> <tr align=center> <td>加速度影响</td> <td>0.1°/s/g</td> <td>-</td> <td>-</td> <td>-</td> <td>-</td> <td>-</td> </tr> 精度指标如下表： | 指标 | HI226 | HI229 | | -------------------- | ------------ | -------------- | | 静态精度（俯仰横滚） | 0.8°RMS | 0.8°RMS | | 静态精度（航向角） | 无参考标准 | 3°（地磁辅助） | | 动态精度（俯仰横滚） | 2.5°RMS | 2.5°RMS | | 动态精度（航向角） | 0°-0.25°/min | 无漂移 | 物理尺寸以及电气特性如下表所示： | 指标 | 描述 | | ------------ | ------------------------------------- | | 尺寸 | 12mmX12mmX2.6mm | | 重量 | 0.6g | | 供电电压 | 3.0V-3.6V | | 功耗 | 86mW@3.3V | | 输出速率 | 最高500Hz（支持同步输入以及同步输出） | | 数据输出接口 | 串口（CMOS兼容TTL） | ## 应用场景 * 航模稳定控制 在操作航模时，通常要求航模操作者有较高的技术水平，来保证航模的飞行姿态的稳定，这使得航模的技术入门门槛较高，若将该设备安装到航模上，配合简单的运动执行算法，能很好的保证航模的稳定性，大大降低航模姿态抖动的风险，降低操作门槛。另外，在航模比赛中，一个响尾蛇动作通常要求很高的操作技术，若将AHRS 技术运用在航模的动作当中，通过简单的编程，就能很容易的实现这些高难度动作。 * 云台稳定控制 在很多运用中，都需要用云台来保证云台上设备的平稳，AHRS 与云台的配合使用，大大降低稳定云台开发难度，高响应频率和高角速度测量范围，很好的满足云台控制的各种需求。 * 游戏机 任天堂的wii 是一个很好的运动游戏机使用AHRS 的典范。在游戏机中嵌入AHRS，能很理想的实现运动游戏效果，AHRS能大大降低对运动游戏手柄开发的难度，小巧的体积便于植入。 * 虚拟现实 为了更好的展示自己的产品，商家通常需要在大屏幕上投影一个产品3D 模型，鼠标的二维运动局限了它不能快捷方便的向客户展示该产品的各个角度，通过与AHRS 的结合开发，展商能直观的通过运动手上的AHRS，迅速的向客户展示客户关心的角度，通过和客户的互动，达到良好的展示效果。 FPV(First Person View)第一人称视角 FPV 作为现在流行的娱乐方式，正越来越多的被人们所接受，传统的FPV 上只有当前位置坐标等参数显示，结合AHRS 后的FPV，让你犹如驾驶空军战机那样了解自己当前的姿态，航向，准确的调整自己的姿态。 * 人体运动检测 当我们需要对某人的运动姿势进行评估时，我们需要的到肢体的运动数据，将AHRS 与肢体捆绑在一起，即可快速的让你得到其肢体的运动数据，包括加速度，角速度，姿态数据，将这些数据记录下来，再到后台进行处理，能很快的分析出运动员的动作是否规范。 * 导航 很多应用场景都需要监测位置以及方向，比如无人驾驶汽车、移动机器人、无人船等，HI226最典型的应用就是移动机器人，比如扫地机器人，送餐机器人，大型商用机器人。性能优异的IMU有助于机器人用户降低激光雷达成本，缩短开发时间，下图是某机器人公司利用HI226以及低成本激光雷达做的导航方案效果图。下表为HI226融合低成本激光雷达效果图。 | 扫地机实验 | 初始航向角(°) | 结束清扫时航向角(°) | | ---------- | ------------- | ------------------- | | 第一次 | -0.10 | -4.09 | | 第二次 | -0.11 | -2.62 | | 第三次 | -0.07 | 1.30 | ![](figures/rvc_example.png) * 控制 很多应用场景会用到IMU的原始加速度与角速度数据，而对缓慢的航向漂移不敏感，可以接受一些噪声以及误差。这些应用包括：摄像机稳台、云台、关节的动作捕捉、体育训练等，这些领域对于IMU的要求必须是低成本的。HI226低延时与高速率特性可以很好的与这些场合相结合。 ## 总结 ​ 本文章结合一些理论知识和超核开发IMU的经验，向用户介绍了HI2XX系列，为用户在研发选型过程中提供一种选择，HI2XX系列的主要优势在于低成本，低噪声、低漂移、高速率输出。除此之外HI2XX系列还提供了一些附加功能，比如更改数据输出格式，更改输出速率和同步触发等。我们后期还会为HI2XX系列加入更多功能，欢迎关注我们的网站及更新文档: http://www.hipnuc.com/ </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2016 - 2020 HiPNUC </div> powered by <a href=https://www.mkdocs.org target=_blank rel=noopener>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs</a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/application.c33a9706.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script> <script src=../../../extra.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>